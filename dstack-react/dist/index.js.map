{"version":3,"file":"index.js","sources":["../src/AppStore/actionsTypes.js","../src/AppStore/index.js","../src/config/index.js","../src/apiFabric/index.js","../src/AccessForbidden/index.js","../src/Avatar/index.js","../src/BackButton/index.js","../src/Spinner/index.js","../src/Button/index.js","../src/CheckboxField/index.js","../src/Copy/index.js","../src/CodeViewer/index.js","../src/Dropdown/index.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/parseStackParams.js","../src/utils/parseStackTabs.js","../src/utils/getFormattedDuration.js","../src/utils/getStackCategory.js","../src/utils/fileToBaseTo64.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/utils/dataFetcher.js","../src/utils/parseStackViews.js","../src/utils.js","../src/FileDragnDrop/index.js","../src/Loader/index.js","../src/MarkdownRender/index.js","../src/Modal/index.js","../src/NotFound/index.js","../src/hooks/usePrevious.js","../src/ProgressBar/index.js","../src/TextField/index.js","../src/SearchField/index.js","../src/SelectField/index.js","../src/SliderField/index.js","../src/StackFilters/index.js","../src/StretchTitleField/index.js","../src/kit/StretchTextareaField/index.js","../src/Tabs/index.js","../src/TextAreaField/index.js","../src/Tooltip/index.js","../src/ViewSwitcher/index.js","../src/Yield/index.js","../src/stack/Attachment/View/Table/index.js","../src/stack/Attachment/utils.js","../src/stack/Attachment/View/index.js","../src/hooks/useIntersectionObserver.js","../src/stack/Attachment/actionsTypes.js","../src/stack/Attachment/store.js","../src/stack/Attachment/actions.js","../src/stack/Attachment/index.js","../src/PermissionUsers/index.js","../src/stack/ListItem/index.js","../src/hooks/useListViewSwitcher.js","../src/stack/Details/components/Tabs/index.js","../src/routes.js","../src/stack/List/index.js","../src/stack/HowToFetchData/index.js","../src/hooks/useOnClickOutside.js","../src/stack/Frames/index.js","../src/hooks/useDebounce.js","../src/validations/index.js","../src/Share/actions.js","../src/Share/index.js","../src/stack/Details/components/Loader/index.js","../src/stack/Details/components/Readme/index.js","../src/hooks/useForm.js","../src/stack/Details/index.js","../src/stack/DetailsApp/components/Loader/index.js","../src/stack/DetailsApp/components/Progress/index.js","../src/stack/actions.js","../src/stack/DetailsApp/index.js","../src/stack/Upload/index.js","../src/stack/UploadStack/Upload/index.js","../src/stack/UploadStack/index.js","../src/Jobs/actions.js","../src/Jobs/List/components/Loader/index.js","../src/Jobs/utils.js","../src/Jobs/Details/components/Progress/index.js","../src/Jobs/List/components/TableRow/index.js","../src/Jobs/List/index.js","../src/hooks/useAppProgress.js","../src/Jobs/Details/components/ScheduleSettings/index.js","../src/Jobs/Details/components/CodeEditor/index.js","../src/Jobs/Details/components/Status/index.js","../src/Jobs/Details/components/Logs/index.js","../src/Jobs/Details/components/Loader/index.js","../src/Jobs/Details/index.js","../src/Jobs/index.js","../src/Reports/ListItem/index.js","../src/Reports/List/components/Loader/index.js","../src/Reports/actions.js","../src/Reports/List/index.js","../src/Reports/Details/components/Loader/index.js","../src/dnd/DnDGridContext/index.js","../src/Reports/AddStacksModal/Loader/index.js","../src/Reports/AddStacksModal/index.js","../src/Reports/Details/components/Card/index.js","../src/dnd/DnDItem/index.js","../src/Reports/Details/index.js","../src/Reports/index.js","../src/layouts/UnAuthorized/Header/index.js","../src/layouts/UnAuthorized/index.js","../src/settings/Information/index.js"],"sourcesContent":["export default {\n    FETCH_CURRENT_USER: 'app/user/FETCH',\n    FETCH_CURRENT_USER_SUCCESS: 'app/user/FETCH_SUCCESS',\n    FETCH_CURRENT_USER_FAIL: 'app/user/FETCH_FAIL',\n\n    FETCH_CONFIG_INFO: 'app/config/FETCH',\n    FETCH_CONFIG_INFO_SUCCESS: 'app/config/FETCH_SUCCESS',\n    FETCH_CONFIG_INFO_FAIL: 'app/config/FETCH_FAIL',\n\n    START_PROGRESS: 'app/START_PROGRESS',\n    SET_PROGRESS: 'app/SET_PROGRESS',\n    COMPLETE_PROGRESS: 'app/COMPLETE_PROGRESS',\n    RESET_PROGRESS: 'app/RESET_PROGRESS',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nexport {default as actionsTypes} from './actionsTypes';\n\nconst initialState = {\n    currentUser: {\n        loading: false,\n        data: null,\n    },\n    configInfo: {\n        loading: false,\n        data: null,\n    },\n    appProgress: {\n        active: null,\n        value: null,\n    },\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH_CURRENT_USER):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: true,\n                },\n            };\n\n        case (actionsTypes.FETCH_CURRENT_USER_SUCCESS):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    data: action.payload,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.FETCH_CURRENT_USER_FAIL):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: false,\n                },\n            };\n\n\n        case (actionsTypes.FETCH_CONFIG_INFO):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    loading: true,\n                },\n            };\n\n        case (actionsTypes.FETCH_CONFIG_INFO_SUCCESS):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    data: action.payload,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.FETCH_CONFIG_INFO_FAIL):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    loading: false,\n                },\n            };\n\n\n        case (actionsTypes.START_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: true,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.SET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    value: action.payload,\n                },\n            };\n\n        case (actionsTypes.COMPLETE_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: false,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.RESET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: null,\n                    value: null,\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const AppStoreProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useAppStore = () => useContext(StateContext);\n","export default {\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n    SUPPORT_URL: '/support/submit',\n    SIGN_UP_URL: '/users/register',\n    RESET_PASSWORD_URL: '/users/reset',\n    UPDATE_PASSWORD_URL: '/users/update/password',\n\n    USER_DATA_URL: '/users/remember',\n    CONFIG_INFO_URL: '/config/info',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACKS_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    APPS_EXECUTE: '/apps/execute',\n    APPS_POLL: '/apps/poll',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    JOB_LIST: userName => `/jobs/${userName}`,\n    JOB_DETAILS: (userName, id) => `/jobs/${userName}/${id}`,\n    JOB_CREATE: '/jobs/create',\n    JOB_UPDATE: '/jobs/update',\n    JOB_DELETE: '/jobs/delete',\n    JOB_RUN: '/jobs/run',\n    JOB_STOP: '/jobs/stop',\n\n    PERMISSIONS_ADD: '/permissions/add',\n    PERMISSIONS_DELETE: '/permissions/delete',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: 'https://github.com/dstackai',\n    BLOG_URL: 'https://blog.dstack.ai',\n\n    TOKEN_STORAGE_KEY: 'token',\n};\n\nexport const reportModelPythonCode = `import dstack as ds\nfrom sklearn.linear_model import LogisticRegression\n\nmodel = LogisticRegression()\nmodel.fit(X_train, y_train)\n\nds.push(\"my_model\", model, \"My first linear model\")`;\n\nexport const reportPlotPythonCode = `import matplotlib.pyplot as plt\nimport dstack as ds\n\nfig = plt.figure()\nplt.plot([1, 2, 3, 4], [1, 4, 9, 16])\n\nds.push_frame(\"my_plot\", fig, \"My first plot\")`;\n\nexport const installRPackageCode = 'install.packages(\"dstack\")';\n\nexport const reportPlotRCode = `library(ggplot2)\nlibrary(dstack)\n\ndf <- data.frame(x = c(1, 2, 3, 4), y = c(1, 4, 9, 16))\nimage <- ggplot(data = df, aes(x = x, y = y)) + geom_line()\n\npush_frame(\"simple\", image, \"My first plot\")`;\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst apiFabric = ({apiUrl} = {}) => {\n    const CancelToken = axios.CancelToken;\n\n    const instance = axios.create({\n        baseURL: apiUrl,\n        crossDomain: true,\n    });\n\n    instance.cancelToken = CancelToken;\n\n    instance.interceptors.request.use(requestConfig => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        requestConfig.headers.Authorization = token ? `Bearer ${token}` : '';\n        return requestConfig;\n    });\n\n    instance.interceptors.response.use(\n        response => {\n            return response;\n        },\n        error => {\n            if (_get(error, 'response.status', null) === 401) {\n                return Promise.reject(error.response);\n            } else if (_get(error, 'response.status', null) === 400) {\n                return Promise.reject(error.response);\n            } else {\n                return Promise.reject(error);\n            }\n        }\n    );\n\n    return instance;\n};\n\nexport default apiFabric;\n\n","// @flow\nimport React from 'react';\nimport {ReactComponent as Lock} from './lock.svg';\n\nimport css from './style.module.css';\n\nconst AccessForbidden = ({children}) => {\n    return (\n        <div className={css.forbidden}>\n            <Lock alt=\"\" width=\"85\" height=\"104\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AccessForbidden;\n","import React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    onClick?: Function,\n    withBorder?: boolean,\n    className?: string,\n    name: string,\n    color?: 'violet' | 'turquoise' | 'blue' | 'lilac' | 'pink' | 'green' | 'green2' | 'orange',\n    size?: 'small' | 'normal' | 'list',\n}\n\nconst Avatar = forwardRef(({className, name, color = 'violet', size = 'normal', withBorder, onClick}: Props, ref) => {\n    return (\n        <div ref={ref} className={cx(css.avatar, className, color, size, {border: withBorder})} onClick={onClick}>\n            {name.slice(0, 2)}\n        </div>\n    );\n});\n\nexport default Avatar;\n","import React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst BackButton = ({Component = 'button', children, className, ...props}) => {\n    return (\n        <Component className={cx(css.back, className)} {...props}>\n            <span className=\"mdi mdi-arrow-left\" />\n            {children}\n        </Component>\n    );\n};\n\nexport default BackButton;","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst COLORS = {\n    white: '#fff',\n    blue: '#507CD0',\n};\n\ntype Props = {\n    align?: 'center',\n    size?: number,\n    color?: 'white' | 'blue',\n    isShown?: boolean,\n    className?: string,\n};\n\nconst Spinner = ({size = 22, color = 'white', isShown, className, align}: Props) => {\n    return (\n        <div className={cx(css.spinner, className, align, {show: isShown})}>\n            <svg width={size} height={size} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* eslint-disable */}\n                <path\n                    d=\"M11.7046 18.9689C13.3618 18.8224 14.9321 18.1628 16.1969 17.0821C17.4617 16.0014 18.3581 14.5532 18.7614 12.9392C19.1647 11.3252 19.0548 9.62557 18.4469 8.07695C17.839 6.52832 16.7635 5.20773 15.37 4.29897C13.9765 3.39021 12.3343 2.9385 10.672 3.00671C9.00979 3.07491 7.41015 3.65964 6.09577 4.67951C4.78139 5.69938 3.81766 7.10365 3.33871 8.69687C2.85976 10.2901 2.88943 11.993 3.42358 13.5686L5.19569 12.9678C4.78648 11.7607 4.76375 10.4561 5.13067 9.23556C5.4976 8.01499 6.23591 6.93918 7.24286 6.15785C8.24981 5.37653 9.4753 4.92857 10.7488 4.87632C12.0222 4.82406 13.2803 5.17012 14.3478 5.86632C15.4154 6.56253 16.2394 7.57423 16.7051 8.76064C17.1708 9.94704 17.255 11.2491 16.946 12.4856C16.6371 13.7221 15.9503 14.8316 14.9814 15.6595C14.0124 16.4875 12.8094 16.9927 11.5398 17.105L11.7046 18.9689Z\"\n                    fill=\"url(#paint0_linear)\"\n                />\n                {/* eslint-enable */}\n\n                <defs>\n                    <linearGradient id=\"paint0_linear\" x1=\"13.5\" y1=\"18\" x2=\"4\" y2=\"13\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor={COLORS[color]} />\n                        <stop offset=\"1\" stopColor={COLORS[color]} stopOpacity=\"0.2\"/>\n                    </linearGradient>\n                </defs>\n            </svg>\n\n        </div>\n    );\n};\n\nexport default Spinner;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport type {Node} from 'react';\nimport cx from 'classnames';\nimport css from './style.module.css';\nimport Spinner from '../Spinner';\n\ntype Props = {\n    Component?: any,\n    children?: Node,\n    className?: string,\n    size?: 'small' | 'normal' | 'large',\n    color?: 'default' | 'primary' | 'secondary' | 'lilac' | 'success' | 'fail',\n    variant?: 'default' | 'contained' | 'outlined',\n    isShowSpinner?: boolean,\n    fullWidth?: boolean,\n    onClick?: Function,\n};\n\nconst Button:Props = forwardRef((\n    {\n        Component = 'button',\n        children,\n        className,\n        size = 'normal',\n        color = 'default',\n        variant = 'default',\n        fullWidth = false,\n        isShowSpinner,\n        ...props\n    },\n\n    ref\n) => {\n    return (\n        <Component\n            ref={ref}\n            className={\n                cx(css.button, size, `color-${color}`, `variant-${variant}`, className, {'full-width': fullWidth})\n            }\n\n            {...props}\n        >\n            {isShowSpinner && <Spinner className={css.spinner} color=\"white\" isShown />}\n            {children}\n        </Component>\n    );\n});\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    onChange?: Function,\n    value?: boolean,\n    appearance: 'checkbox' | 'switcher',\n    align: 'left' | 'right',\n    label?: string,\n    onLabel?: string,\n    offLabel?: string,\n    children?: any,\n}\n\nconst CheckboxField = ({\n    className,\n    value,\n    disabled,\n    appearance = 'checkbox',\n    align = 'left',\n    label,\n    onLabel,\n    offLabel,\n    children,\n    ...props\n}: Props) => {\n    return (\n        <label className={cx(css.checkbox, className, appearance, align, {disabled})}>\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={value}\n                    {...props}\n                />\n\n                {offLabel && <span\n                    className={cx(css['toggle-label'], 'off')}\n                    dangerouslySetInnerHTML={{__html: offLabel}}\n                />}\n\n                <div className={css.wrapper}>\n                    <div className={cx(css.mark, 'mdi', 'mdi-check', {'toggle-color': !(onLabel && offLabel)})} />\n                </div>\n\n                {onLabel && <span\n                    className={cx(css['toggle-label'], 'on')}\n                    dangerouslySetInnerHTML={{__html: onLabel}}\n                />}\n\n                {label && <span className={css.label}>{label}</span>}\n            </div>\n\n            {children}\n        </label>\n    );\n};\n\nexport default CheckboxField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport copy from 'copy-to-clipboard';\nimport {useTranslation} from 'react-i18next';\nimport css from './styles.module.css';\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    copyText: string,\n    buttonTitle?: string,\n    successMessage?: string,\n};\n\nconst Copy = ({children, className, copyText, successMessage, buttonTitle}: Props) => {\n    const {t} = useTranslation();\n    const [isShowMessage, setIsShowMessage] = useState(false);\n\n    const onCLick = () => {\n        copy(copyText);\n        setIsShowMessage(true);\n        setTimeout(() => setIsShowMessage(false), 3000);\n    };\n\n    return <div className={cx(css.copy, className)}>\n        {children\n            ? children({onClick: onCLick})\n            : (\n                <div className={css.button} onClick={onCLick}>\n                    <span className={cx(css.icon, 'mdi mdi-content-copy')} />\n\n                    {buttonTitle\n                        ? buttonTitle\n                        : t('copy')\n                    }\n                </div>\n            )\n        }\n\n        <div className={cx(css.message, {'is-show': isShowMessage})}>\n            {successMessage\n                ? successMessage\n                : t('copied')\n            }\n        </div>\n    </div>;\n};\n\nexport default Copy;\n","// @flow\n\nimport React from 'react';\nimport Highlight from 'react-highlight.js';\nimport {useTranslation} from 'react-i18next';\nimport Copy from '../Copy';\nimport cx from 'classnames';\nimport './theme.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    language: string,\n    children: string,\n    fontSize?: string | number\n};\n\nconst CodeViewer = ({className, language, children, fontSize}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.code, className, fontSize && `font-size-${fontSize}`)}>\n            <Highlight language={language}>\n                {children}\n            </Highlight>\n\n            <Copy\n                className={css.copy}\n                copyText={children}\n                successMessage={t('snippetIsCopied')}\n            />\n        </div>\n    );\n};\n\nexport default CodeViewer;\n","// @flow\nimport React, {useState, useEffect, useRef} from 'react';\nimport cx from 'classnames';\nimport RcTooltip from 'rc-tooltip';\nimport css from './styles.module.css';\n\ntype Item = {\n    title: string,\n    onClick?: Function,\n}\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    buttonClassName?: string,\n    items: Array<Item>\n}\n\nconst Dropdown = ({className, buttonClassName, children, items}: Props) => {\n    const [isShow, setIsShow] = useState(false);\n    const buttonRef = useRef(null);\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n        document.body.addEventListener('click', outlineClickHandle);\n        return () => document.body.removeEventListener('click', outlineClickHandle);\n    });\n\n    const outlineClickHandle = (event: SyntheticEvent<HTMLBodyElement>) => {\n        let targetElement = event.target;\n\n        do {\n            if (targetElement === buttonRef.current || targetElement === dropdownRef.current)\n                return;\n\n            targetElement = targetElement.parentNode;\n        } while (targetElement);\n\n        if (isShow)\n            setIsShow(false);\n    };\n\n    const onCLickButton = (event: SyntheticEvent<HTMLButtonElement>) => {\n        clickStopPropagation(event);\n        setIsShow(!isShow);\n    };\n\n    const clickStopPropagation = (event: SyntheticEvent<HTMLButtonElement>) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    const onCLickItem = (item: Item) => () => {\n        setIsShow(!isShow);\n\n        if (item.onClick)\n            item.onClick();\n    };\n\n    return (\n        <div className={cx(css.dropdown, className, {active: isShow})}>\n            <RcTooltip\n                arrowContent={null}\n                visible={isShow}\n                placement=\"bottomRight\"\n                destroyTooltipOnHide\n                align={{offset: [0, 0]}}\n\n                overlay={\n                    <div\n                        className={cx(css.menu, 'show')}\n                        ref={dropdownRef}\n                        onClick={clickStopPropagation}\n                    >\n                        {items.map((i, index) => <div\n                            key={index}\n                            className={css.item}\n                            onClick={onCLickItem(i)}\n                        >\n                            {i.title}\n                        </div>)}\n                    </div>\n                }\n            >\n                {children\n                    ? React.cloneElement(children, {\n                        onClick: onCLickButton,\n                        ref: buttonRef,\n                    })\n                    : <div ref={buttonRef} className={cx(css.button, buttonClassName)} onClick={onCLickButton}>\n                        <span className=\"mdi mdi-dots-vertical\" />\n                    </div>\n                }\n            </RcTooltip>\n        </div>\n    );\n};\n\nexport default Dropdown;\n","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","import {uniq} from 'lodash-es';\n\nexport default (attachments, tab) => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (tab\n                && i.params[tab.value]?.type !== 'tab'\n                && i.params[tab.key]?.title !== tab.value\n            )\n                return;\n\n            if (i.params[key] instanceof Object)\n                return;\n\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        fields[key].options = uniq(fields[key].options);\n        fields[key].label = key;\n\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};\n","export default attachments => {\n    const tabs = [];\n\n    if (!attachments || !attachments.length)\n        return [];\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object\n                && i.params[key].type === 'tab'\n            ) {\n                const tab = i.params[key].title || key;\n\n                if (!tabs.find(i => i.value === tab))\n                    tabs.push({\n                        label: tab,\n                        value: tab,\n                        key,\n                    });\n            }\n        });\n    });\n\n    return tabs;\n};\n","import moment from 'moment';\n\nexport default duration => {\n    if (duration < 1000)\n        return '0sec';\n\n    let string = '';\n\n    const momentDuration = moment.duration(duration);\n    const hours = momentDuration.hours();\n    const minutes = momentDuration.minutes();\n    const seconds = momentDuration.seconds();\n\n    if (hours)\n        string += `${moment.duration(hours, 'hours').as('hours')}h`;\n\n    if (minutes)\n        string += ` ${moment.duration(minutes, 'minutes').as('minutes')}min`;\n\n    if (seconds)\n        string += ` ${moment.duration(seconds, 'seconds').asSeconds()}sec`;\n\n    return string;\n};","export default ({application, contentType}) => {\n    switch (true) {\n        case (contentType === 'image/svg+xml'):\n        case (contentType === 'image/png'):\n        case (contentType === 'image/jpeg'):\n        case (application === 'plotly'):\n        case (application === 'bokeh'):\n            return 'chart';\n\n        case (contentType === 'text/csv'):\n            return 'table';\n\n        case (application === 'sklearn'):\n        case (/^tensorflow\\/*/.test(application)):\n        case (/^torch\\/*/.test(application)):\n            return 'mlModel';\n\n        case (application === 'application/python' && contentType === 'application/octet-stream'):\n            return 'app';\n\n        default:\n            return null;\n    }\n};\n","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst fetcher = async (url: string, responseDataFormat = data => data) => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    try {\n        const request = await axios({\n            url: url,\n            headers: {Authorization: token ? `Bearer ${token}` : ''},\n        });\n\n        return responseDataFormat(request.data);\n    } catch (e) {\n        let errorBody = null;\n\n        let status = null;\n\n        try {\n            errorBody = JSON.parse(_get(e, 'request.response'));\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            status = _get(e, 'request.status');\n        } catch (e) {\n            console.log(e);\n        }\n\n        const error = new Error('An error occurred while fetching the data.');\n\n        error.info = errorBody;\n        error.status = status;\n        throw error;\n    }\n};\n\nexport default fetcher;\n","const typeMap = {\n    'TextFieldView': 'text',\n    'ComboBoxView': 'select',\n    'SliderView': 'slider',\n    'ApplyView': 'apply',\n};\n\nexport default views => {\n    const fields = {};\n\n    views.forEach((view, index) => {\n        fields[index] = {\n            label: view.label,\n            type: typeMap[view.type],\n            value: view.data,\n            disabled: !view.enabled,\n        };\n\n        if (view.type === 'ComboBoxView') {\n            fields[index].options = view.titles.map((title, i) => ({\n                label: title,\n                value: i,\n            }));\n\n            fields[index].value = view.selected;\n        }\n\n        if (view.type === 'SliderView') {\n            fields[index].options = {};\n            view.data.forEach(item => fields[index].options[item] = item);\n\n            fields[index].min = Math.min.apply(null, view.data);\n            fields[index].max = Math.max.apply(null, view.data);\n            fields[index].value = view.data[view.selected];\n        }\n    });\n\n    return fields;\n};\n","import parseSearch from './utils/parseSearch';\nimport getDataFailedRequest from './utils/getDataFailedRequest';\nimport unicodeBase64Decode from './utils/unicodeBase64Decode';\nimport formatBytes from './utils/formatBytesSize';\nimport downloadFile from './utils/downloadFile';\nimport parseStackParams from './utils/parseStackParams';\nimport parseStackTabs from './utils/parseStackTabs';\nimport getFormattedDuration from './utils/getFormattedDuration';\nimport getStackCategory from './utils/getStackCategory';\nimport fileToBaseTo64 from './utils/fileToBaseTo64';\nimport dataFetcher from './utils/dataFetcher';\nimport parseStackViews from './utils/parseStackViews';\nimport config from './config';\n\nconst isSignedIn = () => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    return Boolean(token && token.length);\n};\n\nexport {\n    isSignedIn,\n    downloadFile,\n    formatBytes,\n    parseSearch,\n    getDataFailedRequest,\n    unicodeBase64Decode,\n    parseStackParams,\n    parseStackTabs,\n    getFormattedDuration,\n    getStackCategory,\n    fileToBaseTo64,\n    dataFetcher,\n    parseStackViews\n};\n","// @flow\nimport React, {useEffect, useRef, useState, forwardRef, useImperativeHandle} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {formatBytes} from '../utils';\nimport Button from '../Button';\nimport css from './style.module.css';\n\ntype Props = {\n    formats?: Array<string>,\n    className?: string,\n    loading?: boolean,\n    progressPercent?: ?number,\n    onChange?: Function,\n}\n\nconst FileDragnDrop = ({\n    formats,\n    className,\n    loading,\n    progressPercent = null,\n    onChange,\n}: Props, ref) => {\n    const {t} = useTranslation();\n    const inputRef = useRef(null);\n    const [active, setActive] = useState(false);\n    const [selectedFile, setSelectedFile] = useState();\n    const isDidMount = useRef(true);\n\n    useImperativeHandle(ref, () => ({clear: () => removeFile()}));\n\n    useEffect(() => {\n        if (!isDidMount.current) {\n            if (onChange)\n                onChange(selectedFile);\n        } else\n            isDidMount.current = false;\n    }, [selectedFile]);\n\n    const onClick = event => {\n        event.preventDefault();\n\n        if (inputRef.current)\n            inputRef.current.click();\n    };\n\n    const preventStop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const onDrop = event => {\n        preventStop(event);\n        setActive(false);\n\n        const [file] = event.dataTransfer.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const onDragEnter = event => {\n        preventStop(event);\n        setActive(true);\n\n    };\n\n    const onDragLeave = event => {\n        preventStop(event);\n        setActive(false);\n    };\n\n    const onChangeInput = event => {\n        const [file] = event.target.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const removeFile = () => {\n        setSelectedFile(null);\n    };\n\n    const checkAvailableExtension = file => {\n        const ext = '.' + file.name.split('.').pop();\n\n        let isAvailable;\n\n        if (formats && formats.length)\n            isAvailable = formats.some(format => {\n                if (format === '.jpg' || format === '.jpeg')\n                    return ext === '.jpg' || ext === '.jpeg';\n                else\n                    return format === ext;\n            });\n        else\n            isAvailable = true;\n\n        return isAvailable;\n    };\n\n    if (loading)\n        return (\n            <div className={cx(css.dnd, className, {active})}>\n                <div className={css.loading}>\n                    {t('Uploading')}&hellip;\n                    {typeof progressPercent === 'number' && `${progressPercent}%`}\n                </div>\n\n                {typeof progressPercent === 'number' &&  (\n                    <div className={css.progressBar}>\n                        <div className={css.progress} style={{width: `${progressPercent}%`}} />\n                    </div>\n                )}\n            </div>\n        );\n\n    if (selectedFile)\n        return (\n            <div className={cx(css.fileWrapper, className)}>\n                <div className={css.file}>\n                    <div className={css.fileExtend}>\n                        {selectedFile.name.split('.').pop()}\n                    </div>\n\n                    <div className={css.fileSection}>\n                        <div className={css.fileName}>{selectedFile.name}</div>\n                        <div className={css.fileSize}>{formatBytes(selectedFile.size)}</div>\n                    </div>\n\n                    <div onClick={removeFile} className={cx(css.fileRemove, 'mdi mdi-close')} />\n                </div>\n            </div>\n        );\n\n\n    return (\n        <div\n            className={cx(css.dnd, className, {active})}\n            onDrop={onDrop}\n            onDragEnter={onDragEnter}\n            onDragOver={onDragEnter}\n            onDragLeave={onDragLeave}\n        >\n            <input\n                ref={inputRef}\n                onChange={onChangeInput}\n                type=\"file\"\n            />\n\n            <div className={css.placeholder}>\n                {t('dragHereAFile')}\n                {''}\n                {Boolean(formats) && `(${formats.join(', ')})`}\n                {' '}\n                {t('or')}\n                {' '}\n            </div>\n\n            <Button\n                className={css.button}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={onClick}\n            >\n                {t('chooseAFile')}\n            </Button>\n        </div>\n    );\n};\n\nexport default forwardRef(FileDragnDrop);\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport MathJax from 'react-mathjax';\nimport RemarkMathPlugin from 'remark-math';\n\nconst MarkdownRender = props => {\n    const newProps = {\n        ...props,\n        plugins: [\n            RemarkMathPlugin,\n        ],\n\n        renderers: {\n            ...props.renderers,\n            math: props =>\n                <MathJax.Node formula={props.value} />,\n            inlineMath: props =>\n                <MathJax.Node inline formula={props.value} />,\n        },\n    };\n\n    return (\n        <MathJax.Provider input=\"tex\">\n            <ReactMarkdown {...newProps} />\n        </MathJax.Provider>\n    );\n};\n\nexport default MarkdownRender;","// @flow\n\nimport React from 'react';\nimport type {Node} from 'react';\nimport {Portal} from 'react-portal';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    title?: string,\n    isShow?: boolean,\n    className?: string,\n    dialogClassName?: string,\n    size?: 'confirmation' | 'small' | 'big',\n    onClose: Function,\n    children?: Node,\n    withCloseButton?: boolean,\n};\n\nconst Modal = ({\n    title,\n    className,\n    dialogClassName,\n    size = 'big',\n    onClose,\n    isShow,\n    children,\n    withCloseButton,\n}: Props) => {\n    const onClickByLayer = event => {\n        if (event.currentTarget === event.target && onClose)\n            onClose();\n    };\n\n    return (\n        <Portal>\n            <div className={cx(css.modal, className, {show: isShow})} onClick={onClickByLayer}>\n                <div className={cx(css.dialog, size, dialogClassName)}>\n                    {withCloseButton && <span className={cx(css.close, 'mdi mdi-close')} onClick={onClose} />}\n\n                    {title && <div className={css.title}>{title}</div>}\n                    {children}\n                </div>\n            </div>\n        </Portal>\n    );\n};\n\nexport default Modal;\n","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport config from '../config';\nimport {ReactComponent as NotFoundIcon} from './404.svg';\nimport css from './style.module.css';\n\nconst NotFound = ({children}) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css['not-found']}>\n            <NotFoundIcon width=\"224\" height=\"77\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n\n            <div className={css.help}>\n                {t('needHelpWWriteToUsOn')}\n                {' '}\n                <a target=\"_blank\" href={config.TWITTER_URL}><span className=\"mdi mdi-twitter\" /> Twitter</a>\n                {', '}\n                <a target=\"_blank\" href={config.GITHUB_URL}><span className=\"mdi mdi-github-circle\" />GitHub</a>\n                {' '}\n                {t('or')}\n                {' '}\n                <a target=\"_blank\" href={config.DISCORD_URL}><span className=\"mdi mdi-discord\" />Discord</a>\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;\n","import {useEffect, useRef} from 'react';\n\nexport default value => {\n    const ref = useRef(value);\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport usePrevious from '../hooks/usePrevious';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    isActive: ?boolean,\n}\n\nconst ProgressBar = ({className, isActive, progress: globalProgress}: Props) => {\n    const [progress, setProgress] = useState(0);\n    const [width, setWidth] = useState(1000);\n    const prevIsActive = usePrevious(isActive);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const requestFrame = useRef(null);\n    const isActiveRef = useRef(false);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        isActiveRef.current = isActive;\n\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            setProgress(0);\n        }\n\n        if (!isActive && requestFrame.current) {\n            cancelAnimationFrame(requestFrame.current);\n        }\n    }, [isActive]);\n\n    useEffect(() => {\n        if (globalProgress !== null)\n            setProgress(globalProgress);\n        else {\n            setProgress(0);\n        }\n    }, [globalProgress]);\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize);\n\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n\n        return () => window.removeEventListener('resize', onResize);\n    }, []);\n\n    const calculateProgress = () => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100 || !isActiveRef.current)\n            cancelAnimationFrame(requestFrame.current);\n\n        if (isActiveRef.current)\n            requestFrame.current = requestAnimationFrame(calculateProgress);\n    };\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    const onResize = () => {\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n    };\n\n    return (\n        <div ref={ref} className={cx(css.bar, className)}>\n            <div\n                className={css.progress}\n                style={{\n                    width: `${progress}%`,\n                    backgroundSize: `${width}px 5px`,\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.input}>\n                    {/*$FlowFixMe*/}\n                    <input\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport TextField from '../TextField';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    showEverything?: boolean,\n    isDark?: boolean,\n}\n\nconst SearchField = ({className, showEverything, isDark, ...props}: Props) => {\n    const [isShow, setIsShow] = useState(showEverything || (props.value && props.value.length));\n\n    const clear = () => {\n        if (props.onChange)\n            props.onChange('');\n\n        if (!showEverything)\n            setIsShow(false);\n    };\n\n    const onChangeHandle = (event:SyntheticEvent<HTMLInputElement>) => {\n        if (props.onChange)\n            props.onChange(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.search, className, {'is-dark': isDark})}>\n            {isShow && <TextField\n                {...props}\n                onChange={onChangeHandle}\n                className={css.field}\n            />}\n\n            {isShow && Boolean(props.value && props.value.length) && (\n                <div className={css.clear} onClick={clear}>\n                    <span className=\"mdi mdi-close\" />\n                </div>\n            )}\n\n            {isShow && !Boolean(props.value && props.value.length) && (\n                <div className={css.clear}>\n                    <span className=\"mdi mdi-magnify\" />\n                </div>\n            )}\n\n            {!isShow && <div className={css.button} onClick={() => setIsShow(true)}>\n                <span className=\"mdi mdi-magnify\" />\n            </div>}\n        </div>\n    );\n};\n\nexport default SearchField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Select, {Option, OptGroup} from 'rc-select';\nimport CheckboxField from '../CheckboxField';\nimport css from './styles.module.css';\nimport './test.css';\n\nconst allValue = 'all';\n\ntype Props = {\n    className?: string,\n    disabled?: boolean,\n    placeholder?: string,\n    showSearch?: boolean,\n    value: Array<string>,\n    mode?: string,\n    align: 'left' | 'right' | 'bottom',\n    label?: string,\n\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n}\n\nconst SelectField = ({\n    align = 'left',\n    label,\n    disabled,\n    placeholder,\n    value: propValue = [],\n    className,\n    mode,\n    onChange,\n    options = [],\n    showSearch = true,\n    ...props\n}: Props) => {\n    const onChangeHandle = (value: Array<string>) => {\n        if (typeof value === 'string' && value.indexOf(allValue) >= 0)\n            if (value.length > options.length)\n                value = [];\n            else\n                value = options.map(o => o.value);\n\n        if (onChange)\n            onChange(value);\n    };\n\n    const onSelect = () => {};\n\n    const onDeselect = () => {};\n\n    const renderOptions = () => options.map(({value, label}) => (\n        <Option key={value} value={value}>\n            {mode === 'multiple' && <CheckboxField\n                readOnly\n                className=\"select-field-item-option-checkbox\"\n                value={propValue.indexOf(value) >= 0}\n            />}\n\n            <span className=\"select-field-item-option-label\">{label}</span>\n        </Option>\n    ));\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <Select\n                value={propValue}\n                // animation={useAnim ? 'slide-up' : null}\n                // choiceTransitionName=\"rc-select-selection__choice-zoom\"\n                prefixCls=\"select-field\"\n                multiple={mode === 'multiple'}\n                showArrow\n                showSearch={showSearch}\n                onSelect={onSelect}\n                onDeselect={onDeselect}\n                placeholder={placeholder}\n                onChange={onChangeHandle}\n                inputIcon={<span className=\"mdi mdi-chevron-down\" />}\n                {...props}\n            >\n                {options.length && mode === 'multiple' && <Option key={allValue} value={allValue}>\n                    <CheckboxField\n                        readOnly\n                        className=\"select-field-item-option-checkbox\"\n                        value={propValue.length === options.length}\n                    />\n\n                    <span className=\"select-field-item-option-label\">Select all</span>\n                </Option>}\n\n                {mode === 'multiple'\n                    ? <OptGroup>{renderOptions()}</OptGroup>\n                    : renderOptions()\n                }\n            </Select>\n\n            {label && <label className={css.label}>{label}</label>}\n        </div>\n    );\n};\n\nexport default SelectField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport css from './styles.module.css';\nimport './test.css';\n\ntype Props = {\n    name?: string,\n    label?: string,\n    className?: string,\n    align: 'left' | 'right',\n};\n\nconst CustomHandle = props => {\n    const style = {\n        left: props.offset + '%',\n        transform: 'translateX(-50%)',\n    };\n\n    return (\n        <div className={props.className} key={props.index} style={style} data-value={props.value} />\n    );\n};\n\nconst SliderField = ({className, disabled, label, onChange, name, align = 'left', ...props}: Props) => {\n    const onChangeHandle = value => {\n        if (onChange)\n            onChange({\n                target: {\n                    value,\n                    name,\n                },\n            });\n    };\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <div className={css.slider}>\n                <Slider\n                    onChange={onChangeHandle}\n                    tipFormatter={value => `$${value}`}\n                    handle={CustomHandle}\n                    {...props}\n                />\n            </div>\n\n            {label && <span className={css.label}>{label}</span>}\n        </div>\n    );\n};\n\nexport default SliderField;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport SelectField from '../SelectField';\nimport CheckboxField from '../CheckboxField';\nimport SliderField from '../SliderField';\nimport TextField from '../TextField';\nimport Button from '../Button';\nimport css from './styles.module.css';\n\ntype Props = {\n    fields: {},\n    form: {},\n    onChange: Function,\n    className?: string,\n}\n\nconst StackFilters = ({className, fields, form, onChange, onApply, disabled}: Props) => {\n    const {t} = useTranslation();\n\n    if (!Object.keys(fields).length)\n        return null;\n\n    return (\n        <div className={cx(css.filters, className)}>\n            {Object.keys(fields).map(key => {\n                switch (fields[key].type) {\n                    case 'text':\n                        return <TextField\n                            size=\"small\"\n                            key={`text-${key}`}\n                            className={cx(css.field, css.text)}\n                            onChange={event => onChange(key, event.target.value)}\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'select':\n                        return <SelectField\n                            key={`select-${key}`}\n                            align=\"bottom\"\n                            className={cx(css.field, css.select)}\n                            onChange={value => onChange(key, value)}\n                            label={fields[key].label}\n                            name={key}\n                            options={fields[key].options}\n                            value={Array.isArray(form[key]) ? form[key] : [form[key]]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'checkbox':\n                        return <CheckboxField\n                            key={`checkbox-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'slider':\n                        return <SliderField\n                            key={`slider-${key}`}\n                            className={cx(css.field, css.slider)}\n                            onChange={onChange}\n                            align=\"right\"\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            step={null}\n                            min={fields[key].min}\n                            max={fields[key].max}\n                            marks={fields[key].options}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'apply':\n                        return <div\n                            key={`apply-${key}`}\n                            className={cx(css.field, css.buttons)}\n                        >\n                            {onApply && (\n                                <Button\n                                    size=\"small\"\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={onApply}\n                                    disabled={disabled || fields[key].disabled}\n                                >\n                                    {t('apply')}\n                                </Button>\n                            )}\n\n                        </div>;\n\n                    default:\n                        return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default StackFilters;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTitleField = ({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={cx(css.field, className)}>\n            <input\n                type=\"text\"\n                placeholder={placeholder}\n                value={value}\n                onChange={onChange}\n                {...props}\n            />\n\n            <div className={css.hidden}>\n                {value && value.length ? value : placeholder}\n            </div>\n        </div>\n    );\n};\n\nexport default StretchTitleField;\n","// @flow\nimport React, {useEffect, useState, forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTextAreaField = forwardRef(({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props, ref) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={css.fieldWrap}>\n            <div className={cx(css.field, className)}>\n                <textarea\n                    rows={1}\n                    placeholder={placeholder}\n                    value={value}\n                    onChange={onChange}\n                    ref={ref}\n                    {...props}\n                />\n\n                <div className={css.hidden}>\n                    {value && value.length ? value : placeholder}\n                    {'\\n'}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default StretchTextAreaField;\n","// @flow\n\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    tabs: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, tabs, onChange}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {tabs.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {active: value === i.value})}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                    {i.soon && <span className={css.soon}>{t('soon')}</span>}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextAreaField = forwardRef(({label, className, size = 'normal', errors = [], value, ...props}: Props, ref) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.textarea}>\n                    {/*$FlowFixMe*/}\n                    <textarea\n                        className={cx({error: hasErrors})}\n                        value={value}\n                        ref={ref}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n});\n\nexport default TextAreaField;\n","// @flow\nimport React from 'react';\nimport RcTooltip from 'rc-tooltip';\nimport css from './style.module.css';\n\ntype Props = {\n    children: any,\n    overlayContent?: any,\n    arrowContent?: any,\n}\n\nconst Tooltip = ({\n    children,\n    overlayContent,\n    arrowContent = null,\n    placement = 'bottomLeft',\n    trigger = ['hover'],\n    overlayStyle = {pointerEvents: 'none'},\n    ...props\n}: Props) => {\n\n    return (\n        <RcTooltip\n            overlayStyle={overlayStyle}\n            arrowContent={arrowContent}\n            placement={placement}\n            trigger={trigger}\n            overlay={\n                <div className={css.tooltip}>{overlayContent}</div>\n            }\n            {...props}\n        >\n            {children}\n        </RcTooltip>\n    );\n};\n\nexport default Tooltip;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    value?: 'grid' | 'list',\n    onChange?: Function,\n    className?: string,\n}\n\nconst ViewSwitcher = ({value = 'grid', onChange, className}: Props) => {\n    const [stateValue, setStateValue] = useState(value);\n\n    useEffect(() => {\n        if (value !== stateValue)\n            setStateValue(value);\n\n    }, [value]);\n\n    const toggleValue = () => {\n        const newValue = stateValue === 'grid' ? 'list' : 'grid';\n\n        setStateValue(newValue);\n\n        if (onChange)\n            onChange(newValue);\n    };\n\n    return (\n        <div\n            className={cx(css.switcher, stateValue, className)}\n            onClick={toggleValue}\n        >\n            <span className=\"mdi mdi-view-grid\" />\n            <span className=\"mdi mdi-view-list\" />\n        </div>\n    );\n};\n\nexport default ViewSwitcher;","import React from 'react';\nimport {Portal} from 'react-portal';\n\nconst Yield = ({name, className, children}) => {\n    if (!name)\n        return null;\n\n    if (children) {\n        const node = document && document.getElementById(name);\n\n        if (!node)\n            return null;\n\n        return (\n            <Portal node={node}>\n                {children}\n            </Portal>\n        );\n    }\n\n    return (\n        <div className={className} id={name} />\n    );\n};\n\nexport default Yield;\n","\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Array<Array<string>>,\n}\n\nconst Table = ({data}: Props) => {\n    const [captions, ...rows] = data;\n\n    return (\n        <div className={css.table}>\n            <table>\n                <thead>\n                    <tr>\n                        {captions.map(caption => (\n                            <th key={caption}>{caption}</th>\n                        ))}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {rows.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((cell, i) => (\n                                <td key={i}>{cell}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","export const isImageType = type => /^image/.test(type);\n\nexport const base64ToJSON = (base64: string) => {\n    let parsedJSON;\n\n    try {\n        parsedJSON = JSON.parse(atob(base64));\n    } catch (e) {\n        console.log(e);\n    }\n\n    return parsedJSON;\n};\n","import React, {memo, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Plot from 'react-plotly.js';\nimport {isEqual, get, isString} from 'lodash-es';\nimport {unicodeBase64Decode} from '../../../utils';\nimport Table from './Table';\nimport CodeViewer from '../../../CodeViewer';\nimport {isImageType, base64ToJSON} from '../utils';\nimport * as CSV from 'csv-string';\nimport css from './styles.module.css';\nimport config from '../../../config';\n\nconst base64ImagePrefixes = {\n    'image/svg+xml': 'data:image/svg+xml;charset=utf-8;',\n    'image/png': 'data:image/png;charset=utf-8;',\n    'image/jpeg': 'data:image/jpeg;charset=utf-8;',\n};\n\n\nconst View = ({frameId, attachment, fullAttachment, isList, className, requestStatus, stack}) => {\n    const {t} = useTranslation();\n    const viewRef = useRef();\n    const [tableScale, setTableScale] = useState(1);\n    const [viewWidth, setVieWidth] = useState(0);\n    const [noRender, setNoRender] = useState(false);\n\n    const onResizeCard = () => {\n        if (viewRef.current) {\n            const containerWidth = viewRef.current.parentElement.offsetWidth;\n            const viewWidth = viewRef.current.offsetWidth / tableScale;\n\n            let newScale = containerWidth / viewWidth;\n\n            if (newScale > 1)\n                newScale = 1;\n\n            setTableScale(newScale);\n            setVieWidth(containerWidth);\n        }\n    };\n\n    useEffect(() => {\n        if (window && isList)\n            window.addEventListener('resize', onResizeCard);\n\n        return () => {\n            if (window && isList)\n                window.removeEventListener('resize', onResizeCard);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (noRender) {\n            setNoRender(false);\n        }\n    }, [noRender]);\n\n    useEffect(() => {\n        if (attachment && attachment['application'] === 'plotly' && !noRender) {\n            setNoRender(true);\n        }\n        if (attachment && attachment['application'] === 'bokeh') {\n            let Bokeh;\n            const json = base64ToJSON(attachment.data);\n            const version = get(attachment, 'settings.bokeh_version');\n\n            if (version && parseInt(version.split('.')[0], 10) === 2) {\n                Bokeh = window.Bokeh['2.2.1'];\n            } else {\n                Bokeh = window.Bokeh;\n            }\n\n            if (json && document.querySelector(`#bokeh-${frameId}`))\n                Bokeh.embed.embed_item(json, `bokeh-${frameId}`);\n        }\n\n        if (isList)\n            setTimeout(() => onResizeCard(), 10);\n\n    }, [attachment]);\n\n    const renderImage = () => {\n        if (!attachment.preview)\n            return (\n                <img\n                    src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                    alt=\"\"\n                />\n            );\n        else if (fullAttachment) {\n            if (fullAttachment['download_url']) {\n                return (\n                    <img src={fullAttachment['download_url']} alt=\"\"/>\n                );\n            } else\n                return (\n                    <img\n                        src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                        alt=\"\"\n                    />\n                );\n        }\n\n        return null;\n    };\n\n    const renderCSV = () => {\n        const decodeCSV = unicodeBase64Decode(attachment.data);\n\n        if (decodeCSV) {\n            const data = CSV.parse(decodeCSV);\n\n            if (Array.isArray(data) && data.length)\n                return (\n                    <Table\n                        data={data}\n                    />\n                );\n        }\n\n        return (\n            <div className={css.text}>{t('notSupportedAttachment')}</div>\n        );\n    };\n\n    const renderPlotly = () => {\n        const json = base64ToJSON(attachment.data);\n\n        if (!json)\n            return null;\n\n        json.layout.width = viewWidth;\n        json.layout.margin = 0;\n        json.layout.autosize = true;\n\n        if (json.config)\n            json.config.responsive = true;\n        else\n            json.config = {responsive: true};\n\n        return (\n            <Plot\n                {...json}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                }}\n                useResizeHandler\n            />\n        );\n    };\n\n    const renderMl = () => {\n        const pullPythonCode = data => {\n            let a = [`\\'/${stack}\\'`];\n\n            let params = Object.keys(data.params);\n\n            if (params.length > 0) {\n                let p = [];\n\n                params.forEach(key => {\n                    if (isString(data.params[key]))\n                        p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n                    else\n                        p.push(`\\'${key}\\': ${data.params[key]}`);\n                });\n                a.push('params={' + p.join(', ') + '}');\n            }\n\n            return `import dstack as ds\n\nmodel = ds.pull(${a.join(', ')})`;\n        };\n\n        return <div>\n            <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n            <CodeViewer\n                className={css.code}\n                language=\"python\"\n            >\n                {pullPythonCode(attachment)}\n            </CodeViewer>\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>;\n    };\n\n    const renderBokeh = () => <div id={`bokeh-${frameId}`} />;\n\n    const renderAttachment = () => {\n        if (noRender)\n            return null;\n\n        if (requestStatus === 404 && isList)\n            return <div className={css.message}>{t('notFound')}</div>;\n\n        if (requestStatus === 404 && !isList)\n            return <div className={css.text}>{t('noPreview')}</div>;\n\n        if (attachment.preview && isList && isImageType(attachment['content_type']))\n            return <div className={css.message}>{t('noPreview')}</div>;\n\n        switch (true) {\n            case (attachment['content_type'] === 'image/svg+xml'):\n            case (attachment['content_type'] === 'image/png'):\n            case (attachment['content_type'] === 'image/jpeg'):\n                return renderImage();\n\n            case (attachment['content_type'] === 'text/csv'):\n                return renderCSV();\n\n            case (attachment['application'] === 'plotly'):\n                return renderPlotly();\n\n            case (attachment['application'] === 'bokeh'):\n                return renderBokeh();\n\n            case (attachment['application'] === 'sklearn'):\n            case (/^tensorflow\\/*/.test(attachment['application'])):\n            case (/^torch\\/*/.test(attachment['application'])):\n                return renderMl();\n\n            case undefined:\n            case isEqual(attachment, {}):\n                return null;\n\n            default:\n                return <div className={isList ? css.message : css.text}>{t('notSupportedAttachment')}</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={viewRef}\n            className={cx(css.view, className, {\n                'table': (attachment && attachment.data && attachment['content_type'] === 'text/csv'),\n                'bokeh': (attachment && attachment.data && attachment['application'] === 'bokeh'),\n            })}\n\n            style={\n                (attachment && attachment['content_type'] === 'text/csv')\n                    ? {transform: `scale(${tableScale})`}\n                    : {}\n            }\n        >\n            {renderAttachment()}\n        </div>\n    );\n};\n\n\nconst areEqual = (prevProps, nextProps) => {\n    return isEqual(prevProps.attachment, nextProps.attachment);\n};\n\nexport default memo(View, areEqual);\n","// @flow\nimport {useCallback, useEffect, useRef} from 'react';\n\nexport default (\n    callBack: Function,\n\n    {\n        rootMargin = '0px',\n        threshold = 0.01,\n        root = null,\n    }: {[key: string]: any},\n\n    deps: Array<any>\n) => {\n    const ref = useRef(null);\n\n    const intersectionCallback = useCallback(([target]) => {\n        if (target.isIntersecting) {\n            callBack();\n        }\n    }, deps);\n\n    useEffect(() => {\n        const options = {\n            root,\n            rootMargin,\n            threshold,\n        };\n\n        const observer = new IntersectionObserver(intersectionCallback, options);\n\n        if (ref && ref.current)\n            observer.observe(ref.current);\n\n        return () => {\n            if (ref.current)\n                observer.unobserve(ref.current);\n        };\n    }, [ref, intersectionCallback]);\n\n    return [ref];\n};","export default {\n    FETCH: 'stacks/attachments/FETCH',\n    FETCH_SUCCESS: 'stacks/attachments/FETCH_SUCCESS',\n    FETCH_FAIL: 'stacks/attachments/FETCH_FAIL',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nconst initialState = {\n    data: {},\n    errors: {},\n    requestStatus: null,\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...(\n                                state.data[action.meta.frameId]\n                                    ? state.data[action.meta.frameId][action.meta.id]\n                                    : {}\n                            ),\n\n                            loading: true,\n                            requestStatus: null,\n                            error: null,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_SUCCESS):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...action.payload,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_FAIL):\n            return {\n                ...state,\n\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            error: action.payload.error,\n                            requestStatus: action.payload.requestStatus,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport actionsTypes from './actionsTypes';\nimport config from '../../config';\nimport {useStateValue} from './store';\n\nexport default () => {\n    const [{apiUrl}, dispatch] = useStateValue();\n\n    const fetchAttachment = async (stack, frameId, id, onSuccess) => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        dispatch({\n            type: actionsTypes.FETCH,\n            meta: {frameId, id},\n        });\n\n        try {\n            const request = await axios({\n                baseURL: apiUrl,\n                url: config.STACK_ATTACHMENT(stack, frameId, id),\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n            });\n\n            dispatch({\n                type: actionsTypes.FETCH_SUCCESS,\n                meta: {frameId, id},\n                payload: request.data.attachment,\n            });\n\n            if (onSuccess)\n                onSuccess();\n        } catch (e) {\n            let error = 'Unknown error';\n\n            try {\n                error = JSON.parse(_get(e, 'request.response')).message;\n            } catch (e) {\n                console.log(error);\n            }\n\n            dispatch({\n                type: actionsTypes.FETCH_FAIL,\n                meta: {frameId, id},\n                payload: {error},\n            });\n        }\n    };\n\n    return {fetchAttachment};\n};\n","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport View from './View';\nimport config from '../../config';\nimport useIntersectionObserver from '../../hooks/useIntersectionObserver';\nimport usePrevious from '../../hooks/usePrevious';\nimport actions from './actions';\nimport {isImageType} from './utils';\nimport {useStateValue} from './store';\nimport css from './styles.module.css';\n\ntype Props = {\n    id: number,\n    frameId: string,\n    stack: string,\n    className?: string,\n    withLoader?: boolean,\n}\n\nconst Attachment = ({\n    id,\n    className,\n    frameId,\n    isList,\n    withLoader,\n    stack,\n    customData,\n}: Props) => {\n    const {fetchAttachment} = actions();\n    const [{data, apiUrl}] = useStateValue();\n    const attachment = get(data, `${frameId}.${id}`, {});\n    const {loading, error, requestStatus} = attachment;\n    const [loadingFullAttachment, setLoadingFullAttachment] = useState(false);\n    const [fullAttachment, setFullAttachment] = useState(null);\n    const prevAttachment = usePrevious(attachment);\n\n    const fetchFullAttachment = async () => {\n        setLoadingFullAttachment(true);\n\n        try {\n            const url = config.STACK_ATTACHMENT(stack, frameId, id) + '?download=true';\n            const {data} = await axios({\n                baseUrl: apiUrl,\n                url,\n            });\n\n            setFullAttachment(data.attachment);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setLoadingFullAttachment(false);\n    };\n\n    useEffect(() => {\n        if (!customData\n            && !isList\n            && attachment\n            && !isEqual(prevAttachment, attachment)\n            && attachment.preview\n            && isImageType(attachment['content_type'])\n        ) {\n            fetchFullAttachment();\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (!customData\n            && !isList\n            && (typeof id === 'number' && frameId)\n            && ((!attachment.data && !error) || (attachment?.index !== id))\n        ) {\n            fetchAttachment(stack, frameId, id);\n        }\n    }, [id, frameId]);\n\n    const [ref] = useIntersectionObserver(() => {\n        if (!customData\n            && isList\n            && !loading\n            && (\n                (!attachment.data && !error)\n                || (attachment.data && attachment.index !== id)\n            )\n        )\n            fetchAttachment(stack, frameId, id);\n    }, {}, [id, frameId, data]);\n\n    return (\n        <div\n            ref={ref}\n            className={cx(css.attachment, className, {\n                'is-list': isList,\n                loading: loading && withLoader || loadingFullAttachment,\n            })}\n        >\n            {!loading && (\n                <View\n                    requestStatus={requestStatus}\n                    className={css.view}\n                    isList={isList}\n                    fullAttachment={fullAttachment}\n                    attachment={customData ? customData : attachment}\n                    stack={stack}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Attachment;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport Avatar from '../Avatar';\nimport css from './styles.module.css';\n\ntype Props = {\n    permissions?: Array<{\n        user?: string,\n        email?: string,\n    }>,\n\n    maxLength?: number,\n    className?: string,\n    owner?: string,\n    variant?: 'list' | 'details',\n}\n\nconst PermissionUsers = ({permissions, className, variant = 'details', maxLength, owner}: Props) => {\n    if (!permissions || !permissions.length)\n        return null;\n\n    return (\n        <div className={cx(css.list, className, variant)}>\n            {permissions.slice(0, maxLength).map((i, index) => (\n                <Avatar\n                    withBorder\n                    size={variant === 'list' ? 'list' : 'small'}\n                    key={index}\n                    className={cx(css.avatar, {owner: owner === i.user})}\n                    name={i.user || i.email}\n                />\n            ))}\n\n            {maxLength && maxLength < permissions.length  && (\n                <span className={css.count}>+{permissions.length - maxLength}</span>\n            )}\n        </div>\n    );\n};\n\nexport default PermissionUsers;\n","import React, {useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport cn from 'classnames';\nimport getStackCategory from '../../utils/getStackCategory';\nimport PermissionUsers from '../../PermissionUsers';\nimport {ReactComponent as ChartIcon} from './assets/chart.svg';\nimport {ReactComponent as MLIcon} from './assets/ml.svg';\nimport {ReactComponent as TableIcon} from './assets/table.svg';\nimport {ReactComponent as AppIcon} from './assets/app.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    userData: {user: string},\n\n    data: {\n        user: string,\n        name: string,\n        head: {id: string}\n    },\n\n    deleteAction?: Function,\n};\n\nconst Item = ({\n    className,\n    Component = 'div',\n    data,\n    deleteAction,\n    ...rest\n}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const onClickDelete = event => {\n        event.stopPropagation();\n        event.preventDefault();\n        deleteAction(data.name);\n    };\n\n    const renderIcon = () => {\n        const contentType = data.head?.preview?.content_type;\n        const application = data.head?.preview?.application;\n\n        const category = getStackCategory({\n            application,\n            contentType,\n        });\n\n        switch (category) {\n            case 'chart':\n                return <ChartIcon />;\n\n            case 'table':\n                return <TableIcon />;\n\n            case 'mlModel':\n                return <MLIcon />;\n\n            case 'app':\n                return <AppIcon />;\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <Component\n            className={cn(css.item, className)}\n            ref={ref}\n            {...rest}\n        >\n            <div className={css.icon}>\n                {renderIcon()}\n            </div>\n\n            <div className={css.top}>\n                <div className={css.name} title={data.name}>{data.name}</div>\n                <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n\n                {data.private && (\n                    <PermissionUsers\n                        variant=\"list\"\n                        owner={data.user}\n                        className={css.permissions}\n                        permissions={data.permissions}\n                        maxLength={3}\n                    />\n                )}\n            </div>\n\n            {data.head && (\n                <div className={css.date}>\n                    {t('updated')} {moment(data.head.timestamp).format('L')}\n                </div>\n            )}\n\n            {deleteAction && (\n                <span className={css.delete} onClick={onClickDelete}>\n                    <span className=\"mdi mdi-close\" />\n                </span>\n            )}\n        </Component>\n    );\n};\n\nexport default Item;\n","import {useEffect, useState} from 'react';\n\nexport default (id, defaultValue = 'list') => {\n    const [value, setValue] = useState(null);\n\n    useEffect(() => {\n        const savedValue = localStorage.getItem(`list-view-value-${id}`);\n\n        if (savedValue)\n            setValue(savedValue);\n        else\n            setValue(defaultValue);\n\n    }, []);\n\n    const onChange = value => {\n        setValue(value);\n        localStorage.setItem(`list-view-value-${id}`, value);\n    };\n\n    return [value, onChange];\n};\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    items: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, items, onChange, disabled}: Props) => {\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {items.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {\n                        active: value === i.value,\n                        disabled: disabled || i.disabled,\n                    })}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","export default {\n    notFound: () => '/404',\n    auth: () => '/auth',\n    authLogin: () => '/auth/login',\n    verifyUser: () => '/auth/verify',\n    authSignUp: () => '/auth/signup',\n    authForgetPassword: () => '/auth/forget-password',\n    authResetPassword: () => '/auth/reset-password',\n    confirmEmailMessage: () => '/auth/confirm-message',\n\n    // stacks\n    stacks: (user = ':user') => `/${user}`,\n    stackDetails: (user = ':user', id = ':stack') => `/${user}/${id}` + (id === ':stack' ? '+' : ''),\n\n    //reports\n    reports: (user = ':user') => `/${user}/d`,\n    reportsDetails: (user = ':user', id = ':id') => `/${user}/d/${id}`,\n\n    // jobs\n    jobs: (user = ':user') => `/${user}/j`,\n    jobsDetails: (user = ':user', id = ':id') => `/${user}/j/${id}`,\n\n    // settings\n    settings: () => '/settings',\n};\n","// @flow\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport cn from 'classnames';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport ViewSwitcher from '../../ViewSwitcher';\nimport SearchField from '../../SearchField';\nimport StackListItem from '../ListItem';\nimport Tooltip from '../../Tooltip';\nimport useListViewSwitcher from '../../hooks/useListViewSwitcher';\nimport Tabs from '../Details/components/Tabs';\nimport getStackCategory from '../../utils/getStackCategory';\nimport routes from '../../routes';\nimport css from './styles.module.css';\n\ntype Stack = {\n    [key: string]: any,\n} | string;\n\ntype Props = {\n    deleteStack: Function,\n    renderUploadStack?: Function,\n    data: Array<Stack>,\n    loading: boolean,\n    currentUser?: string,\n};\n\nconst List = ({\n    data = [],\n    loading,\n    deleteStack,\n    currentUser,\n    user,\n    renderUploadStack = () => {},\n}: Props) => {\n    const {t} = useTranslation();\n\n    const tabsMap = {\n        chart: {\n            label: t('chart_plural'),\n            value: 'chart',\n        },\n\n        table: {\n            label: t('dataSet_plural'),\n            value: 'table',\n        },\n\n        mlModel: {\n            label: t('mlModel_plural'),\n            value: 'mlModel',\n        },\n\n        app: {\n            label: t('application_plural'),\n            value: 'app',\n        },\n    };\n\n    const [view, setView] = useListViewSwitcher('stack-list');\n    const [tabs, setTabs] = useState([]);\n    const [activeTab, setActiveTab] = useState(null);\n    const [stacksByCategories, setStacksByCategories] = useState({});\n    const [deletingStack, setDeletingStack] = useState(null);\n    const [isShowWelcomeModal, setIsShowWelcomeModal] = useState(false);\n    const [isShowUploadStackModal, setIsShowUploadStackModal] = useState(false);\n    const [search, setSearch] = useState('');\n    const isInitialMount = useRef(true);\n    const [sorting, setSorting] = useState(null);\n\n    const sortingItems = {lastSource: {title: t('lastChanged')}};\n\n    const showWelcomeModal = () => setIsShowWelcomeModal(true);\n    const onChangeSearch = value => setSearch(value);\n\n    const hideWelcomeModal = () => {\n        localStorage.setItem('welcome-modal-is-showing', true);\n        setIsShowWelcomeModal(false);\n    };\n\n    useEffect(() => {\n        if (isInitialMount.current) {\n            isInitialMount.current = false;\n        } else {\n            if (!localStorage.getItem('welcome-modal-is-showing') && !loading && !data.length)\n                showWelcomeModal();\n        }\n\n        if (data && data.length) {\n            const stacksByCategories = {};\n            const tabs = [];\n\n            data.forEach(stack => {\n                const category = getStackCategory({\n                    application: stack.head?.preview?.application,\n                    contentType: stack.head?.preview?.content_type,\n                });\n\n                if (category && !tabs.find(i => i.value === tabsMap[category].value))\n                    tabs.push(tabsMap[category]);\n\n                if (Array.isArray(stacksByCategories[category]))\n                    stacksByCategories[category].push(stack);\n                else\n                    stacksByCategories[category] = [stack];\n            });\n\n            setTabs(tabs);\n            setStacksByCategories(stacksByCategories);\n\n            if (!activeTab || !tabs.find(i => i.value === tabsMap[activeTab].value))\n                setActiveTab(tabs[0].value);\n        }\n    }, [data]);\n\n\n    const showUploadStackModal = event => {\n        event.preventDefault();\n        setIsShowUploadStackModal(true);\n    };\n\n    const hideUploadStackModal = () => setIsShowUploadStackModal(false);\n\n    const deleteItem = () => {\n        deleteStack(deletingStack);\n        hideDeleteConfirmation();\n    };\n\n    const showDeleteConfirmation = name => {\n        setDeletingStack(name);\n    };\n    const hideDeleteConfirmation = () => setDeletingStack(null);\n\n    const getItems = () => {\n        let filteredItems = [];\n\n        let items = [];\n\n        if (activeTab && stacksByCategories[activeTab])\n            items = stacksByCategories[activeTab];\n        else\n            items = data;\n\n        if (items && items.length) {\n            if (search.length)\n                filteredItems = items.filter(i => i.name.indexOf(search) >= 0);\n            else\n                filteredItems = items;\n        }\n\n        return filteredItems;\n    };\n\n    const items = getItems();\n\n    return (\n        <div className={css.list}>\n            <div className={css.header}>\n                <div className={css.title}>\n                    {currentUser === user\n                        ? t('stacks')\n                        : t('stacksOf', {name: user})\n                    }\n                </div>\n\n                {Boolean(data.length) && (\n                    <div className={css.headerSide}>\n                        {Boolean(data.length) && (\n                            <SearchField\n                                className={css.search}\n                                showEverything\n                                isDark\n                                placeholder={t('findStack')}\n                                size=\"small\"\n                                value={search}\n                                onChange={onChangeSearch}\n                            />\n                        )}\n\n                        {renderUploadStack && (\n                            <Tooltip\n                                overlayContent={t('uploadTooltip')}\n                            >\n                                <Button\n                                    className={css.uploadButton}\n                                    onClick={showUploadStackModal}\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                >\n                                    {t('createStack')}\n                                </Button>\n                            </Tooltip>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {!(!loading && !Boolean(data.length)) && (\n                <div className={css.controls}>\n                    <ViewSwitcher\n                        className={css.viewSwitcher}\n                        value={view}\n                        onChange={setView}\n                    />\n\n                    {false && (\n                        <Dropdown\n                            className={css.sorting}\n                            items={\n                                Object.keys(sortingItems).map(key => ({\n                                    title: sortingItems[key].title,\n                                    onClick: () => setSorting(key),\n                                }))\n                            }\n                        >\n                            <button\n                                className={css.sortingButton}\n                            >\n                                {sorting ? sortingItems[sorting].title : t('sort')}\n                                <span className=\"mdi mdi-chevron-down\" />\n                            </button>\n                        </Dropdown>\n                    )}\n                </div>\n            )}\n\n            {loading && !Boolean(data.length) && (\n                <div className={cn(css.itemList, view)}>\n                    {new Array(view === 'grid' ? 12 : 8).fill({}).map((i, index) => (\n                        <div key={index} className={css.loadingItem} />\n                    ))}\n                </div>\n            )}\n\n            {!loading && !data.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: user})\n                    }\n                </div>\n            )}\n\n            {!loading && !Boolean(data.length) && currentUser === user && renderUploadStack && renderUploadStack()}\n\n            {!!tabs.length && (\n                <Tabs\n                    className={css.tabs}\n                    items={tabs}\n                    value={activeTab}\n                    onChange={tab => setActiveTab(tab)}\n                />\n            )}\n\n            {Boolean(data.length && items.length) && (\n                <div className={cn(css.itemList, view)}>\n                    {items.map((item, index) => <StackListItem\n                        className={css.item}\n                        Component={Link}\n                        key={index}\n                        data={item}\n                        to={routes.stackDetails(item.user, item.name)}\n                        deleteAction={currentUser === item.user && showDeleteConfirmation}\n                    />)}\n                </div>\n            )}\n\n            {Boolean(data.length && !items.length) && <div className={css.text}>\n                {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n            </div>}\n\n            <Modal\n                isShow={Boolean(deletingStack)}\n                onClose={hideDeleteConfirmation}\n                size=\"confirmation\"\n                title={t('deleteStack')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t('areYouSureYouWantToDelete', {name: deletingStack})}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={hideDeleteConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={deleteItem}\n                        className={css.button}\n                    >{t('deleteStack')}</Button>\n                </div>\n            </Modal>\n\n            {currentUser === user && (\n                <Modal\n                    isShow={isShowWelcomeModal}\n                    onClose={hideWelcomeModal}\n                    size=\"small\"\n                    title={`${t('welcomeToDStack')}👋`}\n                    className={css.modal}\n                >\n                    <div className={css.description}>{t('yourEmailWasSuccessfullyConfirmed')}</div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={hideWelcomeModal}\n                            className={css.button}\n                        >{t('getStarted')}</Button>\n                    </div>\n                </Modal>\n            )}\n\n            {renderUploadStack && <Modal\n                isShow={isShowUploadStackModal}\n                withCloseButton\n                onClose={hideUploadStackModal}\n                size=\"big\"\n                title={t('howToConnectYourDataWithDStack')}\n                className={css.modal}\n            >\n                {renderUploadStack()}\n            </Modal>}\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport {isString} from 'lodash-es';\nimport config from '../../config';\nimport css from './styles.module.css';\n\nexport const pullPythonCode = data => {\n    let a = [`\\'/${data.stack}\\'`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        let p = [];\n\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n            else\n                p.push(`\\'${key}\\': ${data.params[key]}`);\n        });\n        a.push('params={' + p.join(', ') + '}');\n    }\n\n    return `import dstack as ds\n\ndf = ds.pull(${a.join(', ')})`;\n};\n\nexport const pullRCode = data => {\n    let a = [`\\\"/${data.stack}\\\"`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                a.push(`\\\"${key}\\\" = \\\"${data.params[key]}\\\"`);\n            else\n                a.push(`\\\"${key}\\\" = ${data.params[key]}`);\n        });\n    }\n\n    return `library(dstack)\n\ndf <- read.csv(pull(${a.join(', ')}))`;\n};\n\ntype Props = {\n    configurePythonCommand: string,\n    modalMode?: boolean,\n}\n\nconst HowTo = ({modalMode, data, configurePythonCommand}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css.howto}>\n            {!modalMode && (\n                <div className={css.title}>{t('howToFetchDataUsingTheAPI')}</div>\n            )}\n\n            <div>\n                <div className={css.description}>{t('installPipPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {pullPythonCode(data)}\n                </CodeViewer>\n            </div>\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default HowTo;\n","import {useEffect} from 'react';\n\nexport default (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = event => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n};\n","// @flow\nimport React, {useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport useOnClickOutside from '../../hooks/useOnClickOutside';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport css from './styles.module.css';\n\ntype Props = {\n    revision: string;\n    className?: string,\n    frame: string,\n    frames: Array<{}>,\n    headId: ?string,\n    onChange?: Function,\n    onMarkAsHead?: Function,\n};\n\nconst getFrameName = frame => moment(frame.timestamp).format('D MMM YYYY h:mm a');\n\nconst Frames = ({frame, frames, headId, onChange, onMarkAsHead, className}: Props) => {\n    const {t} = useTranslation();\n    const [isShowDropdown, setIsShowDropdown] = useState(false);\n    const toggleDropdown = () => setIsShowDropdown(!isShowDropdown);\n    const [frameForMarkingAsHead, setFrameForMarkingAsHead] = useState(null);\n    const dropdownRef = useRef(null);\n\n    useOnClickOutside(dropdownRef, () => isShowDropdown && toggleDropdown());\n\n    if (!frames.length)\n        return null;\n\n    const activeFrame = frames.find(f => f.id === frame);\n\n    const onClickItem = frameId => () => {\n        toggleDropdown();\n\n        if (frame !== frameId && onChange)\n            onChange(frameId);\n    };\n\n    const onClickMarkAsHead = frameId => event => {\n        event.stopPropagation();\n        setFrameForMarkingAsHead(frameId);\n        toggleDropdown();\n    };\n\n    const hideConfirmation = () => setFrameForMarkingAsHead(null);\n\n    const confirmMarkFrameAsHead = () => {\n        if (onMarkAsHead)\n            onMarkAsHead(frameForMarkingAsHead.id);\n\n        setFrameForMarkingAsHead(null);\n    };\n\n    if (!activeFrame) {\n        return null;\n    }\n\n    return (\n        <div className={cx(css.frames, className)} ref={dropdownRef}>\n            <div\n                className={cx(css['frames-dropdown'])}\n                ref={dropdownRef}\n            >\n                <div className={css.button} onClick={toggleDropdown}>\n                    <span className={css.name}>\n                        {getFrameName(activeFrame)}\n                    </span>\n\n                    {headId === activeFrame.id && <span className={css.label}>{t('head')}</span>}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </div>\n\n                <div className={cx(css.dropdown, {show: isShowDropdown})}>\n                    {frames.map(f => (\n                        <Tooltip\n                            key={f.id}\n                            placement=\"rightTop\"\n                            trigger={Boolean(f.description) ? ['hover'] : []}\n                            align={{offset: [-20, -20]}}\n                            onClick={onClickItem(f.id)}\n                            overlayContent={f.description}\n                        >\n                            <div\n                                className={css.item}\n                            >\n                                <span className={css.name}>\n                                    {getFrameName(f)}\n                                </span>\n\n                                {headId === f.id && <span className={css.label}>{t('head')}</span>}\n\n                                {headId !== f.id && <div\n                                    className={css.mark}\n                                    onClick={onClickMarkAsHead(f)}\n                                >{t('markAsHead')}</div>}\n                            </div>\n                        </Tooltip>\n                    ))}\n                </div>\n            </div>\n\n            {activeFrame && activeFrame.description && (\n                <Tooltip overlayContent={activeFrame.description}>\n                    <div className={cx(css.info)}>\n                        <span className=\"mdi mdi-information-variant\" />\n                    </div>\n                </Tooltip>\n            )}\n\n            <Modal\n                isShow={Boolean(frameForMarkingAsHead)}\n                onClose={hideConfirmation}\n                size=\"confirmation\"\n                title={t('changeHeadRevision')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t(\n                        'areYouSureYouWantToChangeTheCurrentHeadRevisionToByName',\n                        {frame: frameForMarkingAsHead && getFrameName(frameForMarkingAsHead)},\n                    )}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={confirmMarkFrameAsHead}\n                        className={css.button}\n                    >{t('yesChangeHead')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={hideConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n\nexport default Frames;\n","// @flow\nimport {useCallback} from 'react';\nimport {debounce as _debounce} from 'lodash-es';\n\nexport default (callback: Function, depsOrDelay: Array<any> | number, deps: Array<any>) => {\n    let delay = 300;\n\n    if (typeof depsOrDelay === 'number')\n        delay = depsOrDelay;\n    else\n        deps = depsOrDelay;\n\n\n    return useCallback(_debounce(callback, delay), deps);\n};","export const isValidUserName = userName => {\n    const errors = {\n        notAllowedCharacters: 'notAllowedCharacters',\n        tooShort: 'tooShort',\n        tooLong: 'tooLong',\n    };\n\n    const testRegexp = /^[a-zA-Z0-9-_]+$/;\n\n    if (userName.length < 3)\n        return {\n            isValid: false,\n            error: errors.tooShort,\n        };\n\n    if (userName.length > 24)\n        return {\n            isValid: false,\n            error: errors.tooLong,\n        };\n\n    if (!testRegexp.test(userName) || /--/.test(userName))\n        return {\n            isValid: false,\n            error: errors.notAllowedCharacters,\n        };\n\n    return {isValid: true};\n};\n\nexport const isEmail = value => {\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\n};\n\nexport const isRequired = value => {\n    return !(value === null || value === undefined || value === '');\n};\n\nexport const noSpaces = value => {\n    return /^[\\S]*$/.test(value);\n};\n\nexport const isValidStackName = value => {\n    return /^[^\\/]/.test(value) && /^[a-zA-Z0-9\\/_]+$/.test(value);\n};\n\nexport const isValidEmail = mail => {\n    const errors = {invalidEmailAddress: 'invalidEmailAddress'};\n\n    if (!isEmail(mail))\n        return {\n            isValid: false,\n            error: errors.invalidEmailAddress,\n        };\n\n    return {isValid: true};\n};\n\nexport const isValidPassword = password => {\n    const errors = {mustNotBeEmpty: 'mustNotBeEmpty'};\n\n    if (password.length === 0)\n        return {\n            isValid: false,\n            error: errors.mustNotBeEmpty,\n        };\n\n    return {isValid: true};\n};","// @flow\nimport apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\nimport {isValidEmail} from '../validations';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const checkUser = (userName: string) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const request = await api.get(apiUrl + config.CHECK_USER(userName));\n\n                resolve(request.data);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    type AddPermissionsParams = {\n        userName: string,\n        instancePath: string,\n    }\n\n    const addPermissions = ({userName, instancePath}: AddPermissionsParams) => {\n        const params = {path: instancePath};\n\n        if (isValidEmail(userName).isValid)\n            params.email = userName;\n        else\n            params.user = userName;\n\n        return new Promise(async (resolve, reject) => {\n            try {\n                await api.post(apiUrl + config.PERMISSIONS_ADD, params);\n                resolve(params);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    type RemovePermissionsParams = {\n        user: {email: string} | {user?: string},\n        instancePath: string,\n    }\n\n    const removePermissions = ({user, instancePath}: RemovePermissionsParams) => {\n        const params = {\n            path: instancePath,\n            ...user,\n        };\n\n        return new Promise(async (resolve, reject) => {\n            try {\n                await api.post(apiUrl + config.PERMISSIONS_DELETE, params);\n\n                resolve();\n            } catch (e) {\n                reject();\n            }\n        });\n    };\n\n    return {checkUser, addPermissions, removePermissions};\n};\n","// @flow\nimport React, {useState, useEffect, Fragment, useMemo} from 'react';\nimport {isEqual, get} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport useDebounce from '../hooks/useDebounce';\nimport Copy from '../Copy';\nimport Modal from '../Modal';\nimport Avatar from '../Avatar';\nimport CheckboxField from '../CheckboxField';\nimport TextField from '../TextField';\nimport Button from '../Button';\nimport {isValidEmail} from '../validations';\nimport {useAppStore} from '../AppStore';\nimport useActions from './actions';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    urlParams?: {[key: string]: any},\n    update: Function,\n    onUpdatePrivate: Function,\n    onUpdatePermissions: Function,\n    permissions: Array<{}>,\n    instancePath: string,\n    loading: boolean,\n    defaultIsPrivate?: boolean,\n    defaultPermissions?: Array<{}>,\n};\n\nconst Share = ({\n    className,\n    instancePath,\n    defaultIsPrivate = false,\n    defaultPermissions = [],\n    onUpdatePrivate,\n    urlParams = {},\n    onUpdatePermissions,\n}: Props) => {\n    const [{configInfo}] = useAppStore();\n    const [userExists, setUserExists] = useState(null);\n    const [isEmail, setIsEmail] = useState(false);\n    const [isPrivate, setIsPrivate] = useState(defaultIsPrivate);\n    const [permissions, setPermissions] = useState(defaultPermissions);\n    const [loading, setLoading] = useState(false);\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [userName, setUserName] = useState('');\n    const {checkUser, addPermissions, removePermissions} = useActions();\n    const {t} = useTranslation();\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    useEffect(() => {\n        setPermissions(defaultPermissions);\n        setIsPrivate(defaultIsPrivate);\n    }, [instancePath]);\n\n    const updatePrivate = useDebounce(isPrivate => {\n        if (onUpdatePrivate)\n            onUpdatePrivate(isPrivate);\n    }, []);\n\n    const checkUserName = useDebounce(userName => {\n        setUserExists(null);\n\n        if (userName.length) {\n            checkUser(userName)\n                .then(data => setUserExists(data.exists))\n                .catch(() => setUserExists(null));\n        }\n    }, []);\n\n    const onChangeIsPrivate = event => {\n        setIsPrivate(event.target.checked);\n        updatePrivate(event.target.checked);\n    };\n\n    const onChangeUserName = event => {\n        setUserName(event.target.value);\n\n        if (isValidEmail(event.target.value).isValid && get(configInfo, 'data.email_enabled')) {\n            setUserExists(null);\n            setIsEmail(true);\n        } else {\n            checkUserName(event.target.value);\n\n            if (isEmail)\n                setIsEmail(false);\n        }\n    };\n\n    const onKeyPressUserName = event => {\n        if (event.which === 13 || event.keyCode === 13 || event.key === 'Enter') {\n            if (userName.length) {\n                const userHasPermission = permissions.some(i => i.user === userName);\n\n                if (!userHasPermission)\n                    addUser(userName);\n                else\n                    setUserName('');\n            }\n        }\n    };\n\n    const addUser = (userName: string) => {\n        setLoading(true);\n\n        addPermissions({\n            userName,\n            instancePath,\n        })\n            .then(data => {\n                setUserName('');\n                setPermissions(permissions => {\n                    const newPermissions = permissions.concat([data]);\n\n                    onUpdatePermissions(newPermissions);\n                    return newPermissions;\n                });\n            })\n            .finally(() => setLoading(false));\n    };\n\n    const removeUser = (user: {\n        user?: string,\n        email?: string,\n    }) => () => {\n        removePermissions({\n            instancePath,\n            user,\n        })\n            .then(() => {\n                setPermissions(permissions => {\n                    const newPermissions = permissions.filter(i => !isEqual(i, user));\n\n                    onUpdatePermissions(newPermissions);\n                    return newPermissions;\n                });\n            });\n    };\n\n    const renderUser = (user, index) => {\n        return (\n            <div className={cx(css.user, {disabled: !user.user})} key={index}>\n                <Avatar\n                    className={css.userPic}\n                    name={user.user || user.email}\n                />\n\n                <div className={css.userName}>{user.user || user.email}</div>\n\n                <span\n                    onClick={removeUser(user)}\n                    className={cx(css.userDelete, 'mdi mdi-close')}\n                />\n\n                {user.user && (\n                    <span className={cx(css.userMessage, css.userMessageSuccess)}>{t('done')}</span>\n                )}\n\n                {user.email && (\n                    <span className={css.userMessage}>{t('waitingForAcceptance')}</span>\n                )}\n            </div>\n        );\n    };\n\n    const searchString = useMemo(() => {\n        const searchString = Object\n            .keys(urlParams)\n            .reduce((result, key) => {\n                if (urlParams[key])\n                    result.push(`${key}=${urlParams[key]}`);\n\n                return result;\n            }, [])\n            .join('&');\n\n        if (searchString)\n            return `?${searchString}`;\n    }, [urlParams]);\n\n    const {origin} = window.location;\n\n    return (\n        <Fragment>\n            <Button\n                className={cx(css.desktopButton, className)}\n                color=\"primary\"\n                size=\"small\"\n                variant=\"contained\"\n                onClick={toggleModal}\n            >\n                {t('share')}\n            </Button>\n\n            <Button\n                className={cx(css.mobileButton, className)}\n                color=\"primary\"\n                size=\"small\"\n                onClick={toggleModal}\n            >\n                <span className=\"mdi mdi-share-variant\" />\n            </Button>\n\n            {instancePath && <Modal\n                isShow={isShowModal}\n                onClose={toggleModal}\n                size=\"small\"\n                title={t('shareStack')}\n                className={css.modal}\n                dialogClassName={css.dialog}\n                withCloseButton\n            >\n                <div className={css.description}>\n                    {isPrivate\n                        ? t('theCurrentStackIsPrivateButYouCanMakeItPublic')\n                        : t('theCurrentStackIsPublicButYouCanMakeItPrivateAndShareWithSelectedUsersOnly')\n                    }\n                </div>\n\n                <div className={css.copylink}>\n                    <TextField\n                        className={css.textInput}\n                        readOnly\n                        value={`${origin}/${instancePath}${searchString}`}\n                    />\n\n                    <Copy\n                        className={css.copy}\n                        copyText={`${origin}/${instancePath}${searchString}`}\n                        successMessage={t('linkIsCopied')}\n                    />\n                </div>\n\n                <div className={css.content}>\n                    <CheckboxField\n                        className={css.switcher}\n                        id=\"checkbox-is-private\"\n                        name=\"private\"\n                        appearance=\"switcher\"\n                        onChange={onChangeIsPrivate}\n                        value={isPrivate}\n                        offLabel={t('everyoneWithTheLink')}\n                        onLabel={t('selectedUsersOnly')}\n                    />\n\n                    {isPrivate && <div className={css.checkUserName}>\n                        <TextField\n                            disabled={loading}\n                            placeholder={get(configInfo, 'data.email_enabled')\n                                ? t('enterUsernameEmailAndPressEnter')\n                                : t('enterUsernameAndPressEnter')\n                            }\n                            className={css.textInput}\n                            value={userName}\n                            onChange={onChangeUserName}\n                            onKeyPress={onKeyPressUserName}\n                        />\n\n                        {Boolean(userName.length) && !loading && <div\n                            className={cx(css.checkUserMessage, {\n                                success: userExists,\n                                fail: userExists === false,\n                                secondary: isEmail,\n                            })}\n                        >\n                            {userExists && !isEmail && t('userExists')}\n                            {!userExists && !isEmail && t('userNotFound')}\n                            {isEmail && t('enterToInvite')}\n                        </div>}\n                    </div>}\n\n                    {isPrivate && <div className={css.users}>\n                        {permissions.map(renderUser)}\n                    </div>}\n                </div>\n            </Modal>}\n        </Fragment>\n    );\n};\n\nexport default Share;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.label} />\n            <div className={css.description} />\n            <div className={css.diagram} />\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, {useEffect, useState, useRef} from 'react';\nimport {useTranslation, Trans} from 'react-i18next';\nimport {get} from 'lodash-es';\nimport ReactMarkdown from 'react-markdown';\nimport cn from 'classnames';\nimport Button from '../../../../Button';\nimport TextAreaField from '../../../../TextAreaField';\nimport {useAppStore} from '../../../../AppStore';\nimport getStackCategory from '../../../../utils/getStackCategory';\nimport css from './styles.module.css';\n\nconst EmptyMessage = ({onAdd}) => {\n    return (\n        <Trans i18nKey=\"readmeEmptyMessage\">\n            Sure your ML model is easy to understand without README? IF no, please, <a\n                href=\"#\"\n                onClick={onAdd}\n            >add some helpful information</a> about how to use the model.\n        </Trans>\n    );\n};\n\nconst Readme = ({className, data, onUpdate}) => {\n    const [{currentUser}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const category = getStackCategory({\n        application: get(data, 'head.attachments[0].application'),\n        contentType: get(data, 'head.attachments[0].content_type'),\n    });\n\n    const {t} = useTranslation();\n    const textareaRef = useRef(null);\n    const [value, setValue] = useState(data.readme);\n    const [isEdit, setIsEdit] = useState(false);\n\n    useEffect(() => {\n        if (isEdit && textareaRef?.current) {\n            textareaRef.current.focus();\n\n            if (textareaRef.current.setSelectionRange)\n                textareaRef.current.setSelectionRange(\n                    textareaRef.current.value.length,\n                    textareaRef.current.value.length\n                );\n\n            textareaRef.current.scrollTop = textareaRef.current.scrollHeight;\n        }\n    }, [isEdit]);\n\n    const edit = () => setIsEdit(true);\n\n    const cancel = () => {\n        setIsEdit(false);\n        setValue(data.readme);\n    };\n\n    const save = () => {\n        onUpdate(value);\n        setIsEdit(false);\n    };\n\n    const onAddReadme = event => {\n        event.preventDefault();\n        edit();\n    };\n\n    const onChange = event => {\n        setValue(event.target.value);\n    };\n\n    if ((!data?.readme && data.user !== currentUserName) || category !== 'mlModel')\n        return null;\n\n    return (\n        <div>\n            <div className={cn(css.readme, className)}>\n                <div className={css.container}>\n                    <div className={css.header}>\n                        <div className={css.title}>\n                            {t('readme')}\n                        </div>\n\n                        {data.user === currentUserName && !isEdit && (\n                            <Button\n                                color={'secondary'}\n                                className={css.edit}\n                                onClick={edit}\n                            >\n                                <span className={'mdi mdi-pencil'} />\n                            </Button>\n                        )}\n                    </div>\n\n                    <div className={css.content}>\n                        {!isEdit && !data.readme && <div className={css.emptyMessage}>\n                            <EmptyMessage\n                                onAdd={onAddReadme}\n                            />\n                        </div>}\n\n                        {isEdit && (\n                            <TextAreaField\n                                ref={textareaRef}\n                                onChange={onChange}\n                                className={css.field}\n                                value={value}\n                            />\n                        )}\n\n                        {!isEdit && data.readme && (\n                            <div\n                                className={css.preview}\n                            >\n                                <ReactMarkdown>\n                                    {data.readme}\n                                </ReactMarkdown>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {isEdit && <div className={css.help}>{' **Strong** # Title `code` - List'}</div>}\n\n                {isEdit && (\n                    <div className={css.buttons}>\n                        <Button\n                            size=\"small\"\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            onClick={cancel}\n                            className={css.button}\n                        >{t('cancel')}</Button>\n\n                        <Button\n                            size=\"small\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            onClick={save}\n                            className={css.button}\n                        >{t('save')}</Button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Readme;\n","// @flow\nimport {useState} from 'react';\nimport {isRequired, isEmail, noSpaces, isValidStackName} from '../validations';\n\nconst validationMap = {\n    required: isRequired,\n    email: isEmail,\n    'no-spaces-stack': noSpaces,\n    'stack-name': isValidStackName,\n};\n\nconst getValidationFunction = (validator: Function | string): Function => {\n    if (typeof validator === 'string' && validationMap[validator])\n        return validationMap[validator];\n\n    if (typeof validator === 'function')\n        return validator;\n\n    return () => true;\n};\n\nexport default (\n    initialFormState: {[key: string]: any},\n    fieldsValidators: {[key: string]: Array<Function> | Function} = {}\n): {} => {\n    const [form, setForm] = useState(initialFormState);\n    const [formErrors, setFormErrors] = useState({});\n\n    const onChange = (eventOrName, value) => {\n        let name;\n\n        let fieldValue;\n\n        if (eventOrName.target) {\n            const event = eventOrName;\n\n            fieldValue = event.target.type === 'checkbox'\n                ? event.target.checked\n                : event.target.value;\n\n            name = event.target.name;\n        } else {\n            name = eventOrName;\n            fieldValue = value;\n        }\n\n        setForm({\n            ...form,\n            [name]: fieldValue,\n        });\n\n        setFormErrors({\n            ...formErrors,\n            [name]: [],\n        });\n    };\n\n    const resetForm = () => {\n        setForm(initialFormState);\n        setFormErrors({});\n    };\n\n    const getFieldErrors = fieldName => {\n        const errors = [];\n\n        if (Array.isArray(fieldsValidators[fieldName]))\n            fieldsValidators[fieldName].forEach(validator => {\n                const isValid = getValidationFunction(validator);\n\n                if (!isValid(form[fieldName]))\n                    errors.push(validator);\n            });\n\n        if (typeof fieldsValidators[fieldName] === 'string') {\n            const isValid = getValidationFunction(fieldsValidators[fieldName]);\n\n            if (!isValid(form[fieldName]))\n                errors.push(fieldsValidators[fieldName]);\n        }\n\n        return errors;\n    };\n\n    const checkValidForm = () => {\n        let isValid = true;\n        const newFormErrors = {};\n\n        Object.keys(fieldsValidators)\n            .forEach(fieldName => {\n                const errors = getFieldErrors(fieldName);\n\n                newFormErrors[fieldName] = errors;\n                isValid = isValid && !errors.length;\n            });\n\n        setFormErrors(newFormErrors);\n        return isValid;\n    };\n\n    return {\n        form,\n        setForm,\n        formErrors,\n        setFormErrors,\n        resetForm,\n        onChange,\n        checkValidForm,\n    };\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport usePrevious from '../../hooks/usePrevious';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {debounce as _debounce} from 'lodash-es';\nimport Button from '../../Button';\nimport MarkdownRender from '../../MarkdownRender';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport Share from '../../Share';\nimport PermissionUsers from '../../PermissionUsers';\nimport StackFilters from '../../StackFilters';\nimport StackHowToFetchData from '../HowToFetchData';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from './components/Loader';\nimport Tabs from './components/Tabs';\nimport Readme from './components/Readme';\nimport useForm from '../../hooks/useForm';\nimport {formatBytes, parseStackParams, parseStackTabs} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    downloadAttachment: Function,\n    toggleUpload: Function,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    onChangeHeadFrame: Function,\n    onUpdateReadme: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeFrame: Function,\n    configurePythonCommand: string,\n    configureRCommand: string,\n    setPrivate: Function,\n    updatePermissions: Function,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    downloadAttachment,\n    onChangeFrame,\n    onUpdateReadme,\n    data,\n    frame,\n    loading,\n    currentUser,\n    toggleUpload,\n    backUrl,\n    user,\n    stack,\n    configurePythonCommand,\n    configureRCommand,\n    setPrivate,\n    updatePermissions,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [activeTab, setActiveTab] = useState();\n    const [fields, setFields] = useState({});\n    const [tabs, setTabs] = useState([]);\n    const prevFrame = usePrevious(frame);\n\n    const [isShowHowToModal, setIsShowHowToModal] = useState(false);\n\n    const showHowToModal = event => {\n        event.preventDefault();\n        setIsShowHowToModal(true);\n    };\n\n    const hideHowToModal = () => setIsShowHowToModal(false);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseTabs();\n    }, [frame]);\n\n    const findAttach = useCallback((form, tabName, attachmentIndex) => {\n        const attachments = get(frame, 'attachments');\n        const fields = Object.keys(form);\n        const tab = tabs.find(t => t.value === tabName);\n\n        if (!attachments)\n            return;\n\n        if (fields.length || tabs.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                if (tab\n                    && attach.params[tab.value]?.type !== 'tab'\n                    && attach.params[tab.key]?.title !== tab.value\n                )\n                    return false;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], form[key]))\n                        valid = false;\n                });\n\n                if (valid && !(attachmentIndex === undefined && index === 0))\n                    onChangeAttachmentIndex(index);\n\n                return valid;\n            });\n        }\n    }, [tabs]);\n\n    const findAttachDebounce = useCallback(_debounce(findAttach, 300), [data, frame, findAttach]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            findAttachDebounce(form, activeTab, attachmentIndex);\n    }, [form]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            parseParams();\n    }, [activeTab]);\n\n    useEffect(() => {\n        if (!didMountRef.current)\n            didMountRef.current = true;\n    }, []);\n\n    const getCurrentAttachment = selectedTab => {\n        const attachments = get(frame, 'attachments');\n\n        let attachment;\n\n        if (selectedTab) {\n            attachment = attachments.find(attach => {\n                return (attach.params[selectedTab.value]?.type === 'tab'\n                    || attach.params[selectedTab.key]?.title === selectedTab.value\n                );\n            });\n\n        } else if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex]) {\n                attachment = attachments[attachmentIndex];\n            }\n        } else {\n            attachment = attachments[0];\n        }\n\n        return attachment;\n    };\n\n    const parseTabs = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const attachment = getCurrentAttachment();\n\n        setTabs(tabs);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            setActiveTab((params[tab]?.title || tab || null));\n        }\n    };\n\n    const parseParams = () => {\n        const attachments = get(frame, 'attachments');\n        const tab = tabs.find(t => t.value === activeTab);\n        const attachment = getCurrentAttachment(tab);\n        const fields = parseStackParams(attachments, tab);\n\n        setFields(fields);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            delete params[tab];\n            setForm(params);\n        }\n    };\n\n    const onClickDownloadAttachment = event => {\n        event.preventDefault();\n        downloadAttachment();\n    };\n\n    const onChangeTab = tabName => {\n        findAttachDebounce(form, tabName, attachmentIndex);\n        setActiveTab(tabName);\n    };\n\n    const attachment = get(frame, `attachments[${attachmentIndex}]`);\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={cx(css.details)}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToMyStacks')\n                        : t('backToStacksOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    {data.name}\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {data.private && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {data && data.user === currentUser && (\n                        <Share\n                            instancePath={`${user}/${stack}`}\n                            onUpdatePrivate={setPrivate}\n                            className={css.share}\n                            defaultIsPrivate={data.private}\n                            defaultPermissions={data.permissions}\n\n                            urlParams={{\n                                a: attachmentIndex ? attachmentIndex : null,\n                                f: frame?.id !== data?.head?.id ? frame?.id : null,\n                            }}\n\n                            onUpdatePermissions={\n                                permissions => updatePermissions(`${user}/${stack}`, permissions)\n                            }\n                        />\n                    )}\n\n                    {data && data.user === currentUser && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                {\n                                    title: t('upload'),\n                                    onClick: toggleUpload,\n                                },\n                            ]}\n                        >\n                            <Button\n                                className={css['dropdown-button']}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n                </div>\n            </div>\n\n            <StackFrames\n                frames={get(data, 'frames', [])}\n                frame={currentFrameId}\n                headId={headId}\n                onMarkAsHead={onChangeHeadFrame}\n                onChange={onChangeFrame}\n                className={css.revisions}\n            />\n\n            {Boolean(tabs.length) && <Tabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                items={tabs}\n            />}\n\n            <div className={cx(css.container, {[css.withFilters]: Object.keys(fields).length})}>\n                <StackFilters\n                    fields={fields}\n                    form={form}\n                    onChange={onChange}\n                    className={cx(css.filters)}\n                />\n\n                {attachment\n                    && (attachment.description || attachment['content_type'] === 'text/csv')\n                    && (\n                        <div className={css['attachment-head']}>\n                            <div className={css.description}>\n                                {attachment.description && (<MarkdownRender source={attachment.description} />)}\n                            </div>\n\n                            {attachment['content_type'] === 'text/csv' && (\n                                <div className={css.actions}>\n                                    {attachment.preview && (\n                                        <div className={css.label}>\n                                            {t('preview')}\n\n                                            <div className={css['label-tooltip']}>\n                                                {t('theTableBelowShowsOnlyAPreview')}\n                                            </div>\n                                        </div>\n                                    )}\n\n                                    <a href=\"#\" onClick={showHowToModal}>{t('useThisStackViaAPI')}</a>\n                                    <span>{t('or')}</span>\n                                    <a href=\"#\" onClick={onClickDownloadAttachment}>{t('download')}</a>\n                                    {attachment.length && (\n                                        <span className={css.size}>({formatBytes(attachment.length)})</span>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n                    )\n                }\n\n                {frame && (\n                    <StackAttachment\n                        className={css.attachment}\n                        withLoader\n                        stack={`${user}/${stack}`}\n                        frameId={frame.id}\n                        id={attachmentIndex || 0}\n                    />\n                )}\n            </div>\n\n            {data && (\n                <Readme\n                    className={css.readme}\n                    data={data}\n                    onUpdate={onUpdateReadme}\n                />\n            )}\n\n            <Modal\n                isShow={isShowHowToModal}\n                withCloseButton\n                onClose={hideHowToModal}\n                size=\"big\"\n                title={t('howToFetchDataUsingTheAPI')}\n                className={css.modal}\n            >\n                <StackHowToFetchData\n                    configurePythonCommand={configurePythonCommand}\n                    configureRCommand={configureRCommand}\n\n                    data={{\n                        stack: `${user}/${stack}`,\n                        params: form,\n                    }}\n\n                    modalMode\n                />\n            </Modal>\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\n\nimport React from 'react';\nimport cn from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({className}: Props) => {\n    return (\n        <div className={cn(css.loader, className)}>\n            <div className={css.side} />\n            <div className={css.content} />\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, {useState, useRef, useEffect} from 'react';\nimport cn from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport usePrevious from '../../../../hooks/usePrevious';\nimport css from './styles.module.css';\n\nconst Progress = ({isActive = true, className}) => {\n    const {t} = useTranslation();\n    const [progress, setProgress] = useState(0);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const prevIsActive = usePrevious(isActive);\n    const requestFrame = useRef(null);\n    const isActiveRef = useRef(false);\n\n    useEffect(() => {\n        isActiveRef.current = isActive;\n\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            setProgress(0);\n        }\n\n        if (!isActive && requestFrame.current) {\n            cancelAnimationFrame(requestFrame.current);\n        }\n    }, [isActive]);\n\n    const calculateProgress = () => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100 || !isActiveRef.current)\n            cancelAnimationFrame(requestFrame.current);\n\n        if (isActiveRef.current)\n            requestFrame.current = requestAnimationFrame(calculateProgress);\n    };\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    return (\n        <div className={cn(css.progress, className)}>\n            <div className={css.percent}>\n                {Math.floor(progress)} %\n            </div>\n\n            <div className={css.bar}>\n                <div style={{width: `${progress}%`}} />\n            </div>\n\n            <div className={css.label}>{t('calculatingTheData')}</div>\n        </div>\n    );\n};\n\nexport default Progress;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\ntype executeParams = {\n    user: string,\n    stack: string,\n    frame: string,\n    attachment: number,\n    apply?: boolean,\n    views: Array<{}>,\n}\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const executeStack = (params: executeParams) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.APPS_EXECUTE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const pollStack = ({id}: {id: string}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.get(apiUrl + config.APPS_POLL + `?id=${id}`);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {executeStack, pollStack};\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport {useDebounce} from 'react-use';\nimport usePrevious from '../../hooks/usePrevious';\nimport moment from 'moment';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport Button from '../../Button';\nimport MarkdownRender from '../../MarkdownRender';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport Share from '../../Share';\nimport PermissionUsers from '../../PermissionUsers';\nimport StackFilters from '../../StackFilters';\nimport StackHowToFetchData from '../HowToFetchData';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from '../Details/components/Loader';\nimport FilterLoader from './components/Loader';\nimport Tabs from '../Details/components/Tabs';\nimport Readme from '../Details/components/Readme';\nimport Progress from './components/Progress';\nimport useForm from '../../hooks/useForm';\nimport {formatBytes, parseStackTabs, parseStackViews} from '../../utils';\nimport actions from '../actions';\nimport css from './styles.module.css';\n\nconst REFRESH_INTERVAL = 1000;\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    downloadAttachment: Function,\n    toggleUpload: Function,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    executionId: string,\n    onChangeHeadFrame: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeExecutionId: Function,\n    onUpdateReadme: Function,\n    onChangeFrame: Function,\n    configurePythonCommand: string,\n    configureRCommand: string,\n    setPrivate: Function,\n    updatePermissions: Function,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    executionId,\n    onChangeExecutionId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    downloadAttachment,\n    onChangeFrame,\n    onUpdateReadme,\n    data,\n    frame,\n    loading,\n    currentUser,\n    toggleUpload,\n    backUrl,\n    user,\n    stack,\n    configurePythonCommand,\n    configureRCommand,\n    setPrivate,\n    updatePermissions,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const [executeData, setExecuteData] = useState(null);\n    const [executing, setExecuting] = useState(false);\n    const [calculating, setCalculating] = useState(false);\n    const [error, setError] = useState(null);\n    const [appAttachment, setAppAttachment] = useState(null);\n    const [activeTab, setActiveTab] = useState();\n    const [tabs, setTabs] = useState([]);\n    const prevFrame = usePrevious(frame);\n    const {executeStack, pollStack} = actions();\n\n    const [isShowHowToModal, setIsShowHowToModal] = useState(false);\n\n    const showHowToModal = event => {\n        event.preventDefault();\n        setIsShowHowToModal(true);\n    };\n\n    const getFormFromViews = views => {\n        if (!views || !Array.isArray(views))\n            return {};\n\n        return views.reduce((result, view, index) => {\n            switch (view.type) {\n                case 'ApplyView':\n                    return result;\n                case 'SliderView':\n                    result[index] = view.data[view.selected];\n                    break;\n                case 'ComboBoxView':\n                    result[index] = view.selected;\n                    break;\n                default:\n                    result[index] = view.data;\n            }\n\n            return result;\n        }, {});\n    };\n\n    const updateExecuteData = data => {\n        const fields = parseStackViews(data.views);\n        const form = getFormFromViews(data.views);\n\n        setFields(fields);\n        setForm(form);\n        setExecuteData(data);\n    };\n\n    const hasApplyButton = () => {\n        if (!executeData?.views || !Array.isArray(executeData.views))\n            return false;\n\n        return executeData.views.some(view => view.type === 'ApplyView');\n    };\n\n    const submit = (form, apply = true) => {\n        setExecuting(true);\n\n        if (apply)\n            setCalculating(true);\n        else\n            setAppAttachment(null);\n\n        executeStack({\n            user: data.user,\n            stack: data.name,\n            frame: frame?.id,\n            attachment: attachmentIndex || 0,\n            apply,\n            views: executeData.views.map((view, index) => {\n                switch (view.type) {\n                    case 'ApplyView':\n                        return view;\n                    case 'ComboBoxView':\n                        view.selected = form[index];\n                        break;\n                    case 'SliderView':\n                        view.selected = view.data.findIndex(i => i === form[index]);\n                        break;\n                    default:\n                        view.data = form[index];\n                }\n\n                return view;\n            }),\n        })\n            .then(data => {\n                setExecuting(false);\n                updateExecuteData(data);\n\n                if (apply) {\n                    checkFinished({id: data.id, isUpdateData: apply});\n\n                    if (typeof onChangeExecutionId === 'function')\n                        onChangeExecutionId(data.id);\n                }\n            });\n    };\n\n    useDebounce(() => {\n        if (!isEqual(form, getFormFromViews(executeData?.views)) && !executing) {\n            submit(form, !!(!hasApplyButton() && appAttachment));\n        }\n    }, 300, [form]);\n\n    const onApply = () => submit(form);\n\n    useEffect(() => {\n        if (executeData && executeData.status === 'READY' && !appAttachment && !executing) {\n            if (!hasApplyButton())\n                submit(form, true);\n        }\n    }, [executeData]);\n\n    useEffect(() => {\n        if (data && frame && !loading) {\n            if (!executeData && !executionId) {\n                setExecuting(true);\n                setExecuteData(null);\n                setAppAttachment(null);\n\n                executeStack({\n                    user: data.user,\n                    stack: data.name,\n                    frame: frame?.id,\n                    attachment: attachmentIndex || 0,\n                })\n                    .then(data => {\n                        setExecuting(false);\n                        updateExecuteData(data);\n                    })\n                    .catch(() => setExecuting(false));\n            } else {\n                setExecuting(true);\n                setCalculating(true);\n                setAppAttachment(null);\n                checkFinished({id: executionId, isUpdateData: true});\n            }\n        }\n\n    }, [data, frame, attachmentIndex]);\n\n    const hideHowToModal = () => setIsShowHowToModal(false);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseTabs();\n    }, [frame]);\n\n    useEffect(() => {\n        if (!didMountRef.current)\n            didMountRef.current = true;\n    }, []);\n\n    const getCurrentAttachment = selectedTab => {\n        const attachments = get(frame, 'attachments');\n\n        let attachment;\n\n        if (selectedTab) {\n            attachment = attachments.find(attach => {\n                return (attach.params[selectedTab.value]?.type === 'tab'\n                    || attach.params[selectedTab.key]?.title === selectedTab.value\n                );\n            });\n\n        } else if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex]) {\n                attachment = attachments[attachmentIndex];\n            }\n        } else {\n            attachment = attachments[0];\n        }\n\n        return attachment;\n    };\n\n    const parseTabs = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const attachment = getCurrentAttachment();\n\n        setTabs(tabs);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            setActiveTab((params[tab]?.title || tab || null));\n        }\n    };\n\n    // const onClickDownloadAttachment = event => {\n    //     event.preventDefault();\n    //     downloadAttachment();\n    // };\n\n    const onChangeTab = tabName => {\n        setActiveTab(tabName);\n\n        const attachments = get(frame, 'attachments');\n        const tab = tabs.find(t => t.value === tabName);\n\n        if (!attachments)\n            return;\n\n        if (tabs.length) {\n            attachments.some((attach, index) => {\n\n                if (tab\n                    && attach.params[tab.value]?.type !== 'tab'\n                    && attach.params[tab.key]?.title !== tab.value\n                )\n                    return false;\n\n                if (onChangeExecutionId)\n                    onChangeExecutionId(undefined);\n\n                setExecuteData(null);\n                onChangeAttachmentIndex(index);\n\n                return true;\n            });\n        }\n    };\n\n    const checkFinished = ({id, isUpdateData}) => {\n        pollStack({id: id})\n            .then(data => {\n                if (['SCHEDULED', 'RUNNING'].indexOf(data.status) >= 0)\n                    setTimeout(() => {\n                        checkFinished({id: data.id});\n                    }, REFRESH_INTERVAL);\n\n                if (['FINISHED', 'FAILED', 'READY'].indexOf(data.status) >= 0) {\n                    setCalculating(false);\n                }\n\n                if (data.status === 'FINISHED') {\n                    setAppAttachment(data.output);\n\n                    if (isUpdateData) {\n                        setExecuting(false);\n                        updateExecuteData(data);\n                    }\n                }\n\n                if (data.status === 'FAILED') {\n                    if (isUpdateData) {\n                        setExecuting(false);\n                        updateExecuteData(data);\n                    }\n\n                    setError({\n                        date: Date.now(),\n                        status: data.status,\n                        logs: data.logs,\n                    });\n                }\n            });\n    };\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={cx(css.details)}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToMyStacks')\n                        : t('backToStacksOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    {data.name}\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {data.private && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {data && data.user === currentUser && (\n                        <Share\n                            instancePath={`${user}/${stack}`}\n                            onUpdatePrivate={setPrivate}\n                            className={css.share}\n                            defaultIsPrivate={data.private}\n                            defaultPermissions={data.permissions}\n                            urlParams={{\n                                a: attachmentIndex ? attachmentIndex : null,\n                                f: frame?.id !== data?.head?.id ? frame?.id : null,\n                                'execution_id': executionId,\n                            }}\n\n                            onUpdatePermissions={\n                                permissions => updatePermissions(`${user}/${stack}`, permissions)\n                            }\n                        />\n                    )}\n\n                    {data && data.user === currentUser && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                {\n                                    title: t('upload'),\n                                    onClick: toggleUpload,\n                                },\n                            ]}\n                        >\n                            <Button\n                                className={css['dropdown-button']}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n                </div>\n            </div>\n\n            <StackFrames\n                frames={get(data, 'frames', [])}\n                frame={currentFrameId}\n                headId={headId}\n                onMarkAsHead={onChangeHeadFrame}\n                onChange={onChangeFrame}\n                className={css.revisions}\n            />\n\n            {Boolean(tabs.length) && <Tabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                disabled={executing || calculating}\n                items={tabs}\n            />}\n\n            {(!executeData && executing) && <div className={css.container}>\n                <FilterLoader className={css.filterLoader} />\n            </div>}\n\n            {executeData && (\n                <div className={cx(css.container, {[css.withFilters]: Object.keys(fields).length})}>\n                    <StackFilters\n                        fields={fields}\n                        form={form}\n                        onChange={onChange}\n                        onApply={onApply}\n                        className={cx(css.filters)}\n                        disabled={executing || calculating}\n                    />\n\n                    {appAttachment\n                        && (appAttachment.description || appAttachment['content_type'] === 'text/csv')\n                        && (\n                            <div className={css['attachment-head']}>\n                                <div className={css.description}>\n                                    {appAttachment.description && (\n                                        <MarkdownRender source={appAttachment.description} />\n                                    )}\n                                </div>\n\n                                {appAttachment['content_type'] === 'text/csv' && (\n                                    <div className={css.actions}>\n                                        {appAttachment.preview && (\n                                            <div className={css.label}>\n                                                {t('preview')}\n\n                                                <div className={css['label-tooltip']}>\n                                                    {t('theTableBelowShowsOnlyAPreview')}\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        <a href=\"#\" onClick={showHowToModal}>{t('useThisStackViaAPI')}</a>\n                                        {/*<span>{t('or')}</span>*/}\n                                        {/*<a href=\"#\" onClick={onClickDownloadAttachment}>{t('download')}</a>*/}\n                                        {appAttachment.length && (\n                                            <span className={css.size}>({formatBytes(appAttachment.length)})</span>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n                        )\n                    }\n\n                    {appAttachment && !calculating && (\n                        <StackAttachment\n                            className={css.attachment}\n                            stack={`${user}/${stack}`}\n                            customData={appAttachment}\n                        />\n                    )}\n\n                    {calculating && <Progress className={css.progress} />}\n\n                    {!calculating && !executing && !appAttachment && !error && (\n                        <div className={css.emptyMessage}>\n                            {t('clickApplyToSeeTheResult')}\n                        </div>\n                    )}\n\n                    {!calculating && !executing && error && (\n                        <div className={css.error}>\n                            <div className={css.message}>\n                                <span className=\"mdi mdi-alert-circle-outline\" /> {t('appStackError')}\n                            </div>\n                            <div className={css.fromAgo}>{t('updated')} {moment(error.date).fromNow()}</div>\n                            <div className={css.log}>{error.logs}</div>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {data && (\n                <Readme\n                    className={css.readme}\n                    data={data}\n                    onUpdate={onUpdateReadme}\n                />\n            )}\n\n            <Modal\n                isShow={isShowHowToModal}\n                withCloseButton\n                onClose={hideHowToModal}\n                size=\"big\"\n                title={t('howToFetchDataUsingTheAPI')}\n                className={css.modal}\n            >\n                <StackHowToFetchData\n                    configurePythonCommand={configurePythonCommand}\n                    configureRCommand={configureRCommand}\n\n                    data={{\n                        stack: `${user}/${stack}`,\n                        params: {},\n                    }}\n\n                    modalMode\n                />\n            </Modal>\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport TextField from '../../TextField';\nimport FileDragnDrop from '../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport useDebounce from '../../hooks/useDebounce';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    onClose?: Function,\n    isShow?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, isShow, onClose, refresh, withButton, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n\n    const {form, onChange, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n    useEffect(() => {\n        if (isShow !== undefined)\n            setIsShowModal(isShow);\n    }, [isShow]);\n\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    const closeHandle = () => {\n        if (onClose)\n            onClose();\n        else\n            setIsShowModal(false);\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n            closeHandle();\n\n            if (refresh)\n                refresh();\n        } catch (e) {\n            closeHandle();\n        }\n    };\n\n    return (\n        <Fragment>\n            {withButton && <Tooltip\n                overlayContent={t('uploadTooltip')}\n            >\n                <Button\n                    className={cx(css.upload, className)}\n                    size=\"small\"\n                    color=\"secondary\"\n                    onClick={toggleModal}\n                >\n                    {t('upload')}\n                </Button>\n            </Tooltip>}\n\n            <Modal\n                title={t('uploadFile')}\n                isShow={isShowModal}\n                size=\"small\"\n            >\n                <div className={css.content}>\n                    {!stack && (\n                        <Fragment>\n                            <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewStack')}</div>\n\n                            <TextField\n                                size=\"middle\"\n                                className={css.field}\n                                name=\"stack\"\n                                onChange={onChange}\n                                value={form.value}\n                                maxLength={30}\n                                placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                                errors={getErrorsText('stack')}\n                            />\n                        </Fragment>\n                    )}\n\n                    {stack && file && (\n                        <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                    )}\n\n                    <FileDragnDrop\n                        className={css.dragndrop}\n                        formats={['.csv', '.png', '.svg', '.jpg']}\n                        onChange={setFile}\n                        loading={uploading}\n                        progressPercent={progress}\n                    />\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={closeHandle}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            </Modal>\n        </Fragment>\n    );\n};\n\nexport default Upload;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../../Button';\nimport TextField from '../../../TextField';\nimport FileDragnDrop from '../../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../../utils';\nimport useForm from '../../../hooks/useForm';\nimport useDebounce from '../../../hooks/useDebounce';\nimport config from '../../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, refresh, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n    const fileFieldRef = useRef(null);\n\n    const {form, onChange, setForm, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n\n    const clearForm = () => {\n        setFile(null);\n        setForm({stack: ''});\n\n        if (fileFieldRef.current)\n            fileFieldRef.current.clear();\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n\n            if (refresh)\n                refresh();\n\n            clearForm();\n        } catch (e) {\n            console.log(e);\n            clearForm();\n        }\n    };\n\n    return (\n        <div className={cx(css.upload, className)}>\n            <div className={css.content}>\n                {!stack && (\n                    <Fragment>\n                        <div className={css.subtitle}>{t('stackName')}</div>\n\n                        <TextField\n                            size=\"middle\"\n                            className={css.field}\n                            name=\"stack\"\n                            onChange={onChange}\n                            value={form.value}\n                            maxLength={30}\n                            placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                            errors={getErrorsText('stack')}\n                        />\n                    </Fragment>\n                )}\n\n                {stack && file && (\n                    <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                )}\n\n                <FileDragnDrop\n                    ref={fileFieldRef}\n                    className={css.dragndrop}\n                    formats={['.csv', '.png', '.svg', '.jpg']}\n                    onChange={setFile}\n                    loading={uploading}\n                    progressPercent={progress}\n                />\n            </div>\n\n            {file && (\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={clearForm}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Upload;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport Tabs from '../../Tabs';\nimport Upload from './Upload';\nimport css from './styles.module.css';\nimport config from '../../config';\nimport {reportModelPythonCode, reportPlotPythonCode} from '../../config';\n\ntype Props = {\n    user?: string,\n    refresh?: Function,\n    apiUrl: string,\n    withFileUpload?: boolean,\n}\n\nconst UploadStack = ({\n    user,\n    refresh,\n    apiUrl,\n    configurePythonCommand,\n    withFileUpload,\n}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePublishTab, setActivePublishTab] = useState(1);\n\n    const tabs = [\n        {\n            label: t('python'),\n            value: 1,\n        },\n    ];\n\n    const publishTabs = [\n        {\n            label: t('model'),\n            value: 1,\n        },\n\n        {\n            label: t('chart'),\n            value: 2,\n        },\n    ];\n\n    if (withFileUpload)\n        tabs.push({\n            label: t('upload'),\n            value: 3,\n        });\n\n    return (\n        <div className={css.howto}>\n            {tabs.length > 1 && (\n                <Tabs\n                    className={css.tabs}\n                    value={activeCodeTab}\n                    onChange={setActiveCodeTab}\n                    tabs={tabs}\n                />\n            )}\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePublishTab}\n                    onChange={setActivePublishTab}\n                    tabs={publishTabs}\n                />\n\n                {activePublishTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportModelPythonCode}\n                </CodeViewer>}\n\n                {activePublishTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportPlotPythonCode}\n                </CodeViewer>}\n            </div>}\n\n            {activeCodeTab === 3 && <Upload\n                user={user}\n                refresh={refresh}\n                apiUrl={apiUrl}\n            />}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default UploadStack;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const fetchJob = ({user, id}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.get(apiUrl + config.JOB_DETAILS(user, id));\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const runJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_RUN, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const stopJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_STOP, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const createJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_CREATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const updateJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_UPDATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const removeJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_DELETE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {\n        fetchJob,\n        runJob,\n        stopJob,\n        createJob,\n        updateJob,\n        removeJob,\n    };\n};\n","import React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text} />\n\n            <div className={css.table}>\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","const JOB_DEFAULT_ESTIMATED_DURATION = 600000;\n\nexport const calculateJobProgress = (job: {\n    'estimated_duration'?: ?number,\n    started: number,\n}) => {\n    const estimatedDuration = job['estimated_duration'] || JOB_DEFAULT_ESTIMATED_DURATION;\n    const currentDuration = Date.now() - job.started;\n    const leftDuration = estimatedDuration - currentDuration;\n    const progress = Math.min(currentDuration / estimatedDuration * 100, 100).toFixed();\n\n    return [progress, leftDuration];\n};\n","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {getFormattedDuration} from '../../../../utils';\nimport {calculateJobProgress} from '../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onlyDuration?: boolean,\n}\n\nconst Progress = ({data, className, onlyDuration}: Props) => {\n    const {t} = useTranslation();\n    const progressTimer = useRef(null);\n    const [, set] = useState(null);\n\n    useEffect(() => {\n        if (data.status === 'RUNNING') {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                set(Date.now());\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [data]);\n\n    if (!data.started)\n        return null;\n\n    const [progress, leftDuration]  = calculateJobProgress(data);\n\n    return (\n        <div className={cx(css.section, className)}>\n            {!onlyDuration && <div className={css.progressBar}>\n                <div className={css.progress} style={{width: `${progress}%`}} />\n            </div>}\n\n\n            <div className={css.time}>\n                {getFormattedDuration(leftDuration)} {t('left')}\n            </div>\n        </div>\n    );\n};\n\nexport default Progress;\n","// @flow\nimport React, {useEffect, useState, memo} from 'react';\nimport useSWR from 'swr';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport {useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../../../Dropdown';\nimport {useAppStore} from '../../../../AppStore';\nimport {dataFetcher, getFormattedDuration} from '../../../../utils';\nimport useActions from '../../../actions';\nimport Progress from '../../../Details/components/Progress';\nimport config from '../../../../config';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: {[key: string]: any},\n    onClickRow?: Function,\n    onEdit?: Function,\n    onDelete?: Function,\n};\n\nconst REFRESH_TIMEOUT = 2000;\nconst dataFormat = data => data.job;\n\nconst TableRow = memo(({\n    data,\n    onClickRow,\n    onEdit,\n    onDelete,\n}: Props) => {\n    const {runJob, stopJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const {user} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n\n    const {data: jobData, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, data.id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {\n            refreshInterval,\n            initialData: data,\n            revalidateOnFocus: false,\n        }\n    );\n\n    const rowClick = () => {\n        if (onClickRow)\n            onClickRow(jobData);\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n        }\n    }, [jobData]);\n\n    const onRun = async () => {\n        const {job} = await runJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const onStop = async () => {\n        const {job} = await stopJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const getTitle = () => {\n        if (jobData.title && jobData.title.length)\n            return jobData.title;\n        else\n            return <span>New job</span>;\n    };\n\n    const renderStatus = () => {\n        switch (jobData.status) {\n            case ('SCHEDULED'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n                </div>;\n\n            case ('RUNNING'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n\n                    <Progress\n                        className={css.progress}\n                        data={jobData}\n                    />\n                </div>;\n\n            case ('TIMEOUT'):\n                return <div className={cx(css.status, 'fail')}>⛔️ {t('failedDueToTimeout')}</div>;\n\n            case ('FAILED'):\n                return <div className={cx(css.status, 'fail')}>⛔️ {t('failed')}</div>;\n\n            case ('FINISHED'):\n                return <div className={cx(css.status, 'success')}>✅ {t('completed')}</div>;\n\n            case ('CREATED'):\n                return <div className={css.status}>{t('neverRun')}</div>;\n\n            default:\n                return <div className={css.status}>{t(jobData.status.toLowerCase())}</div>;\n        }\n    };\n\n    return (\n        <div className={cx(css.row, {red: ['TIMEOUT', 'FAILED'].indexOf(jobData.status) > -1})} onClick={rowClick}>\n            <div className={css.cell}>{getTitle()}</div>\n            <div className={css.cell}>{t(jobData.runtime)}</div>\n            <div className={css.cell}>{moment(jobData.started).format('MM-DD-YYYY [at] HH:mm')}</div>\n            <div className={css.cell}>{getFormattedDuration(jobData.finished - jobData.started)}</div>\n\n            <div className={css.cell}>\n                {renderStatus()}\n\n                {currentUserName === user && (\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={[\n                            ...(['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                                ? [{\n                                    title: t('stop'),\n                                    onClick: onStop,\n                                }]\n\n                                : [{\n                                    title: t('run'),\n                                    onClick: onRun,\n                                }]\n                            ),\n\n                            {\n                                title: t('edit'),\n                                onClick: onEdit,\n                            },\n\n                            {\n                                title: t('delete'),\n                                onClick: onDelete,\n                            },\n                        ]}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default TableRow;\n","// @flow\nimport React, {useState} from 'react';\nimport useSWR from 'swr';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher} from '../../utils';\nimport routes from '../../routes';\nimport config from '../../config';\nimport useActions from '../actions';\nimport Loader from './components/Loader';\nimport TableRow from './components/TableRow';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.jobs;\n\nconst List = () => {\n    const {createJob, removeJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const [search, setSearch] = useState('');\n    const {user} = useParams();\n    const {push} = useHistory();\n\n    const {data, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_LIST(user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    const onChangeSearch = value => setSearch(value);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    const onAdd = async () => {\n        const lastRuntime = localStorage.getItem('lastRuntime') || 'python';\n\n        const data = await createJob(\n            {\n                user,\n                runtime: lastRuntime,\n            }\n        );\n\n        push(routes.jobsDetails(user, data.job.id));\n    };\n\n    const getOnRemove = job => async () => {\n        await removeJob({\n            user,\n            id: job.id,\n        });\n\n\n        mutate(data.filter(j => j.id !== job.id));\n    };\n\n    if (!data)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    placeholder={t('findJob')}\n                    size=\"small\"\n                    value={search}\n                    className={css.search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUserName === user\n                    ? t('myJobs')\n                    : t('jobsOf', {name: user})\n                }\n\n                <Button\n                    className={css.button}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={onAdd}\n                >\n                    <span className=\"mdi mdi-plus\" /> {t('newJob')}\n                </Button>\n            </div>\n\n            <div className={css.text}>\n                {t('youHaveJobs', {count: data.length})}\n                {' '}\n                <a href={config.DOCS_URL + '/jobs'} target=\"_blank\">\n                    {t('documentation')}\n                    <span className=\"mdi mdi-open-in-new\" />\n                </a>.\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('findJob')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.tableWrap}>\n                <div className={css.table}>\n                    <div className={css.tableCaptions}>\n                        <div className={css.tableCell}>{t('job')}</div>\n                        <div className={css.tableCell}>{t('runtime')}</div>\n                        <div className={css.tableCell}>{t('lastRun')}</div>\n                        <div className={css.tableCell}>{t('timeSpent')}</div>\n                        <div className={css.tableCell}>{t('status')}</div>\n                    </div>\n\n                    {items.map(item => (\n                        <TableRow\n                            data={item}\n                            key={item.id}\n                            onClickRow={() => push(routes.jobsDetails(user, item.id))}\n                            onEdit={() => push(routes.jobsDetails(user, item.id))}\n                            onDelete={getOnRemove(item)}\n                        />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","import {useAppStore, actionsTypes} from '../AppStore';\n\nexport default () => {\n    const [, dispatch] = useAppStore();\n\n    const startAppProgress = () => {\n        dispatch({type: actionsTypes.START_PROGRESS});\n    };\n\n    const setAppProgress = (progress: ?number) => {\n        dispatch({\n            type: actionsTypes.SET_PROGRESS,\n            payload: progress,\n        });\n    };\n\n    const completeAppProgress = () => {\n        dispatch({type: actionsTypes.COMPLETE_PROGRESS});\n    };\n\n    const resetAppProgress = () => {\n        dispatch({type: actionsTypes.RESET_PROGRESS});\n    };\n\n    return {\n        startAppProgress,\n        setAppProgress,\n        completeAppProgress,\n        resetAppProgress,\n    };\n};\n","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport Button from '../../../../Button';\nimport Dropdown from '../../../../Dropdown';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onChange: Function,\n}\n\nlet timeout = null;\n\nconst ScheduleSettings = ({data, className, onChange, onChangeRuntime}: Props) => {\n    const {t} = useTranslation();\n    const messageRef = useRef();\n    const [scheduleType, setScheduleType] = useState(data ? data.schedule.split('/')[0] : '');\n    const [scheduleTime, setScheduleTime] = useState(data ? data.schedule.split('/')[1] : null);\n    const [nextRunDelay, setNextRunDelay] = useState(0);\n    const isDidMount = useRef(true);\n\n    const runtimeChange = runtime => () => {\n        onChangeRuntime(runtime);\n        localStorage.setItem('lastRuntime', runtime);\n    };\n\n    const scheduleTypeChange = type => () => {\n        setScheduleType(type);\n\n        if (!scheduleTime)\n            setScheduleTime('12:00');\n\n        if (type === 'daily')\n            type += `/${scheduleTime ? scheduleTime : '12:00'}`;\n\n        onChange(type);\n    };\n\n    const scheduleTimeChange = time => () => {\n        setScheduleTime(time);\n        onChange(`${scheduleType}/${time}`);\n\n        const runTime = moment(time, 'HH:mm');\n\n        if (new Date().getHours() > runTime.get('hours'))\n            runTime.add(1, 'day');\n\n        setNextRunDelay(runTime.toDate().getTime() - Date.now());\n    };\n\n    useEffect(() => {\n        if (nextRunDelay && !isDidMount.current && messageRef.current) {\n            messageRef.current.classList.add('show');\n\n            if (timeout)\n                clearTimeout(timeout);\n\n            timeout = setTimeout(() => {\n                messageRef.current.classList.remove('show');\n            }, 3000);\n        }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [nextRunDelay]);\n\n    return (\n        <div className={cx(css.schedule, className)}>\n            {t('runtime')}:\n\n            <Dropdown\n                className={cx(css.dropdown, css.runtime)}\n\n                items={[\n                    {\n                        title: t('python'),\n                        onClick: runtimeChange('python'),\n                    },\n\n                    {\n                        title: t('r'),\n                        onClick: runtimeChange('r'),\n                    },\n                ]}\n            >\n                <Button\n                    className={css.dropdownButton}\n                    color=\"primary\"\n                >\n                    {t(data.runtime)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {t('jobIs')} {scheduleType !== 'unscheduled' && t('scheduled')}\n\n            <Dropdown\n                className={css.dropdown}\n\n                items={[\n                    {\n                        title: t('unscheduled'),\n                        onClick: scheduleTypeChange('unscheduled'),\n                    },\n\n                    {\n                        title: t('daily'),\n                        onClick: scheduleTypeChange('daily'),\n                    },\n\n                    // {\n                    //     title: t('hourly'),\n                    //     onClick: scheduleTypeChange('hourly'),\n                    // },\n                ]}\n            >\n                <Button\n                    className={css.dropdownButton}\n                    color=\"primary\"\n                >\n                    {t(scheduleType)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {scheduleType === 'daily' && (\n                <Fragment>\n                    {t('at')}\n\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={new Array(24).fill(0).map((i, index) => {\n                            const time = `${index < 10 ? '0' + index : index}:00`;\n\n                            return {\n                                title: time,\n                                onClick: scheduleTimeChange(time),\n                            };\n                        })}\n                    >\n                        <Button\n                            className={css.dropdownButton}\n                            color=\"primary\"\n                        >\n                            {scheduleTime} UTC\n                            <span className=\"mdi mdi-chevron-down\" />\n                        </Button>\n                    </Dropdown>\n\n                    <div ref={messageRef} className={cx(css.message, 'green-text')}>\n                        The next run starts in {getFormattedDuration(nextRunDelay)}\n                    </div>\n                </Fragment>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleSettings;\n","// @flow\nimport React, {useEffect, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Editor from 'react-simple-code-editor';\nimport {highlight, languages} from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-r';\nimport 'prismjs/themes/prism.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    saved: boolean,\n    value: string,\n    className?: string,\n    onChange: Function,\n    language: 'python' | 'r',\n}\n\nconst CodeEditor = ({value = '', onChange, language, className, saved}: Props) => {\n    const {t} = useTranslation();\n    const successMessageRef = useRef();\n    const lines = (value.match(/\\n/g) || []).length + 2;\n    const lineNos = [...Array(lines).keys()].slice(1).join('\\n');\n    const isDidMount = useRef(true);\n\n    useEffect(() => {\n        if (successMessageRef.current && !isDidMount.current)\n            if (saved) {\n                successMessageRef.current.classList.add('show');\n\n                setTimeout(() => {\n                    if (successMessageRef.current)\n                        successMessageRef.current.classList.remove('show');\n                }, 4000);\n            } else {\n                successMessageRef.current.classList.remove('show');\n            }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [saved]);\n\n    return (\n        <div className={cx(css.editor, className)}>\n            <div className={css.success} ref={successMessageRef}>\n                {t('changesSaved')}\n            </div>\n\n            <div className={css.scroll}>\n                <div className={css.content}>\n                    <div className={css.lineNumbers} dangerouslySetInnerHTML={{__html: lineNos}} />\n\n                    <Editor\n                        value={value}\n                        onValueChange={onChange}\n                        highlight={code => highlight(code, languages[language])}\n                        padding={6}\n\n                        style={{\n                            width: '100%',\n                            fontFamily: '\"Roboto Mono\", monospace',\n                            fontSize: 12,\n                            lineHeight: '150%',\n                            outline: 'none',\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CodeEditor;","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n}\n\nconst Status = ({data}: Props) => {\n    const {t} = useTranslation();\n\n    if (!data.started)\n        return null;\n\n    return (\n        <div className={css.status}>\n            {t('lastRunning')}\n            {' '}\n            {moment(data.started).format(`MM-DD-YYYY [${t('at')}] HH:mm`)}\n\n            <span>\n                <span className=\"mdi mdi-clock-outline\" />\n\n                {['RUNNING', 'SCHEDULED'].indexOf(data.status) >= 0\n                    ? <span>{' '}{t('inProgress')}&#8230;</span>\n                    : getFormattedDuration(data.finished - data.started)\n                }\n            </span>\n\n            {data.status === 'FAILED' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failed')}\n                </span>\n            )}\n\n            {data.status === 'TIMEOUT' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failedDueToTimeout')}\n                </span>\n            )}\n        </div>\n    );\n};\n\nexport default Status;\n","// @flow\nimport React, {useState} from 'react';\nimport moment from 'moment';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../../Button';\nimport css from './styles.module.css';\n\nimport type {Job} from '../../../types';\n\ntype Props = {\n    data: Job,\n    className?: string,\n}\n\nconst Logs = ({data, className}: Props) => {\n    if (!data.logs)\n        return null;\n\n    const {t} = useTranslation();\n    const [isShown, setIsShown] = useState(true);\n    const [updated] = useState(data.finished || data.started);\n\n    const toggleShow = () => setIsShown(!isShown);\n\n    return (\n        <div className={cx(css.logs, className)}>\n            <Button\n                className={css.button}\n                onClick={toggleShow}\n                color=\"primary\"\n                size=\"small\"\n            >\n                {t('logs')}\n            </Button>\n\n            <div className={cx(css.text, {open: isShown})}>\n                <pre>{data.logs}</pre>\n\n                {updated && <div className={css.label}>\n                    {t('updated')} {moment(updated).fromNow()}\n                </div>}\n            </div>\n        </div>\n    );\n};\n\nexport default Logs;\n","// @flow\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text1} />\n            <div className={css.text2} />\n            <div className={css.code} />\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {Link, useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport useSWR from 'swr';\nimport AccessForbidden from '../../AccessForbidden';\nimport NotFound from '../../NotFound';\nimport StretchTitleField from '../../StretchTitleField';\nimport Dropdown from '../../Dropdown';\nimport Button from '../../Button';\nimport BackButton from '../../BackButton';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher, isSignedIn} from '../../utils';\nimport usePrevious from '../../hooks/usePrevious';\nimport useDebounce from '../../hooks/useDebounce';\nimport useAppProgress from '../../hooks/useAppProgress';\nimport ScheduleSettings from './components/ScheduleSettings';\nimport CodeEditor from './components/CodeEditor';\nimport Status from './components/Status';\nimport Logs from './components/Logs';\nimport Progress from './components/Progress';\nimport Loader from './components/Loader';\nimport routes from '../../routes';\nimport config from '../../config';\nimport useActions from '../actions';\nimport {calculateJobProgress} from '../utils';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst REFRESH_TIMEOUT = 3000;\n\nconst dataFormat = data => data.job;\n\nconst Details = ({}: Props) => {\n    const {\n        runJob,\n        stopJob,\n        updateJob,\n        removeJob,\n    } = useActions();\n\n    const {setAppProgress, resetAppProgress} = useAppProgress();\n    const {user, id} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const {data: jobData, error, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {refreshInterval}\n    );\n\n    const {push} = useHistory();\n    const {t} = useTranslation();\n    const [titleValue, setTitleValue] = useState('');\n    const [code, setCode] = useState('');\n    const [running, setRunning] = useState(false);\n    const [stopping, setStopping] = useState(false);\n    const [codeSaved, setCodeSaved] = useState(true);\n    const progressTimer = useRef(null);\n\n    const update = async params => {\n        const data = await updateJob(params);\n\n        mutate({\n            ...jobData,\n            ...data.job,\n        });\n    };\n\n    const updateDebounce = useDebounce(update, 1000, []);\n    const updateLongDebounce = useDebounce(update, 2000, []);\n\n\n    const prevData = usePrevious(jobData);\n\n    useEffect(() => {\n        window.addEventListener('keydown', detectEnterPress);\n        return () => window.removeEventListener('keydown', detectEnterPress);\n    }, [jobData, code]);\n\n    useEffect(() => {\n        if (jobData) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n    }, []);\n\n    const detectEnterPress = event => {\n        if (event.code === 'Enter' && (event.shiftKey || event.ctrlKey)) {\n            event.preventDefault();\n\n            if (!running && !stopping)\n                onClickRun();\n        }\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData?.status) >= 0) {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                const [progress] = calculateJobProgress(jobData);\n\n                setAppProgress(progress);\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [refreshInterval, jobData]);\n\n    useEffect(() => {\n        if (prevData?.id !== jobData?.id) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n            resetAppProgress();\n        }\n\n        return () => {\n            resetAppProgress();\n        };\n    }, [jobData]);\n\n    const onChangeTitle = value => {\n        setTitleValue(value);\n\n        updateDebounce({\n            user: user,\n            id: jobData?.id,\n            title: value,\n        });\n    };\n\n    const onChangeCode = value => {\n        setCode(value);\n        setCodeSaved(false);\n\n        updateLongDebounce(\n            {\n                user: user,\n                id: jobData?.id,\n                code: value,\n            },\n\n            () => setCodeSaved(true),\n        );\n    };\n\n    const onChangeRuntime = runtime => {\n        update({\n            user: user,\n            id: jobData?.id,\n            runtime: runtime,\n        });\n    };\n\n    const onChangeSchedule = schedule => {\n        update({\n            user: user,\n            id: jobData?.id,\n            schedule: schedule,\n        });\n    };\n\n    const onClickRun = async () => {\n        setRunning(true);\n\n        try {\n            const data = await runJob({\n                user: user,\n                id: jobData?.id,\n                code,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n\n            setRefreshInterval(REFRESH_TIMEOUT);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setRunning(false);\n    };\n\n    const onClickStop = async () => {\n        setStopping(true);\n\n        try {\n            const data = await stopJob({\n                user: user,\n                id: jobData?.id,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n        } catch (e) {\n            console.log(e);\n        }\n\n        setStopping(false);\n    };\n\n    const onClickDelete = async () => {\n        await removeJob({\n            user: user,\n            id: jobData?.id,\n        });\n\n        push(routes.jobs(user));\n    };\n\n    if (!jobData && !error)\n        return <Loader />;\n\n    if (error?.status === 403)\n        return <AccessForbidden>\n            {t('youDontHaveAnAccessToThisJob')}.\n\n            {isSignedIn() && (\n                <Fragment>\n                    <br />\n\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>\n                </Fragment>\n            )}\n        </AccessForbidden>;\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theJobYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!jobData)\n        return null;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={routes.jobs(user)}\n                >\n                    {(currentUserName === user)\n                        ? t('backToJobs')\n                        : t('backToJobsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={titleValue}\n                        onChange={onChangeTitle}\n                        readOnly={currentUserName !== user}\n                        placeholder={t('newJob')}\n                    />\n                </div>\n\n                <div className={css.side}>\n                    {jobData.status === 'RUNNING' && (\n                        <Progress onlyDuration className={css.progress} data={jobData} />\n                    )}\n\n                    {jobData.status === 'FAILED' && (\n                        <div className=\"red-text\">{t('sorryButYourCodeDoesntLookLikePythonJob')}</div>\n                    )}\n\n                    {['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                        ? <Button\n                            className={css.button}\n                            color=\"fail\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={stopping}\n                            onClick={onClickStop}\n                        >\n                            <span className=\"mdi mdi-pause\" />\n                            {t('stop')}\n                        </Button>\n\n                        : <Button\n                            className={css.button}\n                            color=\"success\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={running}\n                            onClick={onClickRun}\n                        >\n                            <span className=\"mdi mdi-play\" />\n                            {t('run')}\n                        </Button>\n                    }\n                </div>\n\n                {currentUserName === user && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: onClickDelete,\n                        },\n                    ]}\n                >\n                    <Button\n                        className={css.dropdownButton}\n                        color=\"secondary\"\n                    >\n                        <span className=\"mdi mdi-dots-horizontal\" />\n                    </Button>\n                </Dropdown>}\n            </div>\n\n            <Status data={jobData} />\n\n            <ScheduleSettings\n                className={css.schedule}\n                data={jobData}\n                onChange={onChangeSchedule}\n                onChangeRuntime={onChangeRuntime}\n            />\n\n            <CodeEditor\n                className={css.codeEditor}\n                value={code}\n                onChange={onChangeCode}\n                language={jobData.runtime}\n                saved={codeSaved}\n            />\n\n            <Logs\n                className={css.logs}\n                data={jobData}\n            />\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport routes from '../routes';\nimport List from './List';\nimport Details from './Details';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Jobs = ({}: Props) => {\n    return (\n        <div className={css.jobs}>\n            <Switch>\n                <Route path={routes.jobs()} exact component={List} />\n                <Route path={routes.jobsDetails()} component={Details} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default Jobs;\n","// @flow\nimport React, {useRef} from 'react';\nimport {get} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../Dropdown';\nimport StackAttachment from '../../stack/Attachment';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: {},\n    delete?: Function,\n    renderContent?: Function,\n}\n\nconst Item = ({data, deleteItem, user, renderContent}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const hasStacks = data.cards && Boolean(data.cards.length);\n    const card = data.cards.find(c => get(c, 'head.id'));\n    const isShowDropdown = Boolean(deleteItem);\n\n    return (\n        <Link\n            to={`/${user}/d/${data.id}`}\n            className={css.item}\n            ref={ref}\n        >\n            {Boolean(data.cards.length) && (\n                <div className={css.label}>\n                    {t('stacksWithCount', {count: data.cards.length})}\n                </div>\n            )}\n\n            <div className={css.previewWrap}>\n                {hasStacks\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        frameId={card.head.id}\n                        stack={card.stack}\n                        id={0}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n\n            <div className={css.section}>\n                <div className={css.content}>\n                    <div className={css.name}>\n                        {data.title}\n                        {' '}\n                        <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                    </div>\n\n                    {user !== data.user && (\n                        <div className={css.by}>{t('by')} {data.user}</div>\n                    )}\n\n                    {renderContent && renderContent(data)}\n                </div>\n\n                {isShowDropdown && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: deleteItem,\n                        },\n                    ]}\n                />}\n            </div>\n\n        </Link>\n    );\n};\n\nexport default Item;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const createReport = (userName: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CREATE, {user: userName});\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const updateReport = (userName: string, id: string, fields: {}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_UPDATE, {\n                    user: userName,\n                    id,\n                    ...fields,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const deleteReport = (userName: string, reportId: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_DELETE, {\n                    user: userName,\n                    id: reportId,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportInsertCard = (userName: string, id: string, cards: Array<{}>, index) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_INSERT + '?attachments=true', {\n                    user: userName,\n                    dashboard: id,\n                    cards,\n                    index,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportUpdateCard = (userName: string, id: string, stack: string, fields: {}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_UPDATE, {\n                    user: userName,\n                    dashboard: id,\n                    stack,\n                    ...fields,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportDeleteCard = (userName: string, id: string, stack: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_DELETE, {\n                    user: userName,\n                    dashboard: id,\n                    stack,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {createReport, deleteReport, updateReport, reportInsertCard, reportUpdateCard, reportDeleteCard};\n};\n","import React, {useState, useMemo, Fragment} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory, useParams, Link} from 'react-router-dom';\nimport cn from 'classnames';\nimport useSWR from 'swr';\nimport {useAppStore} from '../../AppStore';\nimport Yield from '../../Yield';\nimport SearchField from '../../SearchField';\nimport ListItem from '../ListItem';\nimport NotFound from '../../NotFound';\nimport routes from '../../routes';\nimport {dataFetcher, isSignedIn} from '../../utils';\nimport config from '../../config';\nimport Loader from './components/Loader';\nimport useActions from '../actions';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.dashboards;\n\nconst List = ({}) => {\n    const [search, setSearch] = useState('');\n    const [creating, setCreating] = useState(false);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {createReport, deleteReport} = useActions();\n    const {t} = useTranslation();\n    const {user} = useParams();\n    const {push} = useHistory();\n\n    const {data, error, mutate} = useSWR(\n        [\n            apiUrl + config.DASHBOARD_LIST(user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    const items = useMemo(() => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    }, [data, search]);\n\n    const onChangeSearch = value => setSearch(value);\n\n    const create = async () => {\n        setCreating(true);\n        const data = await createReport(user);\n\n        setCreating(false);\n        push(routes.reportsDetails(user, data.dashboard.id));\n    };\n\n    const getDeleteFunc = id => async () => {\n        await deleteReport(user, id);\n        mutate(data.filter(r => r.id !== id));\n    };\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theDashboardYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.reportsDetails(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!data)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    className={css.search}\n                    placeholder={t('findDashboard')}\n                    size=\"small\"\n                    value={search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUserName === user\n                    ? t('myReports')\n                    : t('reportsOf', {name: user})\n                }\n\n                {data && Boolean(data.length) && <span>{data.length}</span>}\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('search')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.grid}>\n                {currentUserName === user && (\n                    <div\n                        onClick={create}\n                        className={cn(css.add, {disabled: creating})}\n                    >\n                        <div className={css.caption}>\n                            <span className=\"mdi mdi-plus\" />\n                            {t('newReport')}\n                        </div>\n                    </div>\n                )}\n\n                {items.map((item, index) => (\n                    <ListItem\n                        key={index}\n                        user={user}\n                        data={item}\n                        deleteItem={currentUserName === item.user && getDeleteFunc(item.id)}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n            <div className={css.filters} />\n\n            <div className={css.grid}>\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, {Component, createContext} from 'react';\n\nfunction move(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n        newIndex = array.length - 1;\n    }\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n}\n\nfunction moveElement(array, index, offset) {\n    const newIndex = index + offset;\n\n    return move(array, index, newIndex);\n}\n\n// Context\n\nconst GridContext = createContext({items: []});\n\nexport class GridProvider extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [],\n            moveItem: this.moveItem,\n            setItems: this.setItems,\n        };\n    }\n\n    render() {\n        return (\n            <GridContext.Provider value={this.state}>\n                {this.props.children}\n            </GridContext.Provider>\n        );\n    }\n\n    setItems = items => this.setState({items});\n\n    moveItem = (sourceId, destinationId) => {\n        const sourceIndex = this.state.items.findIndex(\n            item => item.id === sourceId\n        );\n        const destinationIndex = this.state.items.findIndex(\n            item => item.id === destinationId\n        );\n\n        // If source/destination is unknown, do nothing.\n        if (sourceId === -1 || destinationId === -1) {\n            return;\n        }\n\n        const offset = destinationIndex - sourceIndex;\n\n        this.setState(state => ({items: moveElement(state.items, sourceIndex, offset)}));\n    };\n}\n\nexport default GridContext;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useEffect, useState, Fragment, useMemo} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useParams} from 'react-router-dom';\nimport useSWR from 'swr';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport CheckboxField from '../../CheckboxField';\nimport StackListItem from '../../stack/ListItem';\nimport Loader from './Loader';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher} from '../../utils';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    isShow?: boolean,\n    stacks?: Array<{}>,\n    loading?: boolean,\n    fetchList: Function,\n    onAddStacks?: Function,\n    onClose: Function,\n}\n\nconst dataFormat = data => data.stacks;\n\nconst AddStacksModal = ({\n    isShow,\n    onClose,\n    onAddStacks,\n}: Props) => {\n    const {t} = useTranslation();\n    const params = useParams();\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selected, setSelected] = useState([]);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const {data} = useSWR(\n        [\n            apiUrl + config.STACKS_LIST(params.user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    useEffect(() => {\n        if (!isShow) {\n            setSelected([]);\n            setSearchQuery('');\n        }\n    }, [isShow]);\n\n    const items = useMemo(() => {\n        let items = [];\n\n        if (data && data.length) {\n            if (searchQuery.length)\n                items = data.filter(i => i.name.indexOf(searchQuery) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    }, [data, searchQuery]);\n\n    const onChangeSearch = value => setSearchQuery(value);\n\n    const getFullStackName = stack => `${stack.user}/${stack.name}`;\n\n    const isChecked = stack => {\n        const stackName = getFullStackName(stack);\n\n        return selected.findIndex(i => i === stackName) >= 0;\n    };\n\n    const getOnClickStack = stack => () => {\n        const stackName = getFullStackName(stack);\n\n        if (isChecked(stack)) {\n            const filtered = selected.filter(i => i !== stackName);\n\n            setSelected(filtered);\n        } else {\n            setSelected([\n                ...selected,\n                stackName,\n            ]);\n        }\n    };\n\n    const submit = () => {\n        if (onAddStacks)\n            onAddStacks(selected);\n\n        onClose();\n    };\n\n    const isUserOwner = currentUserName === params.user;\n\n    return (\n        <Modal\n            dialogClassName={css.stacks}\n            isShow={isShow}\n            title={t('selectStacks')}\n            onClose={onClose}\n            withCloseButton\n        >\n            {data && Boolean(data.length) && (\n                <SearchField\n                    className={css.search}\n                    isDark\n                    size=\"middle\"\n                    showEverything\n                    placeholder={t('findStack')}\n                    value={searchQuery}\n                    onChange={onChangeSearch}\n                />\n            )}\n\n            {!data && <Loader />}\n\n            {data && Boolean(data.length) && (\n                <div className={css.message}>\n                    {isUserOwner\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: params.user})\n                    }\n                </div>\n            )}\n\n            {data && Boolean(data.length && !items.length) && (\n                <div className={css.text}>\n                    {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n                </div>\n            )}\n\n            {data && Boolean(data.length && items.length) && (\n                <Fragment>\n                    <div className={css.grid}>\n                        {items.map((item, index) => (\n                            <div className={css.item} key={index} onClick={getOnClickStack(item)}>\n                                <CheckboxField\n                                    className={css.checkbox}\n                                    value={isChecked(item)}\n                                    readOnly\n                                />\n\n                                <StackListItem\n                                    data={item}\n                                />\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            className={css.button}\n                            color=\"primary\"\n                            variant=\"contained\"\n                            disabled={!selected.length}\n                            onClick={submit}\n                        >\n                            {t('addSelectedStacks')}\n                        </Button>\n\n                        <Button\n                            className={css.button}\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={onClose}\n                        >\n                            {t('cancel')}\n                        </Button>\n                    </div>\n                </Fragment>\n\n            )}\n        </Modal>\n    );\n};\n\nexport default AddStacksModal;\n","// @flow\nimport React, {memo, Fragment, useEffect, useState, useRef} from 'react';\nimport moment from 'moment';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport {usePrevious} from 'react-use';\nimport {Link} from 'react-router-dom';\nimport cx from 'classnames';\nimport parseStackParams from '../../../../utils/parseStackParams';\nimport parseStackTabs from '../../../../utils/parseStackTabs';\nimport useDebounce from '../../../../hooks/useDebounce';\nimport Button from '../../../../Button';\nimport Tooltip from '../../../../Tooltip';\nimport ViewSwitcher from '../../../../ViewSwitcher';\nimport StretchTextareaField from '../../../../kit/StretchTextareaField';\nimport StackAttachment from '../../../../stack/Attachment';\nimport css from './styles.module.css';\n\nexport type DashboardCard = {\n    stack: string,\n    header?: {},\n    index: 0,\n}\n\ntype Props = {\n    data: DashboardCard,\n    className?: string,\n    attachment: {},\n    deleteCard: Function,\n    updateCard: Function,\n    filters: {},\n    moveAvailable?: boolean,\n}\n\nconst viewValueMap = {\n    grid: 1,\n    list: 2,\n};\n\nconst Card = memo(({\n    data,\n    className,\n    deleteCard,\n    updateCard,\n    filters,\n    activeTab,\n    forwardedRef,\n    moveAvailable,\n}: Props) => {\n    const [title, setTitle] = useState(data.title);\n    const [columns, setColumns] = useState(data.columns);\n    const descFieldRef = useRef();\n    const isMounted = useRef(false);\n    const isHoveredMoveBtn = useRef(false);\n    const [isShowDesc, setIsShowDesc] = useState(data.description?.length);\n    const prevIsShowDesc = usePrevious(isShowDesc);\n    const {t} = useTranslation();\n    const headId = get(data, 'head.id');\n    const stackOwner = data.stack.split('/')[0];\n    const [attachmentIndex, setAttachmentIndex] = useState(0);\n    const [cardParams, setCardParams] = useState([]);\n\n    useEffect(() => {\n        const params = parseStackParams(get(data, 'head.attachments', []));\n\n        if (params)\n            setCardParams(Object.keys(params));\n\n    }, [data]);\n\n    useEffect(() => {\n        findAttach();\n    }, [filters]);\n\n    useEffect(() => {\n        if (forwardedRef && forwardedRef.current)\n            forwardedRef.current.addEventListener('dragstart', event => {\n                if (!isHoveredMoveBtn.current) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n            });\n    }, [forwardedRef]);\n\n    useEffect(() => {\n        if (isMounted.current && prevIsShowDesc !== isShowDesc && descFieldRef.current)\n            descFieldRef.current.focus();\n    }, [isShowDesc]);\n\n    useEffect(() => {\n        isMounted.current = true;\n    }, []);\n\n    const findAttach = () => {\n        const attachments = get(data, 'head.attachments');\n        const tabs = parseStackTabs(attachments);\n        const fields = Object.keys(filters).filter(f => cardParams.indexOf(f) >= 0);\n        const tab = tabs.find(t => t.value === activeTab);\n\n        if (!attachments)\n            return;\n\n        if (fields.length || (tabs.length && activeTab)) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                if (!tab\n                    || (attach.params[tab.value]?.type !== 'tab'\n                        && attach.params[tab.key]?.title !== tab.value\n                    )\n                )\n                    return false;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], filters[key]))\n                        valid = false;\n                });\n\n                if (valid)\n                    setAttachmentIndex(index);\n\n                return valid;\n            });\n        } else\n            setAttachmentIndex(0);\n    };\n\n    const onUpdate = updateCard ? useDebounce(updateCard, [updateCard]) : () => {};\n\n    const onChangeTitle = event => {\n        setTitle(event.target.value);\n        onUpdate({title: event.target.value});\n    };\n\n    const onChangeView = view => {\n        const columns = viewValueMap[view];\n\n        setColumns(columns);\n        onUpdate({columns});\n    };\n\n    const onChangeDescription = description => {\n        setColumns(columns);\n        onUpdate({description});\n    };\n\n    const onEnterMove = () => {\n        isHoveredMoveBtn.current = true;\n    };\n\n    const onLeaveMove = () => {\n        isHoveredMoveBtn.current = false;\n    };\n\n    const onBlurDescription = () => {\n        if (!data.description?.length)\n            setIsShowDesc(false);\n    };\n\n    const addDesc = () => setIsShowDesc(true);\n\n    return (\n        <div\n            className={cx(css.card, `col-${columns}`, className)}\n            ref={forwardedRef}\n        >\n            <div className={css.inner}>\n                <div className={css.head}>\n                    <div className={cx(css.name, {readonly: !updateCard})}>\n                        <div className={css.nameValue}>{title?.length ? title : t('title')}</div>\n\n                        <input\n                            value={title}\n                            type=\"text\"\n                            placeholder={t('title')}\n                            onChange={onChangeTitle}\n                            className={cx(css.nameEdit, {active: !title?.length})}\n                        />\n                    </div>\n\n                    <Tooltip\n                        overlayContent={(\n                            <Fragment>\n                                <div>{t('updatedByName', {name: stackOwner})}</div>\n\n                                {data.head && <div className={css.infoTime}>\n                                    {moment(data.head.timestamp).format('D MMM YYYY')}\n                                </div>}\n                            </Fragment>\n                        )}\n                    >\n                        <div className={css.info}>\n                            <span className=\"mdi mdi-information-outline\" />\n                        </div>\n                    </Tooltip>\n\n                    <Button\n                        className={cx(css.button, css.link)}\n                        color=\"secondary\"\n                        Component={Link}\n                        to={`/${data.stack}`}\n                    >\n                        <span className=\"mdi mdi-open-in-new\" />\n                    </Button>\n\n                    <div className={css.cardControls}>\n                        {deleteCard && <Button\n                            className={cx(css.button)}\n                            color=\"secondary\"\n                            onClick={deleteCard}\n                        >\n                            <span className=\"mdi mdi-trash-can-outline\" />\n                        </Button>}\n\n                        {moveAvailable && (\n                            <Button\n                                className={cx(css.button, css.move)}\n                                color=\"secondary\"\n                                onMouseEnter={onEnterMove}\n                                onMouseLeave={onLeaveMove}\n                            >\n                                <span className=\"mdi mdi-cursor-move\" />\n                            </Button>\n                        )}\n\n                        <ViewSwitcher\n                            onChange={onChangeView}\n                            value={data.columns === 1 ? 'grid' : 'list'}\n                            className={css.viewSwitcher}\n                        />\n                    </div>\n                </div>\n\n                <div className={css.description}>\n                    {isShowDesc && <StretchTextareaField\n                        value={data.description}\n                        ref={descFieldRef}\n                        placeholder={t('description')}\n                        onChange={onChangeDescription}\n                        onBlur={onBlurDescription}\n                        readOnly={!updateCard}\n                    />}\n\n                    {!isShowDesc && updateCard && <Button\n                        className={cx(css.addDesc)}\n                        color=\"secondary\"\n                        onClick={addDesc}\n                    >\n                        + {t('addDescription')}\n                    </Button>}\n                </div>\n\n                {headId && attachmentIndex !== null\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        stack={data.stack}\n                        frameId={headId}\n                        id={attachmentIndex}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n        </div>\n    );\n});\n\nexport default Card;\n","import React, {memo, useRef} from 'react';\nimport {useDrag, useDrop} from 'react-dnd';\n\nconst DnDItem = memo(({id, onMoveItem, children}) => {\n    const ref = useRef(null);\n\n    const [, connectDrag] = useDrag({\n        item: {id, type: 'IMG'},\n        collect: monitor => {\n            return {isDragging: monitor.isDragging()};\n        },\n    });\n\n    const [, connectDrop] = useDrop({\n        accept: 'IMG',\n        drop: hoveredOverItem => {\n            if (hoveredOverItem.id !== id) {\n                onMoveItem(hoveredOverItem.id, id);\n            }\n        },\n    });\n\n    connectDrag(ref);\n    connectDrop(ref);\n\n    return React.Children.map(children, child =>\n        React.cloneElement(child, {forwardedRef: ref})\n    );\n});\n\nexport default DnDItem;\n","import React, {Fragment, useEffect, useContext, useState, useRef} from 'react';\nimport useSWR from 'swr';\nimport cn from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport {Link, useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport NotFound from '../../NotFound';\nimport AccessForbidden from '../../AccessForbidden';\nimport {useAppStore} from '../../AppStore';\nimport config from '../../config';\nimport routes from '../../routes';\nimport {dataFetcher, isSignedIn, parseStackParams, parseStackTabs} from '../../utils';\nimport {useDebounce, useForm} from '../../hooks';\nimport Loader from './components/Loader';\nimport Yield from '../../Yield';\nimport PermissionUsers from '../../PermissionUsers';\nimport BackButton from '../../BackButton';\nimport StretchTitleField from '../../StretchTitleField';\nimport Share from '../../Share';\nimport Dropdown from '../../Dropdown';\nimport Button from '../../Button';\nimport DnDGridContext from '../../dnd/DnDGridContext';\nimport usePrevious from '../../hooks/usePrevious';\nimport StackFilters from '../../StackFilters';\nimport useActions from '../actions';\nimport AddStacksModal from '../AddStacksModal';\nimport Card from './components/Card';\nimport StackTabs from '../../stack/Details/components/Tabs';\nimport DnDItem from '../../dnd/DnDItem';\nimport StretchTextareaField from '../../kit/StretchTextareaField';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.dashboard;\n\nconst Details = () => {\n    const {t} = useTranslation();\n    const {user, id} = useParams();\n    const {push} = useHistory();\n    const {items, moveItem, setItems} = useContext(DnDGridContext);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {deleteReport, updateReport, reportInsertCard, reportDeleteCard, reportUpdateCard} = useActions();\n    const descFieldRef = useRef();\n    const isMounted = useRef(false);\n    const [isShowStacksModal, setIsShowStacksModal] = useState(false);\n    const [activeTab, setActiveTab] = useState();\n    const [tabs, setTabs] = useState([]);\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const [filteredCards, setFilteredCards] = useState([]);\n    const setGridItems = cardsItems => setItems(cardsItems.map(card => ({id: card.index, card})));\n\n    const {data, mutate, error} = useSWR(\n        [\n            apiUrl + config.DASHBOARD_DETAILS(user, id),\n            dataFormat,\n        ],\n        dataFetcher,\n\n        {revalidateOnFocus: false}\n    );\n\n    const [isShowDesc, setIsShowDesc] = useState(Boolean(data?.description?.length));\n    const prevIsShowDesc = usePrevious(isShowDesc);\n\n    const prevData = usePrevious(data);\n\n    useEffect(() => {\n        if (!isEqual(prevData?.cards, data?.cards) || (data?.cards && !isMounted.current)) {\n            parseTabs();\n        }\n\n        if (prevData?.description !== data?.description)\n            setIsShowDesc(Boolean(data?.description?.length));\n    }, [data]);\n\n    useEffect(() => {\n        return () => {\n            setGridItems([]);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (filteredCards.length) {\n            setGridItems(filteredCards);\n            parseParams();\n        }\n    }, [filteredCards]);\n\n    useEffect(() => {\n        if (activeTab !== undefined)\n            filterCards();\n    }, [activeTab]);\n\n    useEffect(() => {\n        if (isMounted.current\n            && prevIsShowDesc !== isShowDesc\n            && descFieldRef.current && !data.description?.length)\n            descFieldRef.current.focus();\n    }, [isShowDesc]);\n\n    useEffect(() => {\n        isMounted.current = true;\n    }, []);\n\n    const getAllAttachments = cards => {\n        if (!cards)\n            cards = data?.cards;\n\n        if (!cards?.length)\n            return [];\n\n        return cards.reduce((result, card) => {\n            return result.concat(get(card, 'head.attachments', []));\n        }, []);\n    };\n\n    const parseParams = () => {\n        const fields = parseStackParams(getAllAttachments(filteredCards)) || {};\n\n        const defaultFilterValues = Object.keys(fields).reduce((result, fieldName) => {\n            if (fields[fieldName].type === 'select')\n                result[fieldName] = fields[fieldName].options[0].value;\n\n            if (fields[fieldName].type === 'slider') {\n                const key = Object.keys(fields[fieldName].options)[0];\n\n                result[fieldName] = fields[fieldName].options[key];\n            }\n\n            if (fields[fieldName].type === 'checkbox')\n                result[fieldName] = false;\n\n            return result;\n        }, {});\n\n        setForm(defaultFilterValues);\n        setFields(fields);\n    };\n\n    const parseTabs = () => {\n        const attachments = getAllAttachments();\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const hasOldTab = tabs.some(t => activeTab && t.value === activeTab);\n\n        const newActiveTab = hasOldTab ? activeTab : (tabs[0]?.value || null);\n\n\n        setTabs(tabs);\n        setActiveTab(newActiveTab);\n\n        if (newActiveTab === activeTab)\n            filterCards();\n    };\n\n    const filterCards = () => {\n        if (tabs.length && activeTab) {\n            const filteredCards = data.cards.filter(card => {\n                const attachments = get(card, 'head.attachments', []);\n\n                if (!attachments || !attachments.length)\n                    return true;\n\n                const tabs = parseStackTabs(attachments);\n                const tab = tabs.find(t => t.value === activeTab);\n\n                if (!tabs.length)\n                    return true;\n\n                return attachments.some(attach => {\n                    return (tab\n                        && (\n                            attach.params[tab.value]?.type === 'tab'\n                            || attach.params[tab.key]?.title === tab.value\n                        )\n                    );\n                });\n            });\n\n            setFilteredCards(filteredCards);\n        } else {\n            setFilteredCards(data.cards);\n        }\n    };\n\n    const onChangeTab = tabName => {\n        setActiveTab(tabName);\n    };\n\n    const update = async (params: {}) => {\n        await updateReport(user, id, params);\n    };\n\n    const debounceUpdateTitle = useDebounce(async fields => {\n        await update(fields);\n    }, 300);\n\n    const onChangeTitle = title => {\n        data.title = title;\n        mutate(data, false);\n        debounceUpdateTitle({title});\n    };\n\n    const debounceUpdateDescription = useDebounce(async fields => {\n        await update(fields);\n    }, 300);\n\n\n    const onChangeDescription = description => {\n        data.description = description;\n        mutate(data, false);\n        debounceUpdateDescription({description});\n    };\n\n    const onChangePrivate = async isPrivate => {\n        update({private: isPrivate})\n            .then(() => {\n                mutate({\n                    ...data,\n                    private: isPrivate,\n                }, false);\n            });\n    };\n\n    const addStacks = async stacks => {\n        const {dashboard: {cards}} = await reportInsertCard(\n            user,\n            id,\n            stacks.map(stack => ({stack})),\n            data?.cards?.length\n        );\n\n        const newCards = cards.filter(c => stacks.indexOf(c.stack) >= 0);\n\n        mutate({\n            ...data,\n            cards: data.cards.concat(newCards),\n        }, false);\n    };\n\n    const getDeleteCardFunc = stack => async () => {\n        await reportDeleteCard(\n            user,\n            id,\n            stack,\n        );\n\n        mutate({\n            ...data,\n            cards: data.cards.filter(c => c.stack !== stack),\n        }, false);\n    };\n\n    const updatePermissions = permissions => {\n        mutate({\n            ...data,\n            permissions,\n        }, false);\n    };\n\n    const getUpdatedCardFunc = stack => async fields => {\n        const {cards: newCards} = await reportUpdateCard(\n            user,\n            id,\n            stack,\n            fields\n        );\n\n        const updatedCard = newCards.find(i => i.stack === stack);\n\n        const index = data.cards.findIndex(i => i.stack === stack);\n\n        if (index >= 0)\n            Object.keys(fields).forEach(key => {\n                data.cards[index][key] = updatedCard[key];\n            });\n\n        mutate({...data}, false);\n    };\n\n    const moveCard = (indexFrom, indexTo) => {\n        if (indexTo < 0 || indexFrom < 0)\n            return;\n\n        const {stack} = items[indexFrom].card;\n\n        moveItem(indexFrom, indexTo);\n\n        reportUpdateCard(\n            user,\n            id,\n            stack,\n            {index: indexTo}\n        ).catch(console.log);\n    };\n\n    const deleteDashboard = async () => {\n        await deleteReport(user, id);\n        push(routes.reports(user));\n    };\n\n    const renderFilters = () => {\n        if (!Object.keys(fields).length)\n            return null;\n\n        const hasSelectField = Object.keys(fields).some(key => fields[key].type === 'select');\n\n        return (\n            <StackFilters\n                fields={fields}\n                form={form}\n                onChange={onChange}\n                className={cn(css.filters, {'with-select': hasSelectField})}\n            />\n        );\n    };\n\n    const toggleAddStackModal = event => {\n        if (event?.target)\n            event.preventDefault();\n\n        setIsShowStacksModal(isShow => !isShow);\n    };\n\n    const onBlurDescription = () => {\n        if (!data.description?.length)\n            setIsShowDesc(false);\n    };\n\n    const addDesc = () => setIsShowDesc(true);\n\n    if (error?.status === 403)\n        return <AccessForbidden>\n            {t('youDontHaveAnAccessToThisDashboard')}.\n\n            {isSignedIn() && (\n                <Fragment>\n                    <br />\n\n                    <Link to={routes.reports(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>\n                </Fragment>\n            )}\n        </AccessForbidden>;\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theDashboardYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.reports(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!data)\n        return <Loader />;\n\n    const isUserOwner = currentUserName === user;\n    const CardWrapComponent = isUserOwner ? DnDItem : Fragment;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={routes.reports(user)}\n                >\n                    {(currentUserName === user)\n                        ? t('backToDashboards')\n                        : t('backToDashboardsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={data.title || ''}\n                        onChange={onChangeTitle}\n                        readOnly={currentUserName !== data.user}\n                        placeholder={t('newDashboard')}\n                    />\n\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {data.private && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {isUserOwner && (\n                        <a\n                            className={css.addButton}\n                            onClick={toggleAddStackModal}\n                            href=\"#\"\n                        >\n                            <span className=\"mdi mdi-plus\" />\n                            {t('addStack')}\n                        </a>\n                    )}\n\n                    {isUserOwner && (\n                        <Share\n                            instancePath={`${user}/d/${data.id}`}\n                            onUpdatePrivate={onChangePrivate}\n                            className={css.share}\n                            defaultIsPrivate={data.private}\n                            defaultPermissions={data.permissions}\n                            onUpdatePermissions={updatePermissions}\n                        />\n                    )}\n\n                    {isUserOwner && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                {\n                                    title: t('delete'),\n                                    onClick: deleteDashboard,\n                                },\n                            ]}\n                        >\n                            <Button\n                                className={css['dropdown-button']}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n                </div>\n            </div>\n\n            <div className={css.description}>\n                {isShowDesc && <StretchTextareaField\n                    value={data.description || ''}\n                    ref={descFieldRef}\n                    placeholder={t('description')}\n                    onChange={onChangeDescription}\n                    onBlur={onBlurDescription}\n                    readOnly={currentUserName !== data.user}\n                />}\n\n                {!isShowDesc && currentUserName === data.user && <Button\n                    className={css.addDesc}\n                    color=\"secondary\"\n                    onClick={addDesc}\n                >\n                    + {t('addDescription')}\n                </Button>}\n            </div>\n\n            {Boolean(tabs.length) && <StackTabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                items={tabs}\n            />}\n\n            {Boolean(items.length) && (\n                <div className={css.container}>\n                    <div className={css.section}>\n                        <div className={css.fields}>\n                            {renderFilters()}\n                        </div>\n                    </div>\n\n                    <div className={cn(css.cards)}>\n                        {items.map(item => (\n                            <CardWrapComponent\n                                key={item.card.stack}\n                                {...(isUserOwner ? {\n                                    id: item.id,\n                                    onMoveItem: moveCard,\n                                } : {})}\n                            >\n                                <Card\n                                    activeTab={activeTab}\n                                    filters={form}\n                                    deleteCard={isUserOwner && getDeleteCardFunc(item.card.stack)}\n                                    data={item.card}\n                                    updateCard={isUserOwner && getUpdatedCardFunc(item.card.stack)}\n                                    moveAvailable={isUserOwner}\n                                />\n                            </CardWrapComponent>\n                        ))}\n                    </div>\n                </div>\n            )}\n\n            {!items.length && !data?.cards && (\n                <div className={css.empty}>\n                    {t('thereAreNoStacksYet')} <br/>\n                    {t('youCanSendStacksYouWantToBeHereLaterOrAddItRightNow')}\n\n                    {isUserOwner && (\n                        <Fragment>\n                            {' '}\n\n                            <a\n                                className={css.addButton}\n                                onClick={toggleAddStackModal}\n                                href=\"#\"\n                            >{t('addStack')}</a>.\n                        </Fragment>\n                    )}\n                </div>\n            )}\n\n            <AddStacksModal\n                isShow={isShowStacksModal}\n                onClose={toggleAddStackModal}\n                onAddStacks={addStacks}\n            />\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport routes from '../routes';\nimport List from './List';\nimport Details from './Details';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Reports = ({}: Props) => {\n    return (\n        <div className={css.reports}>\n            <Switch>\n                <Route path={routes.reports()} exact component={List} />\n                <Route path={routes.reportsDetails()} component={Details} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default Reports;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../Button';\nimport {ReactComponent as Logo} from '../assets/logo.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n}\n\nconst Header = ({className}: Props) => {\n    const {t} = useTranslation();\n\n    return <div className={cx(css.header, className)}>\n        <Link to=\"/\" className={css.logo}>\n            <Logo />\n        </Link>\n\n        <div className={css.buttons}>\n            <Button\n                Component={Link}\n                to=\"/auth/login\"\n                className={css.button}\n                color=\"primary\"\n                variant=\"contained\"\n            >{t('logIn')}</Button>\n        </div>\n    </div>;\n};\n\nexport default Header;\n","import React from 'react';\nimport Header from './Header';\nimport css from './styles.module.css';\n\nconst UnAuthorizedLayout = ({children}) => {\n    return (\n        <div className={css.layout}>\n            <Header className={css.header} />\n\n            <div className={css.main}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default UnAuthorizedLayout;\n","import React, {Fragment, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport css from './style.module.css';\n\ntype Props = {\n    className?: string,\n    renderModalContent?: Function,\n}\n\nconst SettingsInformation = ({className, renderModalContent}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n\n    const toggleModal = () => setIsShowModal(value => !value);\n\n    return (\n        <Fragment>\n            <Button\n                className={cx(css.infoButton, className)}\n                size=\"small\"\n                color=\"secondary\"\n                onClick={toggleModal}\n            >\n                <span className=\"mdi mdi-information-outline\" />\n            </Button>\n\n            {renderModalContent && (\n                <Modal\n                    withCloseButton\n                    title={t('howToConnectYourDataWithDStack')}\n                    isShow={isShowModal}\n                    size=\"big\"\n                    onClose={toggleModal}\n                >\n                    {renderModalContent()}\n                </Modal>\n            )}\n        </Fragment>\n    );\n};\n\nexport default SettingsInformation;\n"],"names":["FETCH_CURRENT_USER","FETCH_CURRENT_USER_SUCCESS","FETCH_CURRENT_USER_FAIL","FETCH_CONFIG_INFO","FETCH_CONFIG_INFO_SUCCESS","FETCH_CONFIG_INFO_FAIL","START_PROGRESS","SET_PROGRESS","COMPLETE_PROGRESS","RESET_PROGRESS","initialState","currentUser","loading","data","configInfo","appProgress","active","value","reducer","state","action","type","actionsTypes","payload","StateContext","createContext","AppStoreProvider","children","apiUrl","React","useReducer","useAppStore","useContext","DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","SUPPORT_URL","SIGN_UP_URL","RESET_PASSWORD_URL","UPDATE_PASSWORD_URL","USER_DATA_URL","CONFIG_INFO_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACKS_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","APPS_EXECUTE","APPS_POLL","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","JOB_LIST","JOB_DETAILS","JOB_CREATE","JOB_UPDATE","JOB_DELETE","JOB_RUN","JOB_STOP","PERMISSIONS_ADD","PERMISSIONS_DELETE","DISCORD_URL","TWITTER_URL","GITHUB_URL","BLOG_URL","TOKEN_STORAGE_KEY","reportModelPythonCode","reportPlotPythonCode","apiFabric","CancelToken","axios","instance","create","baseURL","crossDomain","cancelToken","interceptors","request","use","requestConfig","token","localStorage","getItem","config","headers","Authorization","response","error","_get","Promise","reject","AccessForbidden","css","forbidden","Lock","message","Avatar","forwardRef","ref","className","name","color","size","withBorder","onClick","cx","avatar","border","slice","BackButton","Component","props","back","COLORS","white","blue","Spinner","isShown","align","spinner","show","Button","variant","fullWidth","isShowSpinner","button","CheckboxField","disabled","appearance","label","onLabel","offLabel","checkbox","__html","wrapper","mark","Copy","copyText","successMessage","buttonTitle","useTranslation","t","useState","isShowMessage","setIsShowMessage","onCLick","copy","setTimeout","icon","CodeViewer","language","fontSize","code","Dropdown","buttonClassName","items","isShow","setIsShow","buttonRef","useRef","dropdownRef","useEffect","document","body","addEventListener","outlineClickHandle","removeEventListener","event","targetElement","target","current","parentNode","onCLickButton","clickStopPropagation","stopPropagation","preventDefault","onCLickItem","item","dropdown","offset","menu","map","i","index","title","cloneElement","unicodeBase64Decode","text","decodeData","window","atob","decodeURIComponent","Array","prototype","call","c","charCodeAt","toString","join","e","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","attachments","tab","fields","length","forEach","Object","keys","params","key","options","push","uniq","filter","a","b","indexOf","min","apply","max","tabs","find","duration","string","momentDuration","moment","hours","minutes","seconds","as","asSeconds","application","contentType","test","fileToBase64","file","resolve","reader","FileReader","readAsDataURL","onload","result","split","onerror","fetcher","url","responseDataFormat","errorBody","status","JSON","parse","console","Error","info","typeMap","views","view","enabled","titles","selected","isSignedIn","Boolean","FileDragnDrop","formats","progressPercent","onChange","inputRef","setActive","selectedFile","setSelectedFile","isDidMount","useImperativeHandle","clear","removeFile","click","preventStop","onDrop","dataTransfer","files","checkAvailableExtension","onDragEnter","onDragLeave","onChangeInput","ext","pop","isAvailable","some","format","dnd","progressBar","progress","width","fileWrapper","fileExtend","fileSection","fileName","fileSize","fileRemove","placeholder","Loader","loader","grid","pic","section","MarkdownRender","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","Modal","dialogClassName","onClose","withCloseButton","onClickByLayer","currentTarget","Portal","modal","dialog","close","NotFound","NotFoundIcon","help","ProgressBar","isActive","globalProgress","setProgress","setWidth","prevIsActive","usePrevious","step","currentProgress","requestFrame","isActiveRef","startCalculateProgress","cancelAnimationFrame","onResize","offsetWidth","calculateProgress","round","atan","PI","requestAnimationFrame","bar","backgroundSize","TextField","errors","hasErrors","field","input","SearchField","showEverything","isDark","onChangeHandle","search","allValue","SelectField","propValue","mode","showSearch","o","onSelect","onDeselect","renderOptions","Option","Select","OptGroup","CustomHandle","style","left","transform","SliderField","slider","StackFilters","form","onApply","filters","select","isArray","buttons","StretchTitleField","onChangeProp","set","hidden","StretchTextAreaField","fieldWrap","Tabs","soon","TextAreaField","textarea","Tooltip","overlayContent","arrowContent","placement","trigger","overlayStyle","pointerEvents","tooltip","ViewSwitcher","stateValue","setStateValue","toggleValue","newValue","switcher","Yield","node","getElementById","Table","captions","rows","table","caption","row","cell","isImageType","base64ToJSON","base64","parsedJSON","base64ImagePrefixes","View","attachment","fullAttachment","isList","requestStatus","viewRef","tableScale","setTableScale","viewWidth","setVieWidth","noRender","setNoRender","onResizeCard","containerWidth","parentElement","newScale","Bokeh","json","version","get","parseInt","querySelector","embed","embed_item","renderImage","preview","renderCSV","decodeCSV","CSV","renderPlotly","layout","margin","autosize","responsive","height","renderMl","pullPythonCode","p","isString","description","footer","href","renderBokeh","renderAttachment","undefined","isEqual","areEqual","prevProps","nextProps","memo","callBack","deps","rootMargin","threshold","root","intersectionCallback","useCallback","isIntersecting","observer","IntersectionObserver","observe","unobserve","FETCH","FETCH_SUCCESS","FETCH_FAIL","meta","StateProvider","useStateValue","dispatch","fetchAttachment","onSuccess","Attachment","withLoader","customData","actions","loadingFullAttachment","setLoadingFullAttachment","setFullAttachment","prevAttachment","fetchFullAttachment","baseUrl","useIntersectionObserver","PermissionUsers","permissions","maxLength","owner","list","user","email","count","Item","deleteAction","rest","onClickDelete","renderIcon","head","content_type","category","getStackCategory","ChartIcon","TableIcon","MLIcon","AppIcon","cn","top","date","timestamp","defaultValue","setValue","savedValue","setItem","notFound","auth","authLogin","verifyUser","authSignUp","authForgetPassword","authResetPassword","confirmEmailMessage","stacks","stackDetails","reports","reportsDetails","jobs","jobsDetails","settings","List","deleteStack","renderUploadStack","tabsMap","chart","mlModel","app","useListViewSwitcher","setView","setTabs","activeTab","setActiveTab","stacksByCategories","setStacksByCategories","deletingStack","setDeletingStack","isShowWelcomeModal","setIsShowWelcomeModal","isShowUploadStackModal","setIsShowUploadStackModal","setSearch","isInitialMount","sortingItems","lastSource","showWelcomeModal","onChangeSearch","hideWelcomeModal","showUploadStackModal","hideUploadStackModal","deleteItem","hideDeleteConfirmation","showDeleteConfirmation","getItems","filteredItems","header","headerSide","uploadButton","controls","viewSwitcher","itemList","fill","loadingItem","StackListItem","Link","routes","HowTo","modalMode","configurePythonCommand","howto","handler","listener","contains","getFrameName","frame","Frames","frames","headId","onMarkAsHead","isShowDropdown","setIsShowDropdown","toggleDropdown","frameForMarkingAsHead","setFrameForMarkingAsHead","useOnClickOutside","activeFrame","f","onClickItem","onClickMarkAsHead","hideConfirmation","confirmMarkFrameAsHead","callback","depsOrDelay","delay","_debounce","isEmail","isRequired","noSpaces","isValidStackName","isValidEmail","mail","invalidEmailAddress","isValid","api","checkUser","addPermissions","instancePath","path","post","removePermissions","Share","defaultIsPrivate","defaultPermissions","onUpdatePrivate","urlParams","onUpdatePermissions","userExists","setUserExists","setIsEmail","isPrivate","setIsPrivate","setPermissions","setLoading","isShowModal","setIsShowModal","setUserName","useActions","toggleModal","updatePrivate","useDebounce","checkUserName","then","exists","onChangeIsPrivate","checked","onChangeUserName","onKeyPressUserName","which","keyCode","userHasPermission","addUser","newPermissions","concat","removeUser","renderUser","userPic","userDelete","userMessage","userMessageSuccess","searchString","useMemo","reduce","origin","location","Fragment","desktopButton","mobileButton","copylink","textInput","content","checkUserMessage","success","fail","secondary","users","diagram","EmptyMessage","onAdd","Trans","Readme","onUpdate","currentUserName","textareaRef","readme","isEdit","setIsEdit","focus","setSelectionRange","scrollTop","scrollHeight","edit","cancel","save","onAddReadme","container","emptyMessage","validationMap","required","getValidationFunction","validator","initialFormState","fieldsValidators","setForm","formErrors","setFormErrors","eventOrName","fieldValue","resetForm","getFieldErrors","fieldName","checkValidForm","newFormErrors","Details","currentFrameId","onChangeHeadFrame","attachmentIndex","onChangeAttachmentIndex","downloadAttachment","onChangeFrame","onUpdateReadme","toggleUpload","backUrl","configureRCommand","setPrivate","updatePermissions","didMountRef","useForm","setFields","prevFrame","isShowHowToModal","setIsShowHowToModal","showHowToModal","hideHowToModal","parseTabs","findAttach","tabName","attach","valid","findAttachDebounce","parseParams","getCurrentAttachment","selectedTab","parseStackTabs","parseStackParams","onClickDownloadAttachment","onChangeTab","details","sideHeader","share","StackFrames","revisions","withFilters","StackAttachment","StackHowToFetchData","side","Progress","percent","executeStack","pollStack","REFRESH_INTERVAL","executionId","onChangeExecutionId","executeData","setExecuteData","executing","setExecuting","calculating","setCalculating","setError","appAttachment","setAppAttachment","getFormFromViews","updateExecuteData","parseStackViews","hasApplyButton","submit","findIndex","checkFinished","isUpdateData","output","Date","now","logs","FilterLoader","filterLoader","fromAgo","fromNow","MB","Upload","refresh","withButton","uploading","setUploading","setFile","runValidation","closeHandle","getErrorsText","method","put","onUploadProgress","progressEvent","percentCompleted","loaded","total","v4","fileToBaseTo64","upload","subtitle","dragndrop","fileFieldRef","clearForm","UploadStack","withFileUpload","activeCodeTab","setActiveCodeTab","activePublishTab","setActivePublishTab","publishTabs","fetchJob","runJob","stopJob","createJob","updateJob","removeJob","JOB_DEFAULT_ESTIMATED_DURATION","calculateJobProgress","job","estimatedDuration","currentDuration","started","leftDuration","onlyDuration","progressTimer","clearInterval","setInterval","time","getFormattedDuration","REFRESH_TIMEOUT","dataFormat","TableRow","onClickRow","onEdit","onDelete","useParams","refreshInterval","setRefreshInterval","useSWR","dataFetcher","initialData","revalidateOnFocus","jobData","mutate","rowClick","onRun","onStop","getTitle","renderStatus","toLowerCase","red","runtime","finished","useHistory","lastRuntime","getOnRemove","j","mobileSearch","tableWrap","tableCaptions","tableCell","startAppProgress","setAppProgress","completeAppProgress","resetAppProgress","timeout","ScheduleSettings","onChangeRuntime","messageRef","schedule","scheduleType","setScheduleType","scheduleTime","setScheduleTime","nextRunDelay","setNextRunDelay","runtimeChange","scheduleTypeChange","scheduleTimeChange","runTime","getHours","add","toDate","getTime","classList","clearTimeout","remove","dropdownButton","CodeEditor","saved","successMessageRef","lines","match","lineNos","editor","scroll","lineNumbers","highlight","languages","fontFamily","lineHeight","outline","Status","Logs","setIsShown","updated","toggleShow","open","text1","text2","useAppProgress","titleValue","setTitleValue","setCode","running","setRunning","stopping","setStopping","codeSaved","setCodeSaved","update","updateDebounce","updateLongDebounce","prevData","detectEnterPress","shiftKey","ctrlKey","onClickRun","onChangeTitle","onChangeCode","onChangeSchedule","onClickStop","dashboards","codeEditor","Jobs","Switch","Route","renderContent","hasStacks","cards","card","previewWrap","by","createReport","updateReport","deleteReport","reportId","reportInsertCard","dashboard","reportUpdateCard","reportDeleteCard","creating","setCreating","getDeleteFunc","r","ListItem","move","array","oldIndex","newIndex","splice","moveElement","GridContext","GridProvider","setItems","setState","moveItem","sourceId","destinationId","sourceIndex","destinationIndex","render","AddStacksModal","onAddStacks","searchQuery","setSearchQuery","setSelected","getFullStackName","isChecked","stackName","getOnClickStack","filtered","isUserOwner","viewValueMap","Card","deleteCard","updateCard","forwardedRef","moveAvailable","setTitle","columns","setColumns","descFieldRef","isMounted","isHoveredMoveBtn","isShowDesc","setIsShowDesc","prevIsShowDesc","stackOwner","setAttachmentIndex","cardParams","setCardParams","onChangeView","onChangeDescription","onEnterMove","onLeaveMove","onBlurDescription","addDesc","inner","readonly","nameValue","nameEdit","infoTime","link","cardControls","StretchTextareaField","DnDItem","onMoveItem","useDrag","collect","monitor","isDragging","connectDrag","useDrop","accept","drop","hoveredOverItem","connectDrop","Children","child","DnDGridContext","isShowStacksModal","setIsShowStacksModal","filteredCards","setFilteredCards","setGridItems","cardsItems","filterCards","getAllAttachments","defaultFilterValues","hasOldTab","newActiveTab","debounceUpdateTitle","debounceUpdateDescription","onChangePrivate","addStacks","newCards","getDeleteCardFunc","getUpdatedCardFunc","updatedCard","moveCard","indexFrom","indexTo","deleteDashboard","renderFilters","hasSelectField","toggleAddStackModal","CardWrapComponent","addButton","StackTabs","empty","Reports","Header","logo","Logo","UnAuthorizedLayout","main","SettingsInformation","renderModalContent","infoButton"],"mappings":"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"}