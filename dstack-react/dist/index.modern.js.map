{"version":3,"file":"index.modern.js","sources":["../src/AppStore/actionsTypes.js","../src/AppStore/index.js","../src/config/index.js","../src/apiFabric/index.js","../src/AccessForbidden/index.js","../src/Avatar/index.js","../src/BackButton/index.js","../src/Spinner/index.js","../src/Button/index.js","../src/CheckboxField/index.js","../src/Copy/index.js","../src/CodeViewer/index.js","../src/Dropdown/index.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/parseStackParams.js","../src/utils/parseStackTabs.js","../src/utils/getFormattedDuration.js","../src/utils/getStackCategory.js","../src/utils/fileToBaseTo64.js","../src/utils/dataFetcher.js","../src/utils/parseStackViews.js","../src/utils.js","../src/FileDragnDrop/index.js","../src/Loader/index.js","../src/MarkdownRender/index.js","../src/Modal/index.js","../src/NotFound/index.js","../src/hooks/usePrevious.js","../src/ProgressBar/index.js","../src/TextField/index.js","../src/SearchField/index.js","../src/SelectField/index.js","../src/SliderField/index.js","../src/TextAreaField/index.js","../src/StackFilters/index.js","../src/StretchTitleField/index.js","../src/kit/StretchTextareaField/index.js","../src/Tabs/index.js","../src/Tooltip/index.js","../src/ViewSwitcher/index.js","../src/Yield/index.js","../src/stack/Attachment/View/Table/index.js","../src/stack/Attachment/utils.js","../src/stack/Attachment/View/index.js","../src/hooks/useIntersectionObserver.js","../src/stack/Attachment/actionsTypes.js","../src/stack/Attachment/store.js","../src/stack/Attachment/actions.js","../src/stack/Attachment/index.js","../src/PermissionUsers/index.js","../src/stack/ListItem/index.js","../src/routes.js","../src/stack/List/index.js","../src/stack/HowToFetchData/index.js","../src/hooks/useOnClickOutside.js","../src/stack/Frames/index.js","../src/hooks/useDebounce.js","../src/validations/index.js","../src/Share/actions.js","../src/Share/index.js","../src/stack/Details/components/Loader/index.js","../src/stack/Details/components/Tabs/index.js","../src/stack/Details/components/Readme/index.js","../src/hooks/useForm.js","../src/stack/Details/index.js","../src/stack/DetailsApp/components/Loader/index.js","../src/stack/DetailsApp/components/Progress/index.js","../src/stack/actions.js","../src/stack/DetailsApp/index.js","../src/stack/Upload/index.js","../src/stack/UploadStack/Upload/index.js","../src/stack/UploadStack/index.js","../src/Jobs/actions.js","../src/Jobs/List/components/Loader/index.js","../src/Jobs/utils.js","../src/Jobs/Details/components/Progress/index.js","../src/Jobs/List/components/TableRow/index.js","../src/Jobs/List/index.js","../src/hooks/useAppProgress.js","../src/Jobs/Details/components/ScheduleSettings/index.js","../src/Jobs/Details/components/CodeEditor/index.js","../src/Jobs/Details/components/Status/index.js","../src/Jobs/Details/components/Logs/index.js","../src/Jobs/Details/components/Loader/index.js","../src/Jobs/Details/index.js","../src/Jobs/index.js","../src/Reports/ListItem/index.js","../src/Reports/List/components/Loader/index.js","../src/Reports/actions.js","../src/Reports/List/index.js","../src/Reports/Details/components/Loader/index.js","../src/dnd/DnDGridContext/index.js","../src/Reports/AddStacksModal/Loader/index.js","../src/Reports/AddStacksModal/index.js","../src/Reports/Details/components/Card/index.js","../src/dnd/DnDItem/index.js","../src/Reports/Details/index.js","../src/Reports/index.js","../src/layouts/UnAuthorized/Header/index.js","../src/layouts/UnAuthorized/index.js","../src/settings/Information/index.js"],"sourcesContent":["export default {\n    FETCH_CURRENT_USER: 'app/user/FETCH',\n    FETCH_CURRENT_USER_SUCCESS: 'app/user/FETCH_SUCCESS',\n    FETCH_CURRENT_USER_FAIL: 'app/user/FETCH_FAIL',\n\n    FETCH_CONFIG_INFO: 'app/config/FETCH',\n    FETCH_CONFIG_INFO_SUCCESS: 'app/config/FETCH_SUCCESS',\n    FETCH_CONFIG_INFO_FAIL: 'app/config/FETCH_FAIL',\n\n    START_PROGRESS: 'app/START_PROGRESS',\n    SET_PROGRESS: 'app/SET_PROGRESS',\n    COMPLETE_PROGRESS: 'app/COMPLETE_PROGRESS',\n    RESET_PROGRESS: 'app/RESET_PROGRESS',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nexport {default as actionsTypes} from './actionsTypes';\n\nconst initialState = {\n    currentUser: {\n        loading: false,\n        data: null,\n    },\n    configInfo: {\n        loading: false,\n        data: null,\n    },\n    appProgress: {\n        active: null,\n        value: null,\n    },\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH_CURRENT_USER):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: true,\n                },\n            };\n\n        case (actionsTypes.FETCH_CURRENT_USER_SUCCESS):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    data: action.payload,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.FETCH_CURRENT_USER_FAIL):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: false,\n                },\n            };\n\n\n        case (actionsTypes.FETCH_CONFIG_INFO):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    loading: true,\n                },\n            };\n\n        case (actionsTypes.FETCH_CONFIG_INFO_SUCCESS):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    data: action.payload,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.FETCH_CONFIG_INFO_FAIL):\n            return {\n                ...state,\n                configInfo: {\n                    ...state.configInfo,\n                    loading: false,\n                },\n            };\n\n\n        case (actionsTypes.START_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: true,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.SET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    value: action.payload,\n                },\n            };\n\n        case (actionsTypes.COMPLETE_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: false,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.RESET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: null,\n                    value: null,\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const AppStoreProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useAppStore = () => useContext(StateContext);\n","export default {\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n    SUPPORT_URL: '/support/submit',\n    SIGN_UP_URL: '/users/register',\n    RESET_PASSWORD_URL: '/users/reset',\n    UPDATE_PASSWORD_URL: '/users/update/password',\n\n    ADMIN_USERS_LIST: '/users/admin/list',\n    ADMIN_USERS_CREATE: '/users/admin/create',\n    ADMIN_USERS_EDIT: '/users/admin/edit',\n    ADMIN_USERS_DELETE: '/users/admin/delete',\n    ADMIN_USERS_RESET: '/users/admin/reset',\n\n    USER_DATA_URL: '/users/remember',\n    CONFIG_INFO_URL: '/config/info',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACK_LIST: '/stacks',\n    USER_STACK_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    APPS_EXECUTE: '/apps/execute',\n    APPS_POLL: '/apps/poll',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    JOB_LIST: userName => `/jobs/${userName}`,\n    JOB_DETAILS: (userName, id) => `/jobs/${userName}/${id}`,\n    JOB_CREATE: '/jobs/create',\n    JOB_UPDATE: '/jobs/update',\n    JOB_DELETE: '/jobs/delete',\n    JOB_RUN: '/jobs/run',\n    JOB_STOP: '/jobs/stop',\n\n    PERMISSIONS_ADD: '/permissions/add',\n    PERMISSIONS_DELETE: '/permissions/delete',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: 'https://github.com/dstackai',\n    BLOG_URL: 'https://blog.dstack.ai',\n\n    TOKEN_STORAGE_KEY: 'token',\n};\n\nexport const reportModelPythonCode = `import dstack as ds\nfrom sklearn.linear_model import LogisticRegression\n\nmodel = LogisticRegression()\nmodel.fit(X_train, y_train)\n\nds.push(\"my_model\", model, \"My first linear model\")`;\n\nexport const reportPlotPythonCode = `import matplotlib.pyplot as plt\nimport dstack as ds\n\nfig = plt.figure()\nplt.plot([1, 2, 3, 4], [1, 4, 9, 16])\n\nds.push_frame(\"my_plot\", fig, \"My first plot\")`;\n\nexport const installRPackageCode = 'install.packages(\"dstack\")';\n\nexport const reportPlotRCode = `library(ggplot2)\nlibrary(dstack)\n\ndf <- data.frame(x = c(1, 2, 3, 4), y = c(1, 4, 9, 16))\nimage <- ggplot(data = df, aes(x = x, y = y)) + geom_line()\n\npush_frame(\"simple\", image, \"My first plot\")`;\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst apiFabric = ({apiUrl} = {}) => {\n    const CancelToken = axios.CancelToken;\n\n    const instance = axios.create({\n        baseURL: apiUrl,\n        crossDomain: true,\n    });\n\n    instance.cancelToken = CancelToken;\n\n    instance.interceptors.request.use(requestConfig => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        requestConfig.headers.Authorization = token ? `Bearer ${token}` : '';\n        return requestConfig;\n    });\n\n    instance.interceptors.response.use(\n        response => {\n            return response;\n        },\n        error => {\n            if (_get(error, 'response.status', null) === 401) {\n                return Promise.reject(error.response);\n            } else if (_get(error, 'response.status', null) === 400) {\n                return Promise.reject(error.response);\n            } else {\n                return Promise.reject(error);\n            }\n        }\n    );\n\n    return instance;\n};\n\nexport default apiFabric;\n\n","// @flow\nimport React from 'react';\nimport {ReactComponent as Lock} from './lock.svg';\n\nimport css from './style.module.css';\n\nconst AccessForbidden = ({children}) => {\n    return (\n        <div className={css.forbidden}>\n            <Lock alt=\"\" width=\"85\" height=\"104\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AccessForbidden;\n","import React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    onClick?: Function,\n    withBorder?: boolean,\n    className?: string,\n    name: string,\n    color?: 'violet' | 'turquoise' | 'blue' | 'lilac' | 'pink' | 'green' | 'green2' | 'orange',\n    size?: 'small' | 'normal' | 'list',\n}\n\nconst Avatar = forwardRef(({className, name, color = 'violet', size = 'normal', withBorder, onClick}: Props, ref) => {\n    return (\n        <div ref={ref} className={cx(css.avatar, className, color, size, {border: withBorder})} onClick={onClick}>\n            {name.slice(0, 2)}\n        </div>\n    );\n});\n\nexport default Avatar;\n","import React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst BackButton = ({Component = 'button', children, className, ...props}) => {\n    return (\n        <Component className={cx(css.back, className)} {...props}>\n            <span className=\"mdi mdi-arrow-left\" />\n\n            {children && (\n                <span className={css.children}>{children}</span>\n            )}\n        </Component>\n    );\n};\n\nexport default BackButton;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst COLORS = {\n    white: '#fff',\n    blue: '#507CD0',\n};\n\ntype Props = {\n    align?: 'center',\n    size?: number,\n    color?: 'white' | 'blue',\n    isShown?: boolean,\n    className?: string,\n};\n\nconst Spinner = ({size = 22, color = 'white', isShown, className, align}: Props) => {\n    return (\n        <div className={cx(css.spinner, className, align, {show: isShown})}>\n            <svg width={size} height={size} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* eslint-disable */}\n                <path\n                    d=\"M11.7046 18.9689C13.3618 18.8224 14.9321 18.1628 16.1969 17.0821C17.4617 16.0014 18.3581 14.5532 18.7614 12.9392C19.1647 11.3252 19.0548 9.62557 18.4469 8.07695C17.839 6.52832 16.7635 5.20773 15.37 4.29897C13.9765 3.39021 12.3343 2.9385 10.672 3.00671C9.00979 3.07491 7.41015 3.65964 6.09577 4.67951C4.78139 5.69938 3.81766 7.10365 3.33871 8.69687C2.85976 10.2901 2.88943 11.993 3.42358 13.5686L5.19569 12.9678C4.78648 11.7607 4.76375 10.4561 5.13067 9.23556C5.4976 8.01499 6.23591 6.93918 7.24286 6.15785C8.24981 5.37653 9.4753 4.92857 10.7488 4.87632C12.0222 4.82406 13.2803 5.17012 14.3478 5.86632C15.4154 6.56253 16.2394 7.57423 16.7051 8.76064C17.1708 9.94704 17.255 11.2491 16.946 12.4856C16.6371 13.7221 15.9503 14.8316 14.9814 15.6595C14.0124 16.4875 12.8094 16.9927 11.5398 17.105L11.7046 18.9689Z\"\n                    fill=\"url(#paint0_linear)\"\n                />\n                {/* eslint-enable */}\n\n                <defs>\n                    <linearGradient id=\"paint0_linear\" x1=\"13.5\" y1=\"18\" x2=\"4\" y2=\"13\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor={COLORS[color]} />\n                        <stop offset=\"1\" stopColor={COLORS[color]} stopOpacity=\"0.2\"/>\n                    </linearGradient>\n                </defs>\n            </svg>\n\n        </div>\n    );\n};\n\nexport default Spinner;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport type {Node} from 'react';\nimport cx from 'classnames';\nimport css from './style.module.css';\nimport Spinner from '../Spinner';\n\ntype Props = {\n    Component?: any,\n    children?: Node,\n    className?: string,\n    size?: 'small' | 'normal' | 'large',\n    color?: 'default' | 'primary' | 'secondary' | 'lilac' | 'success' | 'fail',\n    variant?: 'default' | 'contained' | 'outlined',\n    isShowSpinner?: boolean,\n    fullWidth?: boolean,\n    onClick?: Function,\n};\n\nconst Button:Props = forwardRef((\n    {\n        Component = 'button',\n        children,\n        className,\n        size = 'normal',\n        color = 'default',\n        variant = 'default',\n        fullWidth = false,\n        isShowSpinner,\n        ...props\n    },\n\n    ref\n) => {\n    return (\n        <Component\n            ref={ref}\n            className={\n                cx(css.button, size, `color-${color}`, `variant-${variant}`, className, {'full-width': fullWidth})\n            }\n\n            {...props}\n        >\n            {isShowSpinner && <Spinner className={css.spinner} color=\"white\" isShown />}\n            {children}\n        </Component>\n    );\n});\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    onChange?: Function,\n    value?: boolean,\n    appearance: 'checkbox' | 'switcher',\n    align: 'left' | 'right',\n    label?: string,\n    onLabel?: string,\n    offLabel?: string,\n    children?: any,\n}\n\nconst CheckboxField = ({\n    className,\n    value,\n    disabled,\n    appearance = 'checkbox',\n    align = 'left',\n    label,\n    onLabel,\n    offLabel,\n    children,\n    ...props\n}: Props) => {\n    return (\n        <label className={cx(css.checkbox, className, appearance, align, {disabled})}>\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={value}\n                    {...props}\n                />\n\n                {offLabel && <span\n                    className={cx(css['toggle-label'], 'off')}\n                    dangerouslySetInnerHTML={{__html: offLabel}}\n                />}\n\n                <div className={css.wrapper}>\n                    <div className={cx(css.mark, 'mdi', 'mdi-check', {'toggle-color': !(onLabel && offLabel)})} />\n                </div>\n\n                {onLabel && <span\n                    className={cx(css['toggle-label'], 'on')}\n                    dangerouslySetInnerHTML={{__html: onLabel}}\n                />}\n\n                {label && <span className={css.label}>{label}</span>}\n            </div>\n\n            {children}\n        </label>\n    );\n};\n\nexport default CheckboxField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport copy from 'copy-to-clipboard';\nimport {useTranslation} from 'react-i18next';\nimport css from './styles.module.css';\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    copyText: string,\n    buttonTitle?: ?string,\n    successMessage?: string,\n};\n\nconst Copy = ({children, className, copyText, successMessage, buttonTitle}: Props) => {\n    const {t} = useTranslation();\n    const [isShowMessage, setIsShowMessage] = useState(false);\n\n    const onCLick = () => {\n        copy(copyText);\n        setIsShowMessage(true);\n        setTimeout(() => setIsShowMessage(false), 3000);\n    };\n\n    return <div className={cx(css.copy, className)}>\n        {children\n            ? children({onClick: onCLick})\n            : (\n                <div className={css.button} onClick={onCLick}>\n                    <span className={cx(css.icon, {[css.margin]: buttonTitle !== null}, 'mdi mdi-content-copy')} />\n\n                    {buttonTitle && buttonTitle}\n                    {buttonTitle === undefined && t('copy')}\n                </div>\n            )\n        }\n\n        <div className={cx(css.message, {'is-show': isShowMessage})}>\n            {successMessage\n                ? successMessage\n                : t('copied')\n            }\n        </div>\n    </div>;\n};\n\nexport default Copy;\n","// @flow\n\nimport React from 'react';\nimport Highlight from 'react-highlight.js';\nimport {useTranslation} from 'react-i18next';\nimport Copy from '../Copy';\nimport cx from 'classnames';\nimport './theme.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    language: string,\n    children: string,\n    fontSize?: string | number\n};\n\nconst CodeViewer = ({className, language, children, fontSize}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.code, className, fontSize && `font-size-${fontSize}`)}>\n            <Highlight language={language}>\n                {children}\n            </Highlight>\n\n            <Copy\n                className={css.copy}\n                copyText={children}\n                successMessage={t('snippetIsCopied')}\n            />\n        </div>\n    );\n};\n\nexport default CodeViewer;\n","// @flow\nimport React, {useState, useEffect, useRef} from 'react';\nimport cx from 'classnames';\nimport RcTooltip from 'rc-tooltip';\nimport css from './styles.module.css';\n\ntype Item = {\n    title: string,\n    onClick?: Function,\n}\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    buttonClassName?: string,\n    items: Array<Item>\n}\n\nconst Dropdown = ({className, buttonClassName, children, items}: Props) => {\n    const [isShow, setIsShow] = useState(false);\n    const buttonRef = useRef(null);\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n        document.body.addEventListener('click', outlineClickHandle);\n        return () => document.body.removeEventListener('click', outlineClickHandle);\n    });\n\n    const outlineClickHandle = (event: SyntheticEvent<HTMLBodyElement>) => {\n        let targetElement = event.target;\n\n        do {\n            if (targetElement === buttonRef.current || targetElement === dropdownRef.current)\n                return;\n\n            targetElement = targetElement.parentNode;\n        } while (targetElement);\n\n        if (isShow)\n            setIsShow(false);\n    };\n\n    const onCLickButton = (event: SyntheticEvent<HTMLButtonElement>) => {\n        clickStopPropagation(event);\n        setIsShow(!isShow);\n    };\n\n    const clickStopPropagation = (event: SyntheticEvent<HTMLButtonElement>) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    const onCLickItem = (item: Item) => () => {\n        setIsShow(!isShow);\n\n        if (item.onClick)\n            item.onClick();\n    };\n\n    return (\n        <div className={cx(css.dropdown, className, {active: isShow})}>\n            <RcTooltip\n                arrowContent={null}\n                visible={isShow}\n                placement=\"bottomRight\"\n                destroyTooltipOnHide\n                align={{offset: [0, 0]}}\n\n                overlay={\n                    <div\n                        className={cx(css.menu, 'show')}\n                        ref={dropdownRef}\n                        onClick={clickStopPropagation}\n                    >\n                        {items.map((i, index) => <div\n                            key={index}\n                            className={css.item}\n                            onClick={onCLickItem(i)}\n                        >\n                            {i.title}\n                        </div>)}\n                    </div>\n                }\n            >\n                {children\n                    ? React.cloneElement(children, {\n                        onClick: onCLickButton,\n                        ref: buttonRef,\n                    })\n                    : <div ref={buttonRef} className={cx(css.button, buttonClassName)} onClick={onCLickButton}>\n                        <span className=\"mdi mdi-dots-vertical\" />\n                    </div>\n                }\n            </RcTooltip>\n        </div>\n    );\n};\n\nexport default Dropdown;\n","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","import {uniq} from 'lodash-es';\n\nexport default (attachments, tab) => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (tab\n                && i.params[tab.value]?.type !== 'tab'\n                && i.params[tab.key]?.title !== tab.value\n            )\n                return;\n\n            if (i.params[key] instanceof Object)\n                return;\n\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        fields[key].options = uniq(fields[key].options);\n        fields[key].label = key;\n\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};\n","export default attachments => {\n    const tabs = [];\n\n    if (!attachments || !attachments.length)\n        return [];\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object\n                && i.params[key].type === 'tab'\n            ) {\n                const tab = i.params[key].title || key;\n\n                if (!tabs.find(i => i.value === tab))\n                    tabs.push({\n                        label: tab,\n                        value: tab,\n                        key,\n                    });\n            }\n        });\n    });\n\n    return tabs;\n};\n","import moment from 'moment';\n\nexport default duration => {\n    if (duration < 1000)\n        return '0sec';\n\n    let string = '';\n\n    const momentDuration = moment.duration(duration);\n    const hours = momentDuration.hours();\n    const minutes = momentDuration.minutes();\n    const seconds = momentDuration.seconds();\n\n    if (hours)\n        string += `${moment.duration(hours, 'hours').as('hours')}h`;\n\n    if (minutes)\n        string += ` ${moment.duration(minutes, 'minutes').as('minutes')}min`;\n\n    if (seconds)\n        string += ` ${moment.duration(seconds, 'seconds').asSeconds()}sec`;\n\n    return string;\n};","export default ({application, contentType}) => {\n    switch (true) {\n        case (contentType === 'image/svg+xml'):\n        case (contentType === 'image/png'):\n        case (contentType === 'image/jpeg'):\n        case (application === 'plotly'):\n        case (application === 'bokeh'):\n            return 'chart';\n\n        case (contentType === 'text/csv'):\n            return 'table';\n\n        case (application === 'sklearn'):\n        case (/^tensorflow\\/*/.test(application)):\n        case (/^torch\\/*/.test(application)):\n            return 'mlModel';\n\n        case (application === 'application/python' && contentType === 'application/octet-stream'):\n            return 'app';\n\n        default:\n            return null;\n    }\n};\n","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst fetcher = async (url: string, responseDataFormat = data => data) => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    try {\n        const request = await axios({\n            url: url,\n            headers: {Authorization: token ? `Bearer ${token}` : ''},\n        });\n\n        return responseDataFormat(request.data);\n    } catch (e) {\n        let errorBody = null;\n\n        let status = null;\n\n        try {\n            errorBody = JSON.parse(_get(e, 'request.response'));\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            status = _get(e, 'request.status');\n        } catch (e) {\n            console.log(e);\n        }\n\n        const error = new Error('An error occurred while fetching the data.');\n\n        error.info = errorBody;\n        error.status = status;\n        throw error;\n    }\n};\n\nexport default fetcher;\n","const typeMap = {\n    'TextFieldView': 'text',\n    'LongTextFieldView': 'textarea',\n    'ComboBoxView': 'select',\n    'SliderView': 'slider',\n    'CheckBoxView': 'checkbox',\n    'ApplyView': 'apply',\n};\n\nexport default views => {\n    if (!views || !Array.isArray(views))\n        return {};\n\n    const fields = {};\n\n    views.forEach((view, index) => {\n        fields[index] = {\n            label: view.label,\n            type: typeMap[((view.long ? 'Long' : '') + view.type)],\n            value: view.data,\n            disabled: !view.enabled,\n        };\n\n        if (view.type === 'CheckBoxView')\n            fields[index].value = view.selected;\n\n        if (view.type === 'ComboBoxView') {\n            fields[index].options = view.titles.map((title, i) => ({\n                label: title,\n                value: i,\n            }));\n\n            fields[index].value = view.selected;\n            fields[index].multiple = view.multiple;\n        }\n\n        if (view.type === 'SliderView') {\n            fields[index].options = {};\n            view.data.forEach(item => fields[index].options[item] = item);\n\n            fields[index].min = Math.min.apply(null, view.data);\n            fields[index].max = Math.max.apply(null, view.data);\n            fields[index].value = view.data[view.selected];\n        }\n    });\n\n    return fields;\n};\n","import parseSearch from './utils/parseSearch';\nimport getDataFailedRequest from './utils/getDataFailedRequest';\nimport unicodeBase64Decode from './utils/unicodeBase64Decode';\nimport formatBytes from './utils/formatBytesSize';\nimport downloadFile from './utils/downloadFile';\nimport parseStackParams from './utils/parseStackParams';\nimport parseStackTabs from './utils/parseStackTabs';\nimport getFormattedDuration from './utils/getFormattedDuration';\nimport getStackCategory from './utils/getStackCategory';\nimport fileToBaseTo64 from './utils/fileToBaseTo64';\nimport dataFetcher from './utils/dataFetcher';\nimport parseStackViews from './utils/parseStackViews';\nimport config from './config';\n\nconst isSignedIn = () => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    return Boolean(token && token.length);\n};\n\nexport {\n    isSignedIn,\n    downloadFile,\n    formatBytes,\n    parseSearch,\n    getDataFailedRequest,\n    unicodeBase64Decode,\n    parseStackParams,\n    parseStackTabs,\n    getFormattedDuration,\n    getStackCategory,\n    fileToBaseTo64,\n    dataFetcher,\n    parseStackViews\n};\n","// @flow\nimport React, {useEffect, useRef, useState, forwardRef, useImperativeHandle} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {formatBytes} from '../utils';\nimport Button from '../Button';\nimport css from './style.module.css';\n\ntype Props = {\n    formats?: Array<string>,\n    className?: string,\n    loading?: boolean,\n    progressPercent?: ?number,\n    onChange?: Function,\n}\n\nconst FileDragnDrop = ({\n    formats,\n    className,\n    loading,\n    progressPercent = null,\n    onChange,\n}: Props, ref) => {\n    const {t} = useTranslation();\n    const inputRef = useRef(null);\n    const [active, setActive] = useState(false);\n    const [selectedFile, setSelectedFile] = useState();\n    const isDidMount = useRef(true);\n\n    useImperativeHandle(ref, () => ({clear: () => removeFile()}));\n\n    useEffect(() => {\n        if (!isDidMount.current) {\n            if (onChange)\n                onChange(selectedFile);\n        } else\n            isDidMount.current = false;\n    }, [selectedFile]);\n\n    const onClick = event => {\n        event.preventDefault();\n\n        if (inputRef.current)\n            inputRef.current.click();\n    };\n\n    const preventStop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const onDrop = event => {\n        preventStop(event);\n        setActive(false);\n\n        const [file] = event.dataTransfer.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const onDragEnter = event => {\n        preventStop(event);\n        setActive(true);\n\n    };\n\n    const onDragLeave = event => {\n        preventStop(event);\n        setActive(false);\n    };\n\n    const onChangeInput = event => {\n        const [file] = event.target.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const removeFile = () => {\n        setSelectedFile(null);\n    };\n\n    const checkAvailableExtension = file => {\n        const ext = '.' + file.name.split('.').pop();\n\n        let isAvailable;\n\n        if (formats && formats.length)\n            isAvailable = formats.some(format => {\n                if (format === '.jpg' || format === '.jpeg')\n                    return ext === '.jpg' || ext === '.jpeg';\n                else\n                    return format === ext;\n            });\n        else\n            isAvailable = true;\n\n        return isAvailable;\n    };\n\n    if (loading)\n        return (\n            <div className={cx(css.dnd, className, {active})}>\n                <div className={css.loading}>\n                    {t('Uploading')}&hellip;\n                    {typeof progressPercent === 'number' && `${progressPercent}%`}\n                </div>\n\n                {typeof progressPercent === 'number' &&  (\n                    <div className={css.progressBar}>\n                        <div className={css.progress} style={{width: `${progressPercent}%`}} />\n                    </div>\n                )}\n            </div>\n        );\n\n    if (selectedFile)\n        return (\n            <div className={cx(css.fileWrapper, className)}>\n                <div className={css.file}>\n                    <div className={css.fileExtend}>\n                        {selectedFile.name.split('.').pop()}\n                    </div>\n\n                    <div className={css.fileSection}>\n                        <div className={css.fileName}>{selectedFile.name}</div>\n                        <div className={css.fileSize}>{formatBytes(selectedFile.size)}</div>\n                    </div>\n\n                    <div onClick={removeFile} className={cx(css.fileRemove, 'mdi mdi-close')} />\n                </div>\n            </div>\n        );\n\n\n    return (\n        <div\n            className={cx(css.dnd, className, {active})}\n            onDrop={onDrop}\n            onDragEnter={onDragEnter}\n            onDragOver={onDragEnter}\n            onDragLeave={onDragLeave}\n        >\n            <input\n                ref={inputRef}\n                onChange={onChangeInput}\n                type=\"file\"\n            />\n\n            <div className={css.placeholder}>\n                {t('dragHereAFile')}\n                {''}\n                {Boolean(formats) && `(${formats.join(', ')})`}\n                {' '}\n                {t('or')}\n                {' '}\n            </div>\n\n            <Button\n                className={css.button}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={onClick}\n            >\n                {t('chooseAFile')}\n            </Button>\n        </div>\n    );\n};\n\nexport default forwardRef(FileDragnDrop);\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport MathJax from 'react-mathjax';\nimport RemarkMathPlugin from 'remark-math';\n\nconst MarkdownRender = props => {\n    const newProps = {\n        ...props,\n        plugins: [\n            RemarkMathPlugin,\n        ],\n\n        renderers: {\n            ...props.renderers,\n            math: props =>\n                <MathJax.Node formula={props.value} />,\n            inlineMath: props =>\n                <MathJax.Node inline formula={props.value} />,\n        },\n    };\n\n    return (\n        <MathJax.Provider input=\"tex\">\n            <ReactMarkdown {...newProps} />\n        </MathJax.Provider>\n    );\n};\n\nexport default MarkdownRender;","// @flow\n\nimport React from 'react';\nimport type {Node} from 'react';\nimport {Portal} from 'react-portal';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    title?: string,\n    isShow?: boolean,\n    className?: string,\n    dialogClassName?: string,\n    titleClassName?: string,\n    size?: 'confirmation' | 'small' | 'big',\n    onClose: Function,\n    children?: Node,\n    withCloseButton?: boolean,\n};\n\nconst Modal = ({\n    title,\n    className,\n    dialogClassName,\n    titleClassName,\n    size = 'big',\n    onClose,\n    isShow,\n    children,\n    withCloseButton,\n}: Props) => {\n    const onClickByLayer = event => {\n        if (event.currentTarget === event.target && onClose)\n            onClose();\n    };\n\n    return (\n        <Portal>\n            <div className={cx(css.modal, className, {show: isShow})} onClick={onClickByLayer}>\n                <div className={cx(css.dialog, size, dialogClassName)}>\n                    {withCloseButton && <span className={cx(css.close, 'mdi mdi-close')} onClick={onClose} />}\n\n                    {title && <div className={cx(css.title, titleClassName)}>{title}</div>}\n                    {children}\n                </div>\n            </div>\n        </Portal>\n    );\n};\n\nexport default Modal;\n","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport config from '../config';\nimport {ReactComponent as NotFoundIcon} from './404.svg';\nimport css from './style.module.css';\n\nconst NotFound = ({children}) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css['not-found']}>\n            <NotFoundIcon width=\"224\" height=\"77\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n\n            <div className={css.help}>\n                {t('needHelpWWriteToUsOn')}\n                {' '}\n                <a target=\"_blank\" href={config.TWITTER_URL}><span className=\"mdi mdi-twitter\" /> Twitter</a>\n                {', '}\n                <a target=\"_blank\" href={config.GITHUB_URL}><span className=\"mdi mdi-github-circle\" />GitHub</a>\n                {' '}\n                {t('or')}\n                {' '}\n                <a target=\"_blank\" href={config.DISCORD_URL}><span className=\"mdi mdi-discord\" />Discord</a>\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;\n","import {useEffect, useRef} from 'react';\n\nexport default value => {\n    const ref = useRef(value);\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport usePrevious from '../hooks/usePrevious';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    isActive: ?boolean,\n}\n\nconst ProgressBar = ({className, isActive, progress: globalProgress}: Props) => {\n    const [progress, setProgress] = useState(0);\n    const [width, setWidth] = useState(1000);\n    const prevIsActive = usePrevious(isActive);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const requestFrame = useRef(null);\n    const isActiveRef = useRef(false);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        isActiveRef.current = isActive;\n\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            setProgress(0);\n        }\n\n        if (!isActive && requestFrame.current) {\n            cancelAnimationFrame(requestFrame.current);\n        }\n    }, [isActive]);\n\n    useEffect(() => {\n        if (globalProgress !== null)\n            setProgress(globalProgress);\n        else {\n            setProgress(0);\n        }\n    }, [globalProgress]);\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize);\n\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n\n        return () => window.removeEventListener('resize', onResize);\n    }, []);\n\n    const calculateProgress = () => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100 || !isActiveRef.current)\n            cancelAnimationFrame(requestFrame.current);\n\n        if (isActiveRef.current)\n            requestFrame.current = requestAnimationFrame(calculateProgress);\n    };\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    const onResize = () => {\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n    };\n\n    return (\n        <div ref={ref} className={cx(css.bar, className)}>\n            <div\n                className={css.progress}\n                style={{\n                    width: `${progress}%`,\n                    backgroundSize: `${width}px 5px`,\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n","// @flow\nimport React, {useState, useEffect} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst validateValue = value => {\n    if (typeof value === 'string' || value)\n        return value;\n    else\n        return '';\n} ;\n\nconst TextField = ({\n    label,\n    className,\n    size = 'normal',\n    errors = [],\n    value: restValue,\n    onChange: restOnChange,\n    ...props\n}: Props) => {\n    const [value, setValue] = useState(() => validateValue(restValue));\n    const hasErrors = Boolean(errors.length);\n\n    useEffect(() => {\n        if (restValue !== value)\n            setValue(validateValue(restValue));\n    }, [restValue]);\n\n    const onChange = e => {\n        setValue(e.target.value);\n\n        if (typeof restOnChange === 'function')\n            restOnChange(e);\n    };\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.input}>\n                    {/*$FlowFixMe*/}\n                    <input\n                        className={cx({error: hasErrors})}\n                        value={value}\n                        onChange={onChange}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport TextField from '../TextField';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    showEverything?: boolean,\n    isDark?: boolean,\n}\n\nconst SearchField = ({className, showEverything, isDark, ...props}: Props) => {\n    const [isShow, setIsShow] = useState(showEverything || (props.value && props.value.length));\n\n    const clear = () => {\n        if (props.onChange)\n            props.onChange('');\n\n        if (!showEverything)\n            setIsShow(false);\n    };\n\n    const onChangeHandle = (event:SyntheticEvent<HTMLInputElement>) => {\n        if (props.onChange)\n            props.onChange(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.search, className, {'is-dark': isDark})}>\n            {isShow && <TextField\n                {...props}\n                onChange={onChangeHandle}\n                className={css.field}\n            />}\n\n            {isShow && Boolean(props.value && props.value.length) && (\n                <div className={css.clear} onClick={clear}>\n                    <span className=\"mdi mdi-close\" />\n                </div>\n            )}\n\n            {isShow && !Boolean(props.value && props.value.length) && (\n                <div className={css.clear}>\n                    <span className=\"mdi mdi-magnify\" />\n                </div>\n            )}\n\n            {!isShow && <div className={css.button} onClick={() => setIsShow(true)}>\n                <span className=\"mdi mdi-magnify\" />\n            </div>}\n        </div>\n    );\n};\n\nexport default SearchField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Select, {Option, OptGroup} from 'rc-select';\nimport CheckboxField from '../CheckboxField';\nimport css from './styles.module.css';\nimport './test.css';\n\nconst allValue = 'all';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    className?: string,\n    disabled?: boolean,\n    placeholder?: string,\n    showSearch?: boolean,\n    value: Array<string>,\n    mode?: string,\n    align: 'left' | 'right' | 'bottom',\n    label?: string,\n\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n}\n\nconst SelectField = ({\n    align = 'left',\n    size = 'normal',\n    label,\n    disabled,\n    placeholder,\n    value: propValue = [],\n    className,\n    mode,\n    onChange,\n    options = [],\n    errors = [],\n    showSearch = true,\n    ...props\n}: Props) => {\n    const hasErrors = Boolean(errors.length);\n    \n    const onChangeHandle = (value: Array<string>) => {\n        if (Array.isArray(value) && value.indexOf(allValue) >= 0)\n            if (value.length > options.length)\n                value = [];\n            else\n                value = options.map(o => o.value);\n\n        if (onChange)\n            onChange(value);\n    };\n\n    const onSelect = () => {};\n\n    const onDeselect = () => {};\n\n    const renderOptions = () => options.map(({value, label}) => (\n        <Option key={value} value={value}>\n            {mode === 'multiple' && <CheckboxField\n                readOnly\n                className=\"select-field-item-option-checkbox\"\n                value={propValue.indexOf(value) >= 0}\n            />}\n\n            <span className=\"select-field-item-option-label\">{label}</span>\n        </Option>\n    ));\n\n    return (\n        <div className={cx(css.field, className, size, align, {disabled})}>\n            <Select\n                value={propValue}\n                // animation={useAnim ? 'slide-up' : null}\n                // choiceTransitionName=\"rc-select-selection__choice-zoom\"\n                prefixCls=\"select-field\"\n                mode={mode}\n                showArrow\n                showSearch={showSearch}\n                onSelect={onSelect}\n                onDeselect={onDeselect}\n                placeholder={placeholder}\n                onChange={onChangeHandle}\n                inputIcon={<span className=\"mdi mdi-chevron-down\" />}\n                {...props}\n            >\n                {options.length && mode === 'multiple' && <Option key={allValue} value={allValue}>\n                    <CheckboxField\n                        readOnly\n                        className=\"select-field-item-option-checkbox\"\n                        value={propValue.length === options.length}\n                    />\n\n                    <span className=\"select-field-item-option-label\">Select all</span>\n                </Option>}\n\n                {mode === 'multiple'\n                    ? <OptGroup>{renderOptions()}</OptGroup>\n                    : renderOptions()\n                }\n            </Select>\n\n            {label && <label className={css.label}>{label}</label>}\n            {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n        </div>\n    );\n};\n\nexport default SelectField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport css from './styles.module.css';\nimport './test.css';\n\ntype Props = {\n    name?: string,\n    label?: string,\n    className?: string,\n    align: 'left' | 'right',\n};\n\nconst CustomHandle = props => {\n    const style = {\n        left: props.offset + '%',\n        transform: 'translateX(-50%)',\n    };\n\n    return (\n        <div className={props.className} key={props.index} style={style} data-value={props.value} />\n    );\n};\n\nconst SliderField = ({className, disabled, label, onChange, name, align = 'left', ...props}: Props) => {\n    const onChangeHandle = value => {\n        if (onChange)\n            onChange({\n                target: {\n                    value,\n                    name,\n                },\n            });\n    };\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <div className={css.slider}>\n                <Slider\n                    onChange={onChangeHandle}\n                    tipFormatter={value => `$${value}`}\n                    handle={CustomHandle}\n                    {...props}\n                />\n            </div>\n\n            {label && <span className={css.label}>{label}</span>}\n        </div>\n    );\n};\n\nexport default SliderField;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextAreaField = forwardRef(({label, className, size = 'normal', errors = [], value, ...props}: Props, ref) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.textarea}>\n                    {/*$FlowFixMe*/}\n                    <textarea\n                        className={cx({error: hasErrors})}\n                        value={value}\n                        ref={ref}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n});\n\nexport default TextAreaField;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport SelectField from '../SelectField';\nimport CheckboxField from '../CheckboxField';\nimport SliderField from '../SliderField';\nimport TextField from '../TextField';\nimport TextAreaField from '../TextAreaField';\nimport Button from '../Button';\nimport css from './styles.module.css';\n\ntype Props = {\n    fields: {},\n    form: {},\n    onChange: Function,\n    className?: string,\n}\n\nconst StackFilters = ({className, fields, form, onChange, onApply, isSidebar, disabled}: Props) => {\n    const {t} = useTranslation();\n\n    if (!Object.keys(fields).length)\n        return null;\n\n    return (\n        <div className={cx(css.filters, {[css.sidebar]: isSidebar}, className)}>\n            {Object.keys(fields).map(key => {\n                switch (fields[key].type) {\n                    case 'text':\n                        return <TextField\n                            size=\"small\"\n                            key={`text-${key}`}\n                            className={cx(css.field, css.text)}\n                            onChange={event => onChange(key, event.target.value)}\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'textarea':\n                        return <TextAreaField\n                            size=\"small\"\n                            key={`text-${key}`}\n                            className={cx(css.field, css.text)}\n                            onChange={event => onChange(key, event.target.value)}\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'select':\n                        return <SelectField\n                            size=\"small\"\n                            key={`select-${key}`}\n                            align=\"bottom\"\n                            className={cx(css.field, css.select)}\n                            onChange={value => onChange(key, value)}\n                            label={fields[key].label}\n                            name={key}\n                            options={fields[key].options}\n                            value={Array.isArray(form[key]) ? form[key] : [form[key]]}\n                            disabled={disabled || fields[key].disabled}\n                            mode={fields[key].multiple ? 'multiple' : null}\n                        />;\n\n                    case 'checkbox':\n                        return <CheckboxField\n                            appearance=\"switcher\"\n                            key={`checkbox-${key}`}\n                            className={cx(css.field, css.switcher)}\n                            onChange={onChange}\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'slider':\n                        return <SliderField\n                            key={`slider-${key}`}\n                            className={cx(css.field, css.slider)}\n                            onChange={onChange}\n                            align=\"right\"\n                            label={fields[key].label}\n                            name={key}\n                            value={form[key]}\n                            step={null}\n                            min={fields[key].min}\n                            max={fields[key].max}\n                            marks={fields[key].options}\n                            disabled={disabled || fields[key].disabled}\n                        />;\n\n                    case 'apply':\n                        return <div\n                            key={`apply-${key}`}\n                            className={cx(css.field, css.buttons)}\n                        >\n                            {onApply && (\n                                <Button\n                                    size=\"small\"\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={onApply}\n                                    disabled={disabled || fields[key].disabled}\n                                >\n                                    {t('apply')}\n                                </Button>\n                            )}\n\n                        </div>;\n\n                    default:\n                        return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default StackFilters;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTitleField = ({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={cx(css.field, className)}>\n            <input\n                type=\"text\"\n                placeholder={placeholder}\n                value={value}\n                onChange={onChange}\n                {...props}\n            />\n\n            <div className={css.hidden}>\n                {value && value.length ? value : placeholder}\n            </div>\n        </div>\n    );\n};\n\nexport default StretchTitleField;\n","// @flow\nimport React, {useEffect, useState, forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTextAreaField = forwardRef(({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props, ref) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={css.fieldWrap}>\n            <div className={cx(css.field, className)}>\n                <textarea\n                    rows={1}\n                    placeholder={placeholder}\n                    value={value}\n                    onChange={onChange}\n                    ref={ref}\n                    {...props}\n                />\n\n                <div className={css.hidden}>\n                    {value && value.length ? value : placeholder}\n                    {'\\n'}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default StretchTextAreaField;\n","// @flow\n\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = ?string | ?number;\n\ntype Tab = {\n    label: string,\n    value?: Value,\n}\n\ntype Props = {\n    appearance: 'transparent' | 'stroke-filled',\n    className?: string,\n    onChange?: Function,\n    tabs: Array<Tab>,\n    tabComponent?: any,\n    value?: Value,\n}\n\nconst Tabs = ({className, value: currentTabValue, tabs, appearance = 'transparent', onChange, tabComponent}: Props) => {\n    const {t} = useTranslation();\n\n    const getOnClickTab = (value: Value) => () => {\n        if (typeof onChange === 'function')\n            onChange(value);\n    };\n\n    const Component = tabComponent ? tabComponent : 'div';\n\n\n    return (\n        <div className={cx(css.tabs, appearance, className)}>\n            {tabs.map(({value, label, soon, ...rest}, index) => (\n                <Component\n                    {...rest}\n                    key={index}\n                    className={cx(css.tab, {active: value && value === currentTabValue})}\n                    onClick={getOnClickTab(value)}\n                >\n                    {label}\n                    {soon && <span className={css.soon}>{t('soon')}</span>}\n                </Component>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","// @flow\nimport React from 'react';\nimport RcTooltip from 'rc-tooltip';\nimport css from './style.module.css';\n\ntype Props = {\n    children: any,\n    overlayContent?: any,\n    arrowContent?: any,\n}\n\nconst Tooltip = ({\n    children,\n    overlayContent,\n    arrowContent = null,\n    placement = 'bottomLeft',\n    trigger = ['hover'],\n    overlayStyle = {pointerEvents: 'none'},\n    ...props\n}: Props) => {\n\n    return (\n        <RcTooltip\n            overlayStyle={overlayStyle}\n            arrowContent={arrowContent}\n            placement={placement}\n            trigger={trigger}\n            overlay={\n                <div className={css.tooltip}>{overlayContent}</div>\n            }\n            {...props}\n        >\n            {children}\n        </RcTooltip>\n    );\n};\n\nexport default Tooltip;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    value?: 'grid' | 'list',\n    onChange?: Function,\n    className?: string,\n}\n\nconst ViewSwitcher = ({value = 'grid', onChange, className}: Props) => {\n    const [stateValue, setStateValue] = useState(value);\n\n    useEffect(() => {\n        if (value !== stateValue)\n            setStateValue(value);\n\n    }, [value]);\n\n    const toggleValue = () => {\n        const newValue = stateValue === 'grid' ? 'list' : 'grid';\n\n        setStateValue(newValue);\n\n        if (onChange)\n            onChange(newValue);\n    };\n\n    return (\n        <div\n            className={cx(css.switcher, stateValue, className)}\n            onClick={toggleValue}\n        >\n            <span className=\"mdi mdi-view-grid\" />\n            <span className=\"mdi mdi-view-list\" />\n        </div>\n    );\n};\n\nexport default ViewSwitcher;","import React from 'react';\nimport {Portal} from 'react-portal';\n\nconst Yield = ({name, className, children}) => {\n    if (!name)\n        return null;\n\n    if (children) {\n        const node = document && document.getElementById(name);\n\n        if (!node)\n            return null;\n\n        return (\n            <Portal node={node}>\n                {children}\n            </Portal>\n        );\n    }\n\n    return (\n        <div className={className} id={name} />\n    );\n};\n\nexport default Yield;\n","\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Array<Array<string>>,\n}\n\nconst Table = ({data}: Props) => {\n    const [captions, ...rows] = data;\n\n    return (\n        <div className={css.table}>\n            <table>\n                <thead>\n                    <tr>\n                        {captions.map(caption => (\n                            <th key={caption}>{caption}</th>\n                        ))}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {rows.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((cell, i) => (\n                                <td key={i}>{cell}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","export const isImageType = type => /^image/.test(type);\n\nexport const base64ToJSON = (base64: string) => {\n    let parsedJSON;\n\n    try {\n        parsedJSON = JSON.parse(atob(base64));\n    } catch (e) {\n        console.log(e);\n    }\n\n    return parsedJSON;\n};\n","import React, {memo, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Plot from 'react-plotly.js';\nimport {isEqual, get, isString} from 'lodash-es';\nimport {unicodeBase64Decode} from '../../../utils';\nimport Table from './Table';\nimport CodeViewer from '../../../CodeViewer';\nimport {isImageType, base64ToJSON} from '../utils';\nimport * as CSV from 'csv-string';\nimport css from './styles.module.css';\nimport config from '../../../config';\n\nconst base64ImagePrefixes = {\n    'image/svg+xml': 'data:image/svg+xml;charset=utf-8;',\n    'image/png': 'data:image/png;charset=utf-8;',\n    'image/jpeg': 'data:image/jpeg;charset=utf-8;',\n};\n\n\nconst View = ({frameId, attachment, fullAttachment, isList, className, requestStatus, stack}) => {\n    const {t} = useTranslation();\n    const viewRef = useRef();\n    const [tableScale, setTableScale] = useState(1);\n    const [viewWidth, setVieWidth] = useState(0);\n    const [noRender, setNoRender] = useState(false);\n\n    const onResizeCard = () => {\n        if (viewRef.current) {\n            const containerWidth = viewRef.current.parentElement.offsetWidth;\n            const viewWidth = viewRef.current.offsetWidth / tableScale;\n\n            let newScale = containerWidth / viewWidth;\n\n            if (newScale > 1)\n                newScale = 1;\n\n            setTableScale(newScale);\n            setVieWidth(containerWidth);\n        }\n    };\n\n    useEffect(() => {\n        if (window && isList)\n            window.addEventListener('resize', onResizeCard);\n\n        return () => {\n            if (window && isList)\n                window.removeEventListener('resize', onResizeCard);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (noRender) {\n            setNoRender(false);\n        }\n    }, [noRender]);\n\n    useEffect(() => {\n        if (attachment && attachment['application'] === 'plotly' && !noRender) {\n            setNoRender(true);\n        }\n        if (attachment && attachment['application'] === 'bokeh') {\n            let Bokeh;\n            const json = base64ToJSON(attachment.data);\n            const version = get(attachment, 'settings.bokeh_version');\n\n            if (version && parseInt(version.split('.')[0], 10) === 2) {\n                Bokeh = window.Bokeh['2.2.1'];\n            } else {\n                Bokeh = window.Bokeh;\n            }\n\n            if (json && document.querySelector(`#bokeh-${frameId}`))\n                Bokeh.embed.embed_item(json, `bokeh-${frameId}`);\n        }\n\n        if (isList)\n            setTimeout(() => onResizeCard(), 10);\n\n    }, [attachment]);\n\n    const renderImage = () => {\n        if (!attachment.preview)\n            return (\n                <img\n                    src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                    alt=\"\"\n                />\n            );\n        else if (fullAttachment) {\n            if (fullAttachment['download_url']) {\n                return (\n                    <img src={fullAttachment['download_url']} alt=\"\"/>\n                );\n            } else\n                return (\n                    <img\n                        src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                        alt=\"\"\n                    />\n                );\n        }\n\n        return null;\n    };\n\n    const renderCSV = () => {\n        const decodeCSV = unicodeBase64Decode(attachment.data);\n\n        if (decodeCSV) {\n            const data = CSV.parse(decodeCSV);\n\n            if (Array.isArray(data) && data.length)\n                return (\n                    <Table\n                        data={data}\n                    />\n                );\n        }\n\n        return (\n            <div className={css.text}>{t('notSupportedAttachment')}</div>\n        );\n    };\n\n    const renderPlotly = () => {\n        const json = base64ToJSON(attachment.data);\n\n        if (!json)\n            return null;\n\n        json.layout.width = viewWidth;\n        json.layout.margin = 0;\n        json.layout.autosize = true;\n\n        if (json.config)\n            json.config.responsive = true;\n        else\n            json.config = {responsive: true};\n\n        return (\n            <Plot\n                {...json}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                }}\n                useResizeHandler\n            />\n        );\n    };\n\n    const renderMl = () => {\n        const pullPythonCode = data => {\n            let a = [`\\'/${stack}\\'`];\n\n            let params = Object.keys(data.params);\n\n            if (params.length > 0) {\n                let p = [];\n\n                params.forEach(key => {\n                    if (isString(data.params[key]))\n                        p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n                    else\n                        p.push(`\\'${key}\\': ${data.params[key]}`);\n                });\n                a.push('params={' + p.join(', ') + '}');\n            }\n\n            return `import dstack as ds\n\nmodel = ds.pull(${a.join(', ')})`;\n        };\n\n        return <div>\n            <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n            <CodeViewer\n                className={css.code}\n                language=\"python\"\n            >\n                {pullPythonCode(attachment)}\n            </CodeViewer>\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>;\n    };\n\n    const renderBokeh = () => <div id={`bokeh-${frameId}`} />;\n\n    const renderAttachment = () => {\n        if (noRender)\n            return null;\n\n        if (requestStatus === 404 && isList)\n            return <div className={css.message}>{t('notFound')}</div>;\n\n        if (requestStatus === 404 && !isList)\n            return <div className={css.text}>{t('noPreview')}</div>;\n\n        if (attachment.preview && isList && isImageType(attachment['content_type']))\n            return <div className={css.message}>{t('noPreview')}</div>;\n\n        switch (true) {\n            case (attachment['content_type'] === 'image/svg+xml'):\n            case (attachment['content_type'] === 'image/png'):\n            case (attachment['content_type'] === 'image/jpeg'):\n                return renderImage();\n\n            case (attachment['content_type'] === 'text/csv'):\n                return renderCSV();\n\n            case (attachment['application'] === 'plotly'):\n                return renderPlotly();\n\n            case (attachment['application'] === 'bokeh'):\n                return renderBokeh();\n\n            case (attachment['application'] === 'sklearn'):\n            case (/^tensorflow\\/*/.test(attachment['application'])):\n            case (/^torch\\/*/.test(attachment['application'])):\n                return renderMl();\n\n            case undefined:\n            case isEqual(attachment, {}):\n                return null;\n\n            default:\n                return <div className={isList ? css.message : css.text}>{t('notSupportedAttachment')}</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={viewRef}\n            className={cx(css.view, className, {\n                'table': (attachment && attachment.data && attachment['content_type'] === 'text/csv'),\n                'bokeh': (attachment && attachment.data && attachment['application'] === 'bokeh'),\n            })}\n\n            style={\n                (attachment && attachment['content_type'] === 'text/csv')\n                    ? {transform: `scale(${tableScale})`}\n                    : {}\n            }\n        >\n            {renderAttachment()}\n        </div>\n    );\n};\n\n\nconst areEqual = (prevProps, nextProps) => {\n    return isEqual(prevProps.attachment, nextProps.attachment);\n};\n\nexport default memo(View, areEqual);\n","// @flow\nimport {useCallback, useEffect, useRef} from 'react';\n\nexport default (\n    callBack: Function,\n\n    {\n        rootMargin = '0px',\n        threshold = 0.01,\n        root = null,\n    }: {[key: string]: any},\n\n    deps: Array<any>\n) => {\n    const ref = useRef(null);\n\n    const intersectionCallback = useCallback(([target]) => {\n        if (target.isIntersecting) {\n            callBack();\n        }\n    }, deps);\n\n    useEffect(() => {\n        const options = {\n            root,\n            rootMargin,\n            threshold,\n        };\n\n        const observer = new IntersectionObserver(intersectionCallback, options);\n\n        if (ref && ref.current)\n            observer.observe(ref.current);\n\n        return () => {\n            if (ref.current)\n                observer.unobserve(ref.current);\n        };\n    }, [ref, intersectionCallback]);\n\n    return [ref];\n};","export default {\n    FETCH: 'stacks/attachments/FETCH',\n    FETCH_SUCCESS: 'stacks/attachments/FETCH_SUCCESS',\n    FETCH_FAIL: 'stacks/attachments/FETCH_FAIL',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nconst initialState = {\n    data: {},\n    errors: {},\n    requestStatus: null,\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...(\n                                state.data[action.meta.frameId]\n                                    ? state.data[action.meta.frameId][action.meta.id]\n                                    : {}\n                            ),\n\n                            loading: true,\n                            requestStatus: null,\n                            error: null,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_SUCCESS):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...action.payload,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_FAIL):\n            return {\n                ...state,\n\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            error: action.payload.error,\n                            requestStatus: action.payload.requestStatus,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport actionsTypes from './actionsTypes';\nimport config from '../../config';\nimport {useStateValue} from './store';\n\nexport default () => {\n    const [{apiUrl}, dispatch] = useStateValue();\n\n    const fetchAttachment = async (stack, frameId, id, onSuccess) => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        dispatch({\n            type: actionsTypes.FETCH,\n            meta: {frameId, id},\n        });\n\n        try {\n            const request = await axios({\n                baseURL: apiUrl,\n                url: config.STACK_ATTACHMENT(stack, frameId, id),\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n            });\n\n            dispatch({\n                type: actionsTypes.FETCH_SUCCESS,\n                meta: {frameId, id},\n                payload: request.data.attachment,\n            });\n\n            if (onSuccess)\n                onSuccess();\n        } catch (e) {\n            let error = 'Unknown error';\n\n            try {\n                error = JSON.parse(_get(e, 'request.response')).message;\n            } catch (e) {\n                console.log(error);\n            }\n\n            dispatch({\n                type: actionsTypes.FETCH_FAIL,\n                meta: {frameId, id},\n                payload: {error},\n            });\n        }\n    };\n\n    return {fetchAttachment};\n};\n","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport View from './View';\nimport config from '../../config';\nimport useIntersectionObserver from '../../hooks/useIntersectionObserver';\nimport usePrevious from '../../hooks/usePrevious';\nimport actions from './actions';\nimport {isImageType} from './utils';\nimport {useStateValue} from './store';\nimport css from './styles.module.css';\n\ntype Props = {\n    id: number,\n    frameId: string,\n    stack: string,\n    className?: string,\n    withLoader?: boolean,\n}\n\nconst Attachment = ({\n    id,\n    className,\n    frameId,\n    isList,\n    withLoader,\n    stack,\n    customData,\n}: Props) => {\n    const {fetchAttachment} = actions();\n    const [{data, apiUrl}] = useStateValue();\n    const attachment = get(data, `${frameId}.${id}`, {});\n    const {loading, error, requestStatus} = attachment;\n    const [loadingFullAttachment, setLoadingFullAttachment] = useState(false);\n    const [fullAttachment, setFullAttachment] = useState(null);\n    const prevAttachment = usePrevious(attachment);\n\n    const fetchFullAttachment = async () => {\n        setLoadingFullAttachment(true);\n\n        try {\n            const url = config.STACK_ATTACHMENT(stack, frameId, id) + '?download=true';\n            const {data} = await axios({\n                baseUrl: apiUrl,\n                url,\n            });\n\n            setFullAttachment(data.attachment);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setLoadingFullAttachment(false);\n    };\n\n    useEffect(() => {\n        if (!customData\n            && !isList\n            && attachment\n            && !isEqual(prevAttachment, attachment)\n            && attachment.preview\n            && isImageType(attachment['content_type'])\n        ) {\n            fetchFullAttachment();\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (!customData\n            && !isList\n            && (typeof id === 'number' && frameId)\n            && ((!attachment.data && !error) || (attachment?.index !== id))\n        ) {\n            fetchAttachment(stack, frameId, id);\n        }\n    }, [id, frameId]);\n\n    const [ref] = useIntersectionObserver(() => {\n        if (!customData\n            && isList\n            && !loading\n            && (\n                (!attachment.data && !error)\n                || (attachment.data && attachment.index !== id)\n            )\n        )\n            fetchAttachment(stack, frameId, id);\n    }, {}, [id, frameId, data]);\n\n    return (\n        <div\n            ref={ref}\n            className={cx(css.attachment, className, {\n                'is-list': isList,\n                loading: loading && withLoader || loadingFullAttachment,\n            })}\n        >\n            {!loading && (\n                <View\n                    requestStatus={requestStatus}\n                    className={css.view}\n                    isList={isList}\n                    fullAttachment={fullAttachment}\n                    attachment={customData ? customData : attachment}\n                    stack={stack}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Attachment;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport Avatar from '../Avatar';\nimport css from './styles.module.css';\n\ntype Props = {\n    permissions?: Array<{\n        user?: string,\n        email?: string,\n    }>,\n\n    maxLength?: number,\n    className?: string,\n    owner?: string,\n    variant?: 'list' | 'details',\n}\n\nconst PermissionUsers = ({permissions, className, variant = 'details', maxLength, owner}: Props) => {\n    if (!permissions || !permissions.length)\n        return null;\n\n    return (\n        <div className={cx(css.list, className, variant)}>\n            {permissions.slice(0, maxLength).map((i, index) => (\n                <Avatar\n                    withBorder\n                    size={variant === 'list' ? 'list' : 'small'}\n                    key={index}\n                    className={cx(css.avatar, {owner: owner === i.user})}\n                    name={i.user || i.email}\n                />\n            ))}\n\n            {maxLength && maxLength < permissions.length  && (\n                <span className={css.count}>+{permissions.length - maxLength}</span>\n            )}\n        </div>\n    );\n};\n\nexport default PermissionUsers;\n","import React, {useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport cn from 'classnames';\nimport getStackCategory from '../../utils/getStackCategory';\nimport PermissionUsers from '../../PermissionUsers';\nimport {ReactComponent as ChartIcon} from './assets/chart.svg';\nimport {ReactComponent as MLIcon} from './assets/ml.svg';\nimport {ReactComponent as TableIcon} from './assets/table.svg';\nimport {ReactComponent as AppIcon} from './assets/app.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    userData: {user: string},\n\n    data: {\n        user: string,\n        name: string,\n        head: {id: string}\n    },\n\n    deleteAction?: Function,\n};\n\nconst Item = ({\n    className,\n    Component = 'div',\n    data,\n    deleteAction,\n    ...rest\n}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const onClickDelete = event => {\n        event.stopPropagation();\n        event.preventDefault();\n        deleteAction(data.name);\n    };\n\n    const renderIcon = () => {\n        const contentType = data.head?.preview?.content_type;\n        const application = data.head?.preview?.application;\n\n        const category = getStackCategory({\n            application,\n            contentType,\n        });\n\n        switch (category) {\n            case 'chart':\n                return <ChartIcon />;\n\n            case 'table':\n                return <TableIcon />;\n\n            case 'mlModel':\n                return <MLIcon />;\n\n            case 'app':\n                return <AppIcon />;\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <Component\n            className={cn(css.item, className)}\n            ref={ref}\n            {...rest}\n        >\n            <div className={css.icon}>\n                {renderIcon()}\n            </div>\n\n            <div className={css.top}>\n                <div className={css.name} title={data.name}>{data.name}</div>\n                <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n\n                {data.private && (\n                    <PermissionUsers\n                        variant=\"list\"\n                        owner={data.user}\n                        className={css.permissions}\n                        permissions={data.permissions}\n                        maxLength={3}\n                    />\n                )}\n            </div>\n\n            {data.head && (\n                <div className={css.date}>\n                    {t('updated')} {moment(data.head.timestamp).format('L')}\n                </div>\n            )}\n\n            {deleteAction && (\n                <span className={css.delete} onClick={onClickDelete}>\n                    <span className=\"mdi mdi-close\" />\n                </span>\n            )}\n        </Component>\n    );\n};\n\nexport default Item;\n","export default {\n    notFound: () => '/404',\n    auth: () => '/auth',\n    authLogin: () => '/auth/login',\n    verifyUser: () => '/auth/verify',\n    authSignUp: () => '/auth/signup',\n    authForgetPassword: () => '/auth/forget-password',\n    authResetPassword: () => '/auth/reset-password',\n    confirmEmailMessage: () => '/auth/confirm-message',\n\n    // stacks\n    stacks: () => '/',\n    userStacks: (user = ':user') => `/${user}`,\n    categoryStacks: (category = ':category(applications|models)') => `/${category}`,\n    categoryUserStacks: (user = ':user', category = ':category(applications|models)') => `/${user}/${category}`,\n    stackDetails: (user = ':user', id = ':stack') => `/${user}/${id}` + (id === ':stack' ? '+' : ''),\n\n    //reports\n    reports: (user = ':user') => `/${user}/d`,\n    reportsDetails: (user = ':user', id = ':id') => `/${user}/d/${id}`,\n\n    // jobs\n    jobs: (user = ':user') => `/${user}/j`,\n    jobsDetails: (user = ':user', id = ':id') => `/${user}/j/${id}`,\n\n    // settings\n    settings: () => '/settings',\n    accountSettings: () => '/settings/account',\n    usersSettings: () => '/settings/users',\n};\n","// @flow\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport cn from 'classnames';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport StackListItem from '../ListItem';\nimport getStackCategory from '../../utils/getStackCategory';\nimport routes from '../../routes';\nimport css from './styles.module.css';\n\ntype Stack = {\n    [key: string]: any,\n} | string;\n\ntype Props = {\n    deleteStack: Function,\n    data: Array<Stack>,\n    loading: boolean,\n    currentUser?: string,\n    category: string,\n};\n\nconst List = ({\n    data = [],\n    loading,\n    deleteStack,\n    currentUser,\n    user,\n    category,\n}: Props) => {\n    const {t} = useTranslation();\n\n    const categoryMap = {\n        applications: 'app',\n        models: 'mlModel',\n    };\n\n    const [deletingStack, setDeletingStack] = useState(null);\n    const [isShowWelcomeModal, setIsShowWelcomeModal] = useState(false);\n    const [search, setSearch] = useState('');\n    const isInitialMount = useRef(true);\n\n    const showWelcomeModal = () => setIsShowWelcomeModal(true);\n    const onChangeSearch = value => setSearch(value);\n\n    const hideWelcomeModal = () => {\n        localStorage.setItem('welcome-modal-is-showing', true);\n        setIsShowWelcomeModal(false);\n    };\n\n    useEffect(() => {\n        if (isInitialMount.current) {\n            isInitialMount.current = false;\n        } else {\n            if (!localStorage.getItem('welcome-modal-is-showing') && !loading && !data.length)\n                showWelcomeModal();\n        }\n    }, [data]);\n\n    const deleteItem = () => {\n        deleteStack(deletingStack);\n        hideDeleteConfirmation();\n    };\n\n    const showDeleteConfirmation = name => {\n        setDeletingStack(name);\n    };\n    const hideDeleteConfirmation = () => setDeletingStack(null);\n\n    const getItems = () => {\n        let filteredItems = [];\n\n        const items = data.filter(stack => {\n            const stackCategory = getStackCategory({\n                application: stack.head?.preview?.application,\n                contentType: stack.head?.preview?.content_type,\n            });\n\n            return stackCategory === categoryMap[category];\n        });\n\n        if (items && items.length) {\n            if (search.length)\n                filteredItems = items.filter(i => i.name.indexOf(search) >= 0);\n            else\n                filteredItems = items;\n        }\n\n        return filteredItems;\n    };\n\n    const items = getItems();\n\n    return (\n        <div className={css.list}>\n            <div className={css.header}>\n                <div className={css.title}>\n                    {{\n                        applications: t('application_plural'),\n                        models: t('mlModel_plural'),\n                    }[category]}\n                </div>\n\n                {Boolean(data.length) && (\n                    <div className={css.headerSide}>\n                        {Boolean(data.length) && (\n                            <SearchField\n                                className={css.search}\n                                showEverything\n                                isDark\n                                placeholder={t('findStack')}\n                                size=\"small\"\n                                value={search}\n                                onChange={onChangeSearch}\n                            />\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {loading && !Boolean(data.length) && (\n                <div className={cn(css.itemList)}>\n                    {new Array(12).fill({}).map((i, index) => (\n                        <div key={index} className={css.loadingItem} />\n                    ))}\n                </div>\n            )}\n\n            {!loading && !data.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: user})\n                    }\n                </div>\n            )}\n\n            {Boolean(data.length && items.length) && (\n                <div className={css.itemList}>\n                    {items.map((item, index) => <StackListItem\n                        className={css.item}\n                        Component={Link}\n                        key={index}\n                        data={item}\n                        to={routes.stackDetails(item.user, item.name)}\n                        deleteAction={currentUser === item.user && showDeleteConfirmation}\n                    />)}\n                </div>\n            )}\n\n            {Boolean(data.length && !items.length) && <div className={css.text}>\n                {{\n                    applications: t('noApplicationsMatchingTheSearchCriteria'),\n                    models: t('noMlModelsMatchingTheSearchCriteria'),\n                }[category]}\n            </div>}\n\n            <Modal\n                isShow={Boolean(deletingStack)}\n                onClose={hideDeleteConfirmation}\n                size=\"confirmation\"\n                title={t('deleteStack')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t('areYouSureYouWantToDelete', {name: deletingStack})}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={hideDeleteConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={deleteItem}\n                        className={css.button}\n                    >{t('deleteStack')}</Button>\n                </div>\n            </Modal>\n\n            {currentUser === user && (\n                <Modal\n                    isShow={isShowWelcomeModal}\n                    onClose={hideWelcomeModal}\n                    size=\"small\"\n                    title={`${t('welcomeToDStack')}`}\n                    className={css.modal}\n                >\n                    <div className={css.description}>{t('yourEmailWasSuccessfullyConfirmed')}</div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={hideWelcomeModal}\n                            className={css.button}\n                        >{t('getStarted')}</Button>\n                    </div>\n                </Modal>\n            )}\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport {isString} from 'lodash-es';\nimport config from '../../config';\nimport css from './styles.module.css';\n\nexport const pullPythonCode = data => {\n    let a = [`\\'/${data.stack}\\'`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        let p = [];\n\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n            else\n                p.push(`\\'${key}\\': ${data.params[key]}`);\n        });\n        a.push('params={' + p.join(', ') + '}');\n    }\n\n    return `import dstack as ds\n\ndf = ds.pull(${a.join(', ')})`;\n};\n\nexport const pullRCode = data => {\n    let a = [`\\\"/${data.stack}\\\"`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                a.push(`\\\"${key}\\\" = \\\"${data.params[key]}\\\"`);\n            else\n                a.push(`\\\"${key}\\\" = ${data.params[key]}`);\n        });\n    }\n\n    return `library(dstack)\n\ndf <- read.csv(pull(${a.join(', ')}))`;\n};\n\ntype Props = {\n    configurePythonCommand: string,\n    modalMode?: boolean,\n}\n\nconst HowTo = ({modalMode, data, configurePythonCommand}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css.howto}>\n            {!modalMode && (\n                <div className={css.title}>{t('howToFetchDataUsingTheAPI')}</div>\n            )}\n\n            <div>\n                <div className={css.description}>{t('installPipPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {pullPythonCode(data)}\n                </CodeViewer>\n            </div>\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default HowTo;\n","import {useEffect} from 'react';\n\nexport default (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = event => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n};\n","// @flow\nimport React, {useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport useOnClickOutside from '../../hooks/useOnClickOutside';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport css from './styles.module.css';\n\ntype Props = {\n    revision: string;\n    className?: string,\n    frame: string,\n    frames: Array<{}>,\n    headId: ?string,\n    onChange?: Function,\n    onMarkAsHead?: Function,\n};\n\nconst getFrameName = frame => moment(frame.timestamp).format('D MMM YYYY h:mm a');\n\nconst Frames = ({frame, frames, headId, onChange, onMarkAsHead, className}: Props) => {\n    const {t} = useTranslation();\n    const [isShowDropdown, setIsShowDropdown] = useState(false);\n    const toggleDropdown = () => setIsShowDropdown(!isShowDropdown);\n    const [frameForMarkingAsHead, setFrameForMarkingAsHead] = useState(null);\n    const dropdownRef = useRef(null);\n\n    useOnClickOutside(dropdownRef, () => isShowDropdown && toggleDropdown());\n\n    if (!frames.length)\n        return null;\n\n    const activeFrame = frames.find(f => f.id === frame);\n\n    const onClickItem = frameId => () => {\n        toggleDropdown();\n\n        if (frame !== frameId && onChange)\n            onChange(frameId);\n    };\n\n    const onClickMarkAsHead = frameId => event => {\n        event.stopPropagation();\n        setFrameForMarkingAsHead(frameId);\n        toggleDropdown();\n    };\n\n    const hideConfirmation = () => setFrameForMarkingAsHead(null);\n\n    const confirmMarkFrameAsHead = () => {\n        if (onMarkAsHead)\n            onMarkAsHead(frameForMarkingAsHead.id);\n\n        setFrameForMarkingAsHead(null);\n    };\n\n    if (!activeFrame) {\n        return null;\n    }\n\n    return (\n        <div className={cx(css.frames, className)} ref={dropdownRef}>\n            <div\n                className={cx(css['frames-dropdown'])}\n                ref={dropdownRef}\n            >\n                <div className={css.button} onClick={toggleDropdown}>\n                    <span className={css.name}>\n                        {getFrameName(activeFrame)}\n                    </span>\n\n                    {headId === activeFrame.id && <span className={css.label}>{t('head')}</span>}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </div>\n\n                <div className={cx(css.dropdown, {show: isShowDropdown})}>\n                    {frames.map(f => (\n                        <Tooltip\n                            key={f.id}\n                            placement=\"rightTop\"\n                            trigger={Boolean(f.description) ? ['hover'] : []}\n                            align={{offset: [-20, -20]}}\n                            onClick={onClickItem(f.id)}\n                            overlayContent={f.description}\n                        >\n                            <div\n                                className={css.item}\n                            >\n                                <span className={css.name}>\n                                    {getFrameName(f)}\n                                </span>\n\n                                {headId === f.id && <span className={css.label}>{t('head')}</span>}\n\n                                {headId !== f.id && <div\n                                    className={css.mark}\n                                    onClick={onClickMarkAsHead(f)}\n                                >{t('markAsHead')}</div>}\n                            </div>\n                        </Tooltip>\n                    ))}\n                </div>\n            </div>\n\n            {activeFrame && activeFrame.description && (\n                <Tooltip overlayContent={activeFrame.description}>\n                    <div className={cx(css.info)}>\n                        <span className=\"mdi mdi-information-variant\" />\n                    </div>\n                </Tooltip>\n            )}\n\n            <Modal\n                isShow={Boolean(frameForMarkingAsHead)}\n                onClose={hideConfirmation}\n                size=\"confirmation\"\n                title={t('changeHeadRevision')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t(\n                        'areYouSureYouWantToChangeTheCurrentHeadRevisionToByName',\n                        {frame: frameForMarkingAsHead && getFrameName(frameForMarkingAsHead)},\n                    )}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={confirmMarkFrameAsHead}\n                        className={css.button}\n                    >{t('yesChangeHead')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={hideConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n\nexport default Frames;\n","// @flow\nimport {useCallback} from 'react';\nimport {debounce as _debounce} from 'lodash-es';\n\nexport default (callback: Function, depsOrDelay: Array<any> | number, deps: Array<any>) => {\n    let delay = 300;\n\n    if (typeof depsOrDelay === 'number')\n        delay = depsOrDelay;\n    else\n        deps = depsOrDelay;\n\n\n    return useCallback(_debounce(callback, delay), deps);\n};","export const isValidUserName = userName => {\n    const errors = {\n        notAllowedCharacters: 'notAllowedCharacters',\n        tooShort: 'tooShort',\n        tooLong: 'tooLong',\n    };\n\n    const testRegexp = /^[a-zA-Z0-9-_]+$/;\n\n    if (userName.length < 3)\n        return {\n            isValid: false,\n            error: errors.tooShort,\n        };\n\n    if (userName.length > 24)\n        return {\n            isValid: false,\n            error: errors.tooLong,\n        };\n\n    if (!testRegexp.test(userName) || /--/.test(userName))\n        return {\n            isValid: false,\n            error: errors.notAllowedCharacters,\n        };\n\n    return {isValid: true};\n};\n\nexport const isEmail = value => {\n    if (!value)\n        return true;\n\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\n};\n\nexport const isRequired = value => {\n    return !(value === null || value === undefined || value === '');\n};\n\nexport const noSpaces = value => {\n    return /^[\\S]*$/.test(value);\n};\n\nexport const isValidStackName = value => {\n    return /^[^\\/]/.test(value) && /^[a-zA-Z0-9\\/_]+$/.test(value);\n};\n\nexport const isValidEmail = mail => {\n    const errors = {invalidEmailAddress: 'invalidEmailAddress'};\n\n    if (mail && !isEmail(mail))\n        return {\n            isValid: false,\n            error: errors.invalidEmailAddress,\n        };\n\n    return {isValid: true};\n};\n\nexport const isValidPassword = password => {\n    const errors = {mustNotBeEmpty: 'mustNotBeEmpty'};\n\n    if (password.length === 0)\n        return {\n            isValid: false,\n            error: errors.mustNotBeEmpty,\n        };\n\n    return {isValid: true};\n};\n","// @flow\nimport apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\nimport {isValidEmail} from '../validations';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const checkUser = (userName: string) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const request = await api.get(apiUrl + config.CHECK_USER(userName));\n\n                resolve(request.data);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    type AddPermissionsParams = {\n        userName: string,\n        instancePath: string,\n    }\n\n    const addPermissions = ({userName, instancePath}: AddPermissionsParams) => {\n        const params = {path: instancePath};\n\n        if (isValidEmail(userName).isValid)\n            params.email = userName;\n        else\n            params.user = userName;\n\n        return new Promise(async (resolve, reject) => {\n            try {\n                await api.post(apiUrl + config.PERMISSIONS_ADD, params);\n                resolve(params);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    type RemovePermissionsParams = {\n        user: {email: string} | {user?: string},\n        instancePath: string,\n    }\n\n    const removePermissions = ({user, instancePath}: RemovePermissionsParams) => {\n        const params = {\n            path: instancePath,\n            ...user,\n        };\n\n        return new Promise(async (resolve, reject) => {\n            try {\n                await api.post(apiUrl + config.PERMISSIONS_DELETE, params);\n\n                resolve();\n            } catch (e) {\n                reject();\n            }\n        });\n    };\n\n    return {checkUser, addPermissions, removePermissions};\n};\n","// @flow\nimport React, {useState, useEffect, Fragment, useMemo} from 'react';\nimport {isEqual, get} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport useDebounce from '../hooks/useDebounce';\nimport Copy from '../Copy';\nimport Modal from '../Modal';\nimport Avatar from '../Avatar';\nimport Dropdown from '../Dropdown';\nimport TextField from '../TextField';\nimport Button from '../Button';\nimport {isValidEmail} from '../validations';\nimport {useAppStore} from '../AppStore';\nimport useActions from './actions';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    urlParams?: {[key: string]: any},\n    update: Function,\n    onChangeAccessLevel: Function,\n    onUpdatePermissions: Function,\n    permissions: Array<{}>,\n    instancePath: string,\n    loading: boolean,\n    accessLevel: 'private' | 'public' | 'internal',\n    defaultPermissions?: Array<{}>,\n    stackName?: string,\n};\n\nconst Share = ({\n    className,\n    instancePath,\n    accessLevel: initialAccessLevel,\n    defaultPermissions = [],\n    onChangeAccessLevel,\n    urlParams = {},\n    onUpdatePermissions,\n    stackName,\n}: Props) => {\n    const [{configInfo}] = useAppStore();\n    const [userExists, setUserExists] = useState(null);\n    const [isEmail, setIsEmail] = useState(false);\n    const [accessLevel, setAccessLevel] = useState(initialAccessLevel);\n    const [permissions, setPermissions] = useState(defaultPermissions);\n    const [loading, setLoading] = useState(false);\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [userName, setUserName] = useState('');\n    const {checkUser, addPermissions, removePermissions} = useActions();\n    const {t} = useTranslation();\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    const dropdownOptionsMap = {\n        public: t('public'),\n        internal: t('forDstackaiUsersOnly'),\n        private: t('forSelectedUsers'),\n    };\n\n    useEffect(() => {\n        setPermissions(defaultPermissions);\n        setAccessLevel(initialAccessLevel);\n    }, [instancePath]);\n\n    const checkUserName = useDebounce(userName => {\n        setUserExists(null);\n\n        if (userName.length) {\n            checkUser(userName)\n                .then(data => setUserExists(data.exists))\n                .catch(() => setUserExists(null));\n        }\n    }, []);\n\n    const onChangeDropdown = value => {\n        setAccessLevel(value);\n        onChangeAccessLevel(value);\n    };\n\n    const onChangeUserName = event => {\n        setUserName(event.target.value);\n\n        if (isValidEmail(event.target.value).isValid && get(configInfo, 'data.email_enabled')) {\n            setUserExists(null);\n            setIsEmail(true);\n        } else {\n            checkUserName(event.target.value);\n\n            if (isEmail)\n                setIsEmail(false);\n        }\n    };\n\n    const submitInvite = () => {\n        if (userName.length) {\n            const userHasPermission = permissions.some(i => i.user === userName);\n\n            if (!userHasPermission)\n                addUser(userName);\n            else {\n                setUserName('');\n                setUserExists(null);\n                setIsEmail(false);\n            }\n        }\n    };\n\n    const onKeyPressUserName = event => {\n        if (event.which === 13 || event.keyCode === 13 || event.key === 'Enter') {\n            submitInvite();\n        }\n    };\n\n    const addUser = (userName: string) => {\n        setLoading(true);\n\n        addPermissions({\n            userName,\n            instancePath,\n        })\n            .then(data => {\n                setUserName('');\n                setPermissions(permissions => {\n                    const newPermissions = permissions.concat([data]);\n\n                    onUpdatePermissions(newPermissions);\n                    return newPermissions;\n                });\n            })\n            .finally(() => setLoading(false));\n    };\n\n    const removeUser = (user: {\n        user?: string,\n        email?: string,\n    }) => () => {\n        removePermissions({\n            instancePath,\n            user,\n        })\n            .then(() => {\n                setPermissions(permissions => {\n                    const newPermissions = permissions.filter(i => !isEqual(i, user));\n\n                    onUpdatePermissions(newPermissions);\n                    return newPermissions;\n                });\n            });\n    };\n\n    const renderUser = (user, index) => {\n        return (\n            <div className={cx(css.user, {disabled: !user.user})} key={index}>\n                <Avatar\n                    className={css.userPic}\n                    name={user.user || user.email}\n                />\n\n                <div className={css.userName}>{user.user || user.email}</div>\n\n                <span\n                    onClick={removeUser(user)}\n                    className={cx(css.userDelete, 'mdi mdi-close')}\n                />\n\n                {user.user && (\n                    <span className={cx(css.userMessage, css.userMessageSuccess)}>{t('done')}</span>\n                )}\n\n                {user.email && (\n                    <span className={css.userMessage}>{t('waitingForAcceptance')}</span>\n                )}\n            </div>\n        );\n    };\n\n    const searchString = useMemo(() => {\n        const searchString = Object\n            .keys(urlParams)\n            .reduce((result, key) => {\n                if (urlParams[key])\n                    result.push(`${key}=${urlParams[key]}`);\n\n                return result;\n            }, [])\n            .join('&');\n\n        if (searchString)\n            return `?${searchString}`;\n    }, [urlParams]);\n\n    const {origin} = window.location;\n\n    return (\n        <Fragment>\n            <Button\n                className={cx(css.desktopButton, className)}\n                color=\"primary\"\n                size=\"small\"\n                variant=\"contained\"\n                onClick={toggleModal}\n            >\n                {t('share')}\n            </Button>\n\n            <Button\n                className={cx(css.mobileButton, className)}\n                color=\"primary\"\n                size=\"small\"\n                onClick={toggleModal}\n            >\n                <span className=\"mdi mdi-share-variant\" />\n            </Button>\n\n            {instancePath && <Modal\n                isShow={isShowModal}\n                onClose={toggleModal}\n                size=\"small\"\n                title={t('shareStack')}\n                className={css.modal}\n                dialogClassName={css.dialog}\n                withCloseButton\n            >\n                <div className={css.description}>\n                    {accessLevel === 'private'\n                        && t('theStackNameIsPrivateButYouCanMakeShareItWithSelectedUsers', {name: stackName})\n                    }\n\n                    {accessLevel === 'public' && t('theStackNameIsPublic', {name: stackName})}\n                    {accessLevel === 'internal' && t('theStackNameIsInternal', {name: stackName})}\n                </div>\n\n                <div className={css.copyAndDropdown}>\n                    <div className={css.link}>{`${origin}/${instancePath}${searchString}`}</div>\n\n                    <Copy\n                        className={css.copy}\n                        buttonTitle={null}\n                        copyText={`${origin}/${instancePath}${searchString}`}\n                        successMessage={t('linkIsCopied')}\n                    />\n\n                    <div className={css.separator} />\n\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={\n                            Object\n                                .keys(dropdownOptionsMap)\n                                .map(key => ({\n                                    title: dropdownOptionsMap[key],\n                                    value: key,\n                                    onClick: () => onChangeDropdown(key),\n                                }))\n                        }\n                    >\n                        <Button\n                            className={css.dropdownButton}\n                            color=\"primary\"\n                            size=\"small\"\n                        >\n                            {dropdownOptionsMap[accessLevel]}\n                            <span className=\"mdi mdi-chevron-down\" />\n                        </Button>\n                    </Dropdown>\n                </div>\n\n                <div className={css.content}>\n                    {accessLevel === 'private' && (\n                        <div className={css.invite}>\n                            <div className={css.checkUserName}>\n                                <TextField\n                                    size=\"small\"\n                                    disabled={loading}\n                                    placeholder={get(configInfo, 'data.email_enabled')\n                                        ? t('enterUsernameEmailAndPressEnter')\n                                        : t('enterUsernameAndPressEnter')\n                                    }\n                                    className={css.inviteField}\n                                    value={userName}\n                                    onChange={onChangeUserName}\n                                    onKeyPress={onKeyPressUserName}\n                                />\n\n                                {Boolean(userName.length) && !loading && <div\n                                    className={cx(css.checkUserMessage, {\n                                        success: userExists,\n                                        fail: userExists === false,\n                                        secondary: isEmail,\n                                    })}\n                                >\n                                    {userExists && !isEmail && t('userExists')}\n                                    {!userExists && !isEmail && t('userNotFound')}\n                                    {isEmail && t('enterToInvite')}\n                                </div>}\n                            </div>\n\n                            <Button\n                                className={css.inviteButton}\n                                size=\"small\"\n                                color=\"primary\"\n                                variant=\"contained\"\n                                disabled={loading || (!isEmail && !userExists)}\n                                onClick={submitInvite}\n                            >{t('sendInvite')}</Button>\n                        </div>\n                    )}\n\n                    {accessLevel === 'private' && <div className={css.users}>\n                        {permissions.map(renderUser)}\n                    </div>}\n                </div>\n            </Modal>}\n        </Fragment>\n    );\n};\n\nexport default Share;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.label} />\n            <div className={css.description} />\n            <div className={css.diagram} />\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    items: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, items, onChange, disabled}: Props) => {\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {items.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {\n                        active: value === i.value,\n                        disabled: disabled || i.disabled,\n                    })}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","import React, {useEffect, useState, useRef} from 'react';\nimport {useTranslation, Trans} from 'react-i18next';\nimport {get} from 'lodash-es';\nimport ReactMarkdown from 'react-markdown';\nimport cn from 'classnames';\nimport Button from '../../../../Button';\nimport TextAreaField from '../../../../TextAreaField';\nimport {useAppStore} from '../../../../AppStore';\nimport getStackCategory from '../../../../utils/getStackCategory';\nimport css from './styles.module.css';\n\nconst EmptyMessage = ({onAdd}) => {\n    return (\n        <Trans i18nKey=\"readmeEmptyMessage\">\n            Sure your ML model is easy to understand without README? IF no, please, <a\n                href=\"#\"\n                onClick={onAdd}\n            >add some helpful information</a> about how to use the model.\n        </Trans>\n    );\n};\n\nconst Readme = ({className, data, onUpdate}) => {\n    const [{currentUser}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const category = getStackCategory({\n        application: get(data, 'head.attachments[0].application'),\n        contentType: get(data, 'head.attachments[0].content_type'),\n    });\n\n    const {t} = useTranslation();\n    const textareaRef = useRef(null);\n    const [value, setValue] = useState(data.readme);\n    const [isEdit, setIsEdit] = useState(false);\n\n    useEffect(() => {\n        if (isEdit && textareaRef?.current) {\n            textareaRef.current.focus();\n\n            if (textareaRef.current.setSelectionRange)\n                textareaRef.current.setSelectionRange(\n                    textareaRef.current.value.length,\n                    textareaRef.current.value.length\n                );\n\n            textareaRef.current.scrollTop = textareaRef.current.scrollHeight;\n        }\n    }, [isEdit]);\n\n    const edit = () => setIsEdit(true);\n\n    const cancel = () => {\n        setIsEdit(false);\n        setValue(data.readme);\n    };\n\n    const save = () => {\n        onUpdate(value);\n        setIsEdit(false);\n    };\n\n    const onAddReadme = event => {\n        event.preventDefault();\n        edit();\n    };\n\n    const onChange = event => {\n        setValue(event.target.value);\n    };\n\n    if ((!data?.readme && data.user !== currentUserName) || category !== 'mlModel')\n        return null;\n\n    return (\n        <div>\n            <div className={cn(css.readme, className)}>\n                <div className={css.container}>\n                    <div className={css.header}>\n                        <div className={css.title}>\n                            {t('readme')}\n                        </div>\n\n                        {data.user === currentUserName && !isEdit && (\n                            <Button\n                                color={'secondary'}\n                                className={css.edit}\n                                onClick={edit}\n                            >\n                                <span className={'mdi mdi-pencil'} />\n                            </Button>\n                        )}\n                    </div>\n\n                    <div className={css.content}>\n                        {!isEdit && !data.readme && <div className={css.emptyMessage}>\n                            <EmptyMessage\n                                onAdd={onAddReadme}\n                            />\n                        </div>}\n\n                        {isEdit && (\n                            <TextAreaField\n                                ref={textareaRef}\n                                onChange={onChange}\n                                className={css.field}\n                                value={value}\n                            />\n                        )}\n\n                        {!isEdit && data.readme && (\n                            <div\n                                className={css.preview}\n                            >\n                                <ReactMarkdown>\n                                    {data.readme}\n                                </ReactMarkdown>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {isEdit && <div className={css.help}>{' **Strong** # Title `code` - List'}</div>}\n\n                {isEdit && (\n                    <div className={css.buttons}>\n                        <Button\n                            size=\"small\"\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            onClick={cancel}\n                            className={css.button}\n                        >{t('cancel')}</Button>\n\n                        <Button\n                            size=\"small\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            onClick={save}\n                            className={css.button}\n                        >{t('save')}</Button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Readme;\n","// @flow\nimport {useState} from 'react';\nimport {isRequired, isEmail, noSpaces, isValidStackName} from '../validations';\n\nconst validationMap = {\n    required: isRequired,\n    email: isEmail,\n    'no-spaces-stack': noSpaces,\n    'stack-name': isValidStackName,\n};\n\nconst getValidationFunction = (validator: Function | string): Function => {\n    if (typeof validator === 'string' && validationMap[validator])\n        return validationMap[validator];\n\n    if (typeof validator === 'function')\n        return validator;\n\n    return () => true;\n};\n\nexport default (\n    initialFormState: {[key: string]: any},\n    fieldsValidators: {[key: string]: Array<Function> | Function} = {}\n): {} => {\n    const [form, setForm] = useState(initialFormState);\n    const [formErrors, setFormErrors] = useState({});\n\n    const onChange = (eventOrName, value) => {\n        let name;\n\n        let fieldValue;\n\n        if (eventOrName.target) {\n            const event = eventOrName;\n\n            fieldValue = event.target.type === 'checkbox'\n                ? event.target.checked\n                : event.target.value;\n\n            name = event.target.name;\n        } else {\n            name = eventOrName;\n            fieldValue = value;\n        }\n\n        setForm({\n            ...form,\n            [name]: fieldValue,\n        });\n\n        setFormErrors({\n            ...formErrors,\n            [name]: [],\n        });\n    };\n\n    const resetForm = () => {\n        setForm(initialFormState);\n        setFormErrors({});\n    };\n\n    const getFieldErrors = fieldName => {\n        const errors = [];\n\n        if (Array.isArray(fieldsValidators[fieldName]))\n            fieldsValidators[fieldName].forEach(validator => {\n                const isValid = getValidationFunction(validator);\n\n                if (!isValid(form[fieldName]))\n                    errors.push(validator);\n            });\n\n        if (typeof fieldsValidators[fieldName] === 'string') {\n            const isValid = getValidationFunction(fieldsValidators[fieldName]);\n\n            if (!isValid(form[fieldName]))\n                errors.push(fieldsValidators[fieldName]);\n        }\n\n        return errors;\n    };\n\n    const checkValidForm = () => {\n        let isValid = true;\n        const newFormErrors = {};\n\n        Object.keys(fieldsValidators)\n            .forEach(fieldName => {\n                const errors = getFieldErrors(fieldName);\n\n                newFormErrors[fieldName] = errors;\n                isValid = isValid && !errors.length;\n            });\n\n        setFormErrors(newFormErrors);\n        return isValid;\n    };\n\n    return {\n        form,\n        setForm,\n        formErrors,\n        setFormErrors,\n        resetForm,\n        onChange,\n        checkValidForm,\n    };\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport usePrevious from '../../hooks/usePrevious';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {debounce as _debounce} from 'lodash-es';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport Share from '../../Share';\nimport PermissionUsers from '../../PermissionUsers';\nimport StackFilters from '../../StackFilters';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from './components/Loader';\nimport Tabs from './components/Tabs';\nimport Readme from './components/Readme';\nimport useForm from '../../hooks/useForm';\nimport {parseStackParams, parseStackTabs} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    downloadAttachment: Function,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    onChangeHeadFrame: Function,\n    onUpdateReadme: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeFrame: Function,\n    changeAccessLevel: Function,\n    updatePermissions: Function,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    downloadAttachment,\n    onChangeFrame,\n    onUpdateReadme,\n    data,\n    frame,\n    loading,\n    currentUser,\n    backUrl,\n    user,\n    stack,\n    changeAccessLevel,\n    updatePermissions,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [activeTab, setActiveTab] = useState();\n    const [fields, setFields] = useState({});\n    const [tabs, setTabs] = useState([]);\n    const prevFrame = usePrevious(frame);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseTabs();\n    }, [frame]);\n\n    const findAttach = useCallback((form, tabName, attachmentIndex) => {\n        const attachments = get(frame, 'attachments');\n        const fields = Object.keys(form);\n        const tab = tabs.find(t => t.value === tabName);\n\n        if (!attachments)\n            return;\n\n        if (fields.length || tabs.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                if (tab\n                    && attach.params[tab.value]?.type !== 'tab'\n                    && attach.params[tab.key]?.title !== tab.value\n                )\n                    return false;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], form[key]))\n                        valid = false;\n                });\n\n                if (valid && !(attachmentIndex === undefined && index === 0))\n                    onChangeAttachmentIndex(index);\n\n                return valid;\n            });\n        }\n    }, [tabs]);\n\n    const findAttachDebounce = useCallback(_debounce(findAttach, 300), [data, frame, findAttach]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            findAttachDebounce(form, activeTab, attachmentIndex);\n    }, [form]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            parseParams();\n    }, [activeTab]);\n\n    useEffect(() => {\n        if (!didMountRef.current)\n            didMountRef.current = true;\n    }, []);\n\n    const getCurrentAttachment = selectedTab => {\n        const attachments = get(frame, 'attachments');\n\n        let attachment;\n\n        if (selectedTab) {\n            attachment = attachments.find(attach => {\n                return (attach.params[selectedTab.value]?.type === 'tab'\n                    || attach.params[selectedTab.key]?.title === selectedTab.value\n                );\n            });\n\n        } else if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex]) {\n                attachment = attachments[attachmentIndex];\n            }\n        } else {\n            attachment = attachments[0];\n        }\n\n        return attachment;\n    };\n\n    const parseTabs = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const attachment = getCurrentAttachment();\n\n        setTabs(tabs);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            setActiveTab((params[tab]?.title || tab || null));\n        }\n    };\n\n    const parseParams = () => {\n        const attachments = get(frame, 'attachments');\n        const tab = tabs.find(t => t.value === activeTab);\n        const attachment = getCurrentAttachment(tab);\n        const fields = parseStackParams(attachments, tab);\n\n        setFields(fields);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            delete params[tab];\n            setForm(params);\n        }\n    };\n\n    const onChangeTab = tabName => {\n        findAttachDebounce(form, tabName, attachmentIndex);\n        setActiveTab(tabName);\n    };\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={cx(css.details)}>\n            <div className={css.header}>\n                <BackButton\n                    className={css.backButton}\n                    Component={Link}\n                    to={backUrl}\n                />\n\n                <div className={css.title}>\n                    {data.name}\n                    <span className={`mdi mdi-lock${data['access_level'] === 'private' ? '' : '-open'}`} />\n                </div>\n\n                {data['access_level'] === 'private' && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {data && data.user === currentUser && (\n                        <Share\n                            stackName={stack}\n                            instancePath={`${user}/${stack}`}\n                            onChangeAccessLevel={changeAccessLevel}\n                            className={css.share}\n                            accessLevel={data['access_level']}\n                            defaultPermissions={data.permissions}\n\n                            urlParams={{\n                                a: attachmentIndex ? attachmentIndex : null,\n                                f: frame?.id !== data?.head?.id ? frame?.id : null,\n                            }}\n\n                            onUpdatePermissions={\n                                permissions => updatePermissions(`${user}/${stack}`, permissions)\n                            }\n                        />\n                    )}\n                </div>\n            </div>\n\n            {/*<StackFrames*/}\n            {/*    frames={get(data, 'frames', [])}*/}\n            {/*    frame={currentFrameId}*/}\n            {/*    headId={headId}*/}\n            {/*    onMarkAsHead={onChangeHeadFrame}*/}\n            {/*    onChange={onChangeFrame}*/}\n            {/*    className={css.revisions}*/}\n            {/*/>*/}\n\n            {Boolean(tabs.length) && <Tabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                items={tabs}\n            />}\n\n            <div className={cx(css.container, {[css.withFilters]: Object.keys(fields).length})}>\n                <StackFilters\n                    fields={fields}\n                    form={form}\n                    onChange={onChange}\n                    className={cx(css.filters)}\n                />\n\n                {frame && (\n                    <StackAttachment\n                        className={css.attachment}\n                        withLoader\n                        stack={`${user}/${stack}`}\n                        frameId={frame.id}\n                        id={attachmentIndex || 0}\n                    />\n                )}\n            </div>\n\n            {data && (\n                <Readme\n                    className={css.readme}\n                    data={data}\n                    onUpdate={onUpdateReadme}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\n\nimport React from 'react';\nimport cn from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({className}: Props) => {\n    return (\n        <div className={cn(css.loader, className)}>\n            <div className={css.side} />\n            <div className={css.content} />\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, {useState, useRef, useEffect} from 'react';\nimport cn from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport usePrevious from '../../../../hooks/usePrevious';\nimport css from './styles.module.css';\n\nconst Progress = ({isActive = true, className, message}) => {\n    const {t} = useTranslation();\n    const [progress, setProgress] = useState(0);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const prevIsActive = usePrevious(isActive);\n    const requestFrame = useRef(null);\n    const isActiveRef = useRef(false);\n\n    useEffect(() => {\n        isActiveRef.current = isActive;\n\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            setProgress(0);\n        }\n\n        if (!isActive && requestFrame.current) {\n            cancelAnimationFrame(requestFrame.current);\n        }\n    }, [isActive]);\n\n    const calculateProgress = () => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100 || !isActiveRef.current)\n            cancelAnimationFrame(requestFrame.current);\n\n        if (isActiveRef.current)\n            requestFrame.current = requestAnimationFrame(calculateProgress);\n    };\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    return (\n        <div className={cn(css.progress, className)}>\n            <div className={css.percent}>\n                {Math.floor(progress)} %\n            </div>\n\n            <div className={css.bar}>\n                <div style={{width: `${progress}%`}} />\n            </div>\n\n            <div className={css.label}>{message}</div>\n        </div>\n    );\n};\n\nexport default Progress;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\ntype executeParams = {\n    user: string,\n    stack: string,\n    frame: string,\n    attachment: number,\n    apply?: boolean,\n    views: Array<{}>,\n}\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const executeStack = (params: executeParams) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const request = await api.post(apiUrl + config.APPS_EXECUTE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    const pollStack = ({id}: {id: string}) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const request = await api.get(apiUrl + config.APPS_POLL + `?id=${id}`);\n\n                resolve(request.data);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    return {executeStack, pollStack};\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport {useDebounce} from 'react-use';\nimport usePrevious from '../../hooks/usePrevious';\nimport moment from 'moment';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport Yield from '../../Yield';\nimport Button from '../../Button';\nimport BackButton from '../../BackButton';\nimport Share from '../../Share';\nimport PermissionUsers from '../../PermissionUsers';\nimport StackFilters from '../../StackFilters';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from '../Details/components/Loader';\nimport FilterLoader from './components/Loader';\nimport Tabs from '../Details/components/Tabs';\nimport Readme from '../Details/components/Readme';\nimport Progress from './components/Progress';\nimport useForm from '../../hooks/useForm';\nimport {parseStackTabs, parseStackViews} from '../../utils';\nimport actions from '../actions';\nimport css from './styles.module.css';\n\nconst REFRESH_INTERVAL = 1000;\n\nconst STATUSES = Object.freeze({\n    READY: 'READY',\n    SCHEDULED: 'SCHEDULED',\n    RUNNING: 'RUNNING',\n    FINISHED: 'FINISHED',\n    FAILED: 'FAILED',\n});\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    executionId: string,\n    onChangeHeadFrame: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeExecutionId: Function,\n    onUpdateReadme: Function,\n    onChangeFrame: Function,\n    changeAccessLevel: Function,\n    updatePermissions: Function,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    executionId,\n    onChangeExecutionId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    onChangeFrame,\n    onUpdateReadme,\n    data,\n    frame,\n    loading,\n    currentUser,\n    backUrl,\n    user,\n    stack,\n    changeAccessLevel,\n    updatePermissions,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const [logsExpand, setExpandLogs] = useState(false);\n    const [executeData, setExecuteData] = useState(null);\n    const [executing, setExecuting] = useState(false);\n    const [calculating, setCalculating] = useState(false);\n    const [error, setError] = useState(null);\n    const [appAttachment, setAppAttachment] = useState(null);\n    const [isScheduled, setIsScheduled] = useState(false);\n    const [activeTab, setActiveTab] = useState();\n    const [tabs, setTabs] = useState([]);\n    const prevFrame = usePrevious(frame);\n    const {executeStack, pollStack} = actions();\n\n    const getFormFromViews = views => {\n        if (!views || !Array.isArray(views))\n            return {};\n\n        return views.reduce((result, view, index) => {\n            switch (view.type) {\n                case 'ApplyView':\n                    return result;\n                case 'SliderView':\n                    result[index] = view.data[view.selected];\n                    break;\n                case 'ComboBoxView':\n                    result[index] = view.selected;\n                    break;\n                case 'CheckBoxView':\n                    result[index] = view.selected;\n                    break;\n                default:\n                    result[index] = view.data;\n            }\n\n            return result;\n        }, {});\n    };\n\n    const setActiveExecutionId = (value?: string) => {\n        if (typeof onChangeExecutionId === 'function')\n            onChangeExecutionId(value);\n\n        if (tabs.length && activeTab)  {\n            const tabIndex = tabs.findIndex(t => t.value === activeTab);\n\n            if (tabIndex >= 0) {\n                tabs[tabIndex].executionId = value;\n                setTabs(tabs);\n            }\n        }\n    };\n\n    const updateExecuteData = data => {\n        const fields = parseStackViews(data?.views);\n        const form = getFormFromViews(data?.views);\n\n        setFields(fields);\n        setForm(form);\n\n        setExecuteData({\n            lastUpdate: Date.now(),\n            ...data,\n        });\n    };\n\n    const hasApplyButton = () => {\n        if (!executeData?.views || !Array.isArray(executeData.views))\n            return false;\n\n        return executeData.views.some(view => view.type === 'ApplyView');\n    };\n\n    const submit = (form, apply = true) => {\n        setExecuting(true);\n\n        if (apply)\n            setCalculating(true);\n        else {\n            setAppAttachment(null);\n            setActiveExecutionId(undefined);\n        }\n\n        executeStack({\n            user: data.user,\n            stack: data.name,\n            frame: frame?.id,\n            attachment: attachmentIndex || 0,\n            apply,\n            views: executeData.views && executeData.views.map((view, index) => {\n                switch (view.type) {\n                    case 'ApplyView':\n                        return view;\n                    case 'CheckBoxView':\n                        view.selected = form[index];\n                        break;\n                    case 'ComboBoxView':\n                        view.selected = form[index];\n                        break;\n                    case 'SliderView':\n                        view.selected = view.data.findIndex(i => i === form[index]);\n                        break;\n                    default:\n                        view.data = form[index];\n                }\n\n                return view;\n            }),\n        })\n            .then(data => {\n                setExecuting(false);\n                setError(null);\n                updateExecuteData(data);\n\n                if (apply) {\n                    checkFinished({id: data.id, isUpdateData: apply});\n                    setActiveExecutionId(data.id);\n                }\n            })\n            .catch(() => {\n                setExecuting(false);\n                setCalculating(false);\n                setError({status: null});\n            });\n    };\n\n    useDebounce(() => {\n        if (!isEqual(form, getFormFromViews(executeData?.views)) && !executing) {\n            submit(form, !!(!hasApplyButton() && appAttachment));\n        }\n    }, 300, [form]);\n\n    const onApply = () => submit(form);\n\n    useEffect(() => {\n        if (executeData && executeData.status === STATUSES.READY && !appAttachment && !executing) {\n            if (!hasApplyButton())\n                submit(form, true);\n        }\n    }, [executeData]);\n\n    useEffect(() => {\n        if (data?.user && data?.name && frame && !loading) {\n            if (!executionId || !isEqual(frame, prevFrame)) {\n                setExecuting(true);\n                setExecuteData(null);\n                setAppAttachment(null);\n\n                executeStack({\n                    user: data.user,\n                    stack: data.name,\n                    frame: frame?.id,\n                    attachment: attachmentIndex || 0,\n                })\n                    .then(data => {\n                        setExecuting(false);\n                        setError(null);\n                        updateExecuteData(data);\n                        if (data.status === STATUSES.SCHEDULED) {\n                            setIsScheduled(true);\n                            checkFinished({id: data.id, isUpdateData: true});\n                        }\n                    })\n                    .catch(error => {\n                        setExecuting(false);\n                        setError({status: null});\n                    });\n            } else {\n                setExecuting(true);\n                setCalculating(true);\n                setAppAttachment(null);\n                checkFinished({id: executionId, isUpdateData: true});\n            }\n        }\n\n    }, [data, frame, attachmentIndex]);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseTabs();\n    }, [frame]);\n\n    useEffect(() => {\n        if (!didMountRef.current)\n            didMountRef.current = true;\n\n        return () => {\n            didMountRef.current = false;\n        };\n    }, []);\n\n    const getCurrentAttachment = selectedTab => {\n        const attachments = get(frame, 'attachments');\n\n        let attachment;\n\n        if (selectedTab) {\n            attachment = attachments.find(attach => {\n                return (attach.params[selectedTab.value]?.type === 'tab'\n                    || attach.params[selectedTab.key]?.title === selectedTab.value\n                );\n            });\n\n        } else if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex]) {\n                attachment = attachments[attachmentIndex];\n            }\n        } else {\n            attachment = attachments[0];\n        }\n\n        return attachment;\n    };\n\n    const parseTabs = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const attachment = getCurrentAttachment();\n\n        setTabs(tabs);\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            setActiveTab((params[tab]?.title || tab || null));\n        }\n    };\n\n    const onChangeTab = tabName => {\n        setActiveTab(tabName);\n\n        const attachments = get(frame, 'attachments');\n        const tab = tabs.find(t => t.value === tabName);\n\n        if (!attachments)\n            return;\n\n        if (tabs.length) {\n            attachments.some((attach, index) => {\n                if (tab\n                    && attach.params[tab.value]?.type !== 'tab'\n                    && attach.params[tab.key]?.title !== tab.value\n                )\n                    return false;\n\n                if (onChangeExecutionId)\n                    onChangeExecutionId(tab.executionId);\n\n                setExecuteData(null);\n                onChangeAttachmentIndex(index);\n\n                return true;\n            });\n        }\n    };\n\n    const checkFinished = ({id, isUpdateData}) => {\n        pollStack({id: id})\n            .then(data => {\n                setIsScheduled(data.status === STATUSES.SCHEDULED);\n\n                if ([STATUSES.SCHEDULED, STATUSES.RUNNING].indexOf(data.status) >= 0)\n                    if (didMountRef.current)\n                        setTimeout(() => {\n                            checkFinished({id: data.id, isUpdateData});\n                        }, REFRESH_INTERVAL);\n\n                if (\n                    [\n                        STATUSES.FINISHED,\n                        STATUSES.FAILED,\n                        STATUSES.READY,\n                    ].indexOf(data.status) >= 0\n                ) {\n                    setCalculating(false);\n                }\n\n                if ([STATUSES.FINISHED, STATUSES.READY].indexOf(data.status) >= 0) {\n                    if (data.output)\n                        setAppAttachment(data.output);\n\n                    if (isUpdateData) {\n                        setExecuting(false);\n                        updateExecuteData(data);\n                    } else {\n                        setExecuteData({\n                            ...executeData,\n                            logs: data.logs,\n                            date: Date.now(),\n                        });\n                    }\n                }\n\n                if (data.status === STATUSES.FAILED) {\n                    if (isUpdateData) {\n                        setExecuting(false);\n                        updateExecuteData(data);\n                    } else {\n                        setExecuteData({\n                            ...executeData,\n                            logs: data.logs,\n                            date: Date.now(),\n                        });\n                    }\n\n                    setActiveExecutionId(null);\n                    setError({status: data.status});\n                }\n            });\n    };\n\n    if (loading)\n        return <Loader />;\n\n    const withSidebar = Object.keys(fields).some((key, index) => {\n        if (fields[key].type === 'textarea')\n            return true;\n\n        return index >= 3;\n    });\n\n    return (\n        <div className={cx(css.details)}>\n            <div className={css.header}>\n                <BackButton\n                    className={css.backButton}\n                    Component={Link}\n                    to={backUrl}\n                />\n\n                <div className={css.title}>\n                    {data.name}\n                    <span className={`mdi mdi-lock${data['access_level'] === 'private' ? '' : '-open'}`} />\n                </div>\n\n                {data['access_level'] === 'private' && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {data && data.user === currentUser && (\n                        <Share\n                            instancePath={`${user}/${stack}`}\n                            stackName={stack}\n                            onChangeAccessLevel={changeAccessLevel}\n                            className={css.share}\n                            accessLevel={data['access_level']}\n                            defaultPermissions={data.permissions}\n\n                            urlParams={{\n                                a: attachmentIndex ? attachmentIndex : null,\n                                f: frame?.id !== data?.head?.id ? frame?.id : null,\n                                'execution_id': executionId,\n                            }}\n\n                            onUpdatePermissions={\n                                permissions => updatePermissions(`${user}/${stack}`, permissions)\n                            }\n                        />\n                    )}\n                </div>\n            </div>\n\n            {/*<StackFrames*/}\n            {/*    frames={get(data, 'frames', [])}*/}\n            {/*    frame={currentFrameId}*/}\n            {/*    headId={headId}*/}\n            {/*    onMarkAsHead={onChangeHeadFrame}*/}\n            {/*    onChange={onChangeFrame}*/}\n            {/*    className={css.revisions}*/}\n            {/*/>*/}\n\n            {Boolean(tabs.length) && <Tabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                disabled={executing || calculating}\n                items={tabs}\n            />}\n\n            {(!executeData && executing) && <div className={css.container}>\n                <FilterLoader className={css.filterLoader} />\n            </div>}\n\n            {executeData && (\n                <div className={cx(css.container, {[css.withSidebar]: withSidebar})}>\n                    <StackFilters\n                        fields={fields}\n                        form={form}\n                        onChange={onChange}\n                        onApply={onApply}\n                        className={cx(css.filters)}\n                        isSidebar={withSidebar}\n                        disabled={executing || calculating}\n                    />\n\n                    {appAttachment && !calculating && (\n                        <StackAttachment\n                            className={css.attachment}\n                            stack={`${user}/${stack}`}\n                            customData={appAttachment}\n                        />\n                    )}\n\n                    {calculating && !isScheduled && (\n                        <Progress\n                            className={css.progress}\n                            message={t('calculatingTheData')}\n                        />\n                    )}\n\n                    {!appAttachment && !error && isScheduled && (\n                        <Progress\n                            className={css.progress}\n                            message={t('initializingTheApplication')}\n                        />\n                    )}\n\n                    {!calculating && !executing && !appAttachment && !error && !isScheduled && (\n                        <div className={css.emptyMessage}>\n                            {t('clickApplyToSeeTheResult')}\n                        </div>\n                    )}\n\n                    {!calculating && !executing && error && (\n                        <div className={css.error}>\n                            <div className={css.message}>\n                                <span className=\"mdi mdi-alert-circle-outline\" /> {t('appStackError')}\n                            </div>\n                        </div>\n                    )}\n\n                    {executeData.logs && (\n                        <div className={css.logs}>\n                            <Button\n                                className={css.logsButton}\n                                color=\"primary\"\n                                onClick={() => setExpandLogs(value => !value)}\n                                size=\"small\"\n                            >\n                                {t('logs')}\n                                <span className={`mdi mdi-arrow-${logsExpand ? 'collapse' : 'expand'}`} />\n                            </Button>\n\n                            <div className={cx(css.logsExpand, {open: logsExpand})}>\n                                <div className={css.fromAgo}>{t('updated')} {moment(executeData.date).fromNow()}</div>\n\n                                <div className={css.log}>\n                                    {executeData.logs}\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {data && (\n                <Readme\n                    className={css.readme}\n                    data={data}\n                    onUpdate={onUpdateReadme}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport TextField from '../../TextField';\nimport FileDragnDrop from '../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport useDebounce from '../../hooks/useDebounce';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    onClose?: Function,\n    isShow?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, isShow, onClose, refresh, withButton, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n\n    const {form, onChange, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n    useEffect(() => {\n        if (isShow !== undefined)\n            setIsShowModal(isShow);\n    }, [isShow]);\n\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    const closeHandle = () => {\n        if (onClose)\n            onClose();\n        else\n            setIsShowModal(false);\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n            closeHandle();\n\n            if (refresh)\n                refresh();\n        } catch (e) {\n            closeHandle();\n        }\n    };\n\n    return (\n        <Fragment>\n            {withButton && <Tooltip\n                overlayContent={t('uploadTooltip')}\n            >\n                <Button\n                    className={cx(css.upload, className)}\n                    size=\"small\"\n                    color=\"secondary\"\n                    onClick={toggleModal}\n                >\n                    {t('upload')}\n                </Button>\n            </Tooltip>}\n\n            <Modal\n                title={t('uploadFile')}\n                isShow={isShowModal}\n                size=\"small\"\n            >\n                <div className={css.content}>\n                    {!stack && (\n                        <Fragment>\n                            <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewStack')}</div>\n\n                            <TextField\n                                size=\"middle\"\n                                className={css.field}\n                                name=\"stack\"\n                                onChange={onChange}\n                                value={form.value}\n                                maxLength={30}\n                                placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                                errors={getErrorsText('stack')}\n                            />\n                        </Fragment>\n                    )}\n\n                    {stack && file && (\n                        <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                    )}\n\n                    <FileDragnDrop\n                        className={css.dragndrop}\n                        formats={['.csv', '.png', '.svg', '.jpg']}\n                        onChange={setFile}\n                        loading={uploading}\n                        progressPercent={progress}\n                    />\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={closeHandle}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            </Modal>\n        </Fragment>\n    );\n};\n\nexport default Upload;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../../Button';\nimport TextField from '../../../TextField';\nimport FileDragnDrop from '../../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../../utils';\nimport useForm from '../../../hooks/useForm';\nimport useDebounce from '../../../hooks/useDebounce';\nimport config from '../../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, refresh, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n    const fileFieldRef = useRef(null);\n\n    const {form, onChange, setForm, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n\n    const clearForm = () => {\n        setFile(null);\n        setForm({stack: ''});\n\n        if (fileFieldRef.current)\n            fileFieldRef.current.clear();\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n\n            if (refresh)\n                refresh();\n\n            clearForm();\n        } catch (e) {\n            console.log(e);\n            clearForm();\n        }\n    };\n\n    return (\n        <div className={cx(css.upload, className)}>\n            <div className={css.content}>\n                {!stack && (\n                    <Fragment>\n                        <div className={css.subtitle}>{t('stackName')}</div>\n\n                        <TextField\n                            size=\"middle\"\n                            className={css.field}\n                            name=\"stack\"\n                            onChange={onChange}\n                            value={form.value}\n                            maxLength={30}\n                            placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                            errors={getErrorsText('stack')}\n                        />\n                    </Fragment>\n                )}\n\n                {stack && file && (\n                    <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                )}\n\n                <FileDragnDrop\n                    ref={fileFieldRef}\n                    className={css.dragndrop}\n                    formats={['.csv', '.png', '.svg', '.jpg']}\n                    onChange={setFile}\n                    loading={uploading}\n                    progressPercent={progress}\n                />\n            </div>\n\n            {file && (\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={clearForm}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Upload;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport Tabs from '../../Tabs';\nimport Upload from './Upload';\nimport css from './styles.module.css';\nimport config from '../../config';\nimport {reportModelPythonCode, reportPlotPythonCode} from '../../config';\n\ntype Props = {\n    user?: string,\n    refresh?: Function,\n    apiUrl: string,\n    withFileUpload?: boolean,\n}\n\nconst UploadStack = ({\n    user,\n    refresh,\n    apiUrl,\n    configurePythonCommand,\n    withFileUpload,\n}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePublishTab, setActivePublishTab] = useState(1);\n\n    const tabs = [\n        {\n            label: t('python'),\n            value: 1,\n        },\n    ];\n\n    const publishTabs = [\n        {\n            label: t('model'),\n            value: 1,\n        },\n\n        {\n            label: t('chart'),\n            value: 2,\n        },\n    ];\n\n    if (withFileUpload)\n        tabs.push({\n            label: t('upload'),\n            value: 3,\n        });\n\n    return (\n        <div className={css.howto}>\n            {tabs.length > 1 && (\n                <Tabs\n                    className={css.tabs}\n                    value={activeCodeTab}\n                    onChange={setActiveCodeTab}\n                    tabs={tabs}\n                />\n            )}\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePublishTab}\n                    onChange={setActivePublishTab}\n                    tabs={publishTabs}\n                />\n\n                {activePublishTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportModelPythonCode}\n                </CodeViewer>}\n\n                {activePublishTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportPlotPythonCode}\n                </CodeViewer>}\n            </div>}\n\n            {activeCodeTab === 3 && <Upload\n                user={user}\n                refresh={refresh}\n                apiUrl={apiUrl}\n            />}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default UploadStack;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const fetchJob = ({user, id}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.get(apiUrl + config.JOB_DETAILS(user, id));\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const runJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_RUN, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const stopJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_STOP, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const createJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_CREATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const updateJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_UPDATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const removeJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_DELETE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {\n        fetchJob,\n        runJob,\n        stopJob,\n        createJob,\n        updateJob,\n        removeJob,\n    };\n};\n","import React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text} />\n\n            <div className={css.table}>\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","const JOB_DEFAULT_ESTIMATED_DURATION = 600000;\n\nexport const calculateJobProgress = (job: {\n    'estimated_duration'?: ?number,\n    started: number,\n}) => {\n    const estimatedDuration = job['estimated_duration'] || JOB_DEFAULT_ESTIMATED_DURATION;\n    const currentDuration = Date.now() - job.started;\n    const leftDuration = estimatedDuration - currentDuration;\n    const progress = Math.min(currentDuration / estimatedDuration * 100, 100).toFixed();\n\n    return [progress, leftDuration];\n};\n","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {getFormattedDuration} from '../../../../utils';\nimport {calculateJobProgress} from '../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onlyDuration?: boolean,\n}\n\nconst Progress = ({data, className, onlyDuration}: Props) => {\n    const {t} = useTranslation();\n    const progressTimer = useRef(null);\n    const [, set] = useState(null);\n\n    useEffect(() => {\n        if (data.status === 'RUNNING') {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                set(Date.now());\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [data]);\n\n    if (!data.started)\n        return null;\n\n    const [progress, leftDuration]  = calculateJobProgress(data);\n\n    return (\n        <div className={cx(css.section, className)}>\n            {!onlyDuration && <div className={css.progressBar}>\n                <div className={css.progress} style={{width: `${progress}%`}} />\n            </div>}\n\n\n            <div className={css.time}>\n                {getFormattedDuration(leftDuration)} {t('left')}\n            </div>\n        </div>\n    );\n};\n\nexport default Progress;\n","// @flow\nimport React, {useEffect, useState, memo} from 'react';\nimport useSWR from 'swr';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport {useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../../../Dropdown';\nimport {useAppStore} from '../../../../AppStore';\nimport {dataFetcher, getFormattedDuration} from '../../../../utils';\nimport useActions from '../../../actions';\nimport Progress from '../../../Details/components/Progress';\nimport config from '../../../../config';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: {[key: string]: any},\n    onClickRow?: Function,\n    onEdit?: Function,\n    onDelete?: Function,\n};\n\nconst REFRESH_TIMEOUT = 2000;\nconst dataFormat = data => data.job;\n\nconst TableRow = memo(({\n    data,\n    onClickRow,\n    onEdit,\n    onDelete,\n}: Props) => {\n    const {runJob, stopJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const {user} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n\n    const {data: jobData, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, data.id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {\n            refreshInterval,\n            initialData: data,\n            revalidateOnFocus: false,\n        }\n    );\n\n    const rowClick = () => {\n        if (onClickRow)\n            onClickRow(jobData);\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n        }\n    }, [jobData]);\n\n    const onRun = async () => {\n        const {job} = await runJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const onStop = async () => {\n        const {job} = await stopJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const getTitle = () => {\n        if (jobData.title && jobData.title.length)\n            return jobData.title;\n        else\n            return <span>New job</span>;\n    };\n\n    const renderStatus = () => {\n        switch (jobData.status) {\n            case ('SCHEDULED'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n                </div>;\n\n            case ('RUNNING'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n\n                    <Progress\n                        className={css.progress}\n                        data={jobData}\n                    />\n                </div>;\n\n            case ('TIMEOUT'):\n                return <div className={cx(css.status, 'fail')}> {t('failedDueToTimeout')}</div>;\n\n            case ('FAILED'):\n                return <div className={cx(css.status, 'fail')}> {t('failed')}</div>;\n\n            case ('FINISHED'):\n                return <div className={cx(css.status, 'success')}> {t('completed')}</div>;\n\n            case ('CREATED'):\n                return <div className={css.status}>{t('neverRun')}</div>;\n\n            default:\n                return <div className={css.status}>{t(jobData.status.toLowerCase())}</div>;\n        }\n    };\n\n    return (\n        <div className={cx(css.row, {red: ['TIMEOUT', 'FAILED'].indexOf(jobData.status) > -1})} onClick={rowClick}>\n            <div className={css.cell}>{getTitle()}</div>\n            <div className={css.cell}>{t(jobData.runtime)}</div>\n            <div className={css.cell}>{moment(jobData.started).format('MM-DD-YYYY [at] HH:mm')}</div>\n            <div className={css.cell}>{getFormattedDuration(jobData.finished - jobData.started)}</div>\n\n            <div className={css.cell}>\n                {renderStatus()}\n\n                {currentUserName === user && (\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={[\n                            ...(['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                                ? [{\n                                    title: t('stop'),\n                                    onClick: onStop,\n                                }]\n\n                                : [{\n                                    title: t('run'),\n                                    onClick: onRun,\n                                }]\n                            ),\n\n                            {\n                                title: t('edit'),\n                                onClick: onEdit,\n                            },\n\n                            {\n                                title: t('delete'),\n                                onClick: onDelete,\n                            },\n                        ]}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default TableRow;\n","// @flow\nimport React, {useState} from 'react';\nimport useSWR from 'swr';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher} from '../../utils';\nimport routes from '../../routes';\nimport config from '../../config';\nimport useActions from '../actions';\nimport Loader from './components/Loader';\nimport TableRow from './components/TableRow';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.jobs;\n\nconst List = () => {\n    const {createJob, removeJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const [search, setSearch] = useState('');\n    const {user} = useParams();\n    const {push} = useHistory();\n\n    const {data, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_LIST(user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    const onChangeSearch = value => setSearch(value);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    const onAdd = async () => {\n        const lastRuntime = localStorage.getItem('lastRuntime') || 'python';\n\n        const data = await createJob(\n            {\n                user,\n                runtime: lastRuntime,\n            }\n        );\n\n        push(routes.jobsDetails(user, data.job.id));\n    };\n\n    const getOnRemove = job => async () => {\n        await removeJob({\n            user,\n            id: job.id,\n        });\n\n\n        mutate(data.filter(j => j.id !== job.id));\n    };\n\n    if (!data)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    placeholder={t('findJob')}\n                    size=\"small\"\n                    value={search}\n                    className={css.search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUserName === user\n                    ? t('myJobs')\n                    : t('jobsOf', {name: user})\n                }\n\n                <Button\n                    className={css.button}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={onAdd}\n                >\n                    <span className=\"mdi mdi-plus\" /> {t('newJob')}\n                </Button>\n            </div>\n\n            <div className={css.text}>\n                {t('youHaveJobs', {count: data.length})}\n                {' '}\n                <a href={config.DOCS_URL + '/jobs'} target=\"_blank\">\n                    {t('documentation')}\n                    <span className=\"mdi mdi-open-in-new\" />\n                </a>.\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('findJob')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.tableWrap}>\n                <div className={css.table}>\n                    <div className={css.tableCaptions}>\n                        <div className={css.tableCell}>{t('job')}</div>\n                        <div className={css.tableCell}>{t('runtime')}</div>\n                        <div className={css.tableCell}>{t('lastRun')}</div>\n                        <div className={css.tableCell}>{t('timeSpent')}</div>\n                        <div className={css.tableCell}>{t('status')}</div>\n                    </div>\n\n                    {items.map(item => (\n                        <TableRow\n                            data={item}\n                            key={item.id}\n                            onClickRow={() => push(routes.jobsDetails(user, item.id))}\n                            onEdit={() => push(routes.jobsDetails(user, item.id))}\n                            onDelete={getOnRemove(item)}\n                        />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","import {useAppStore, actionsTypes} from '../AppStore';\n\nexport default () => {\n    const [, dispatch] = useAppStore();\n\n    const startAppProgress = () => {\n        dispatch({type: actionsTypes.START_PROGRESS});\n    };\n\n    const setAppProgress = (progress: ?number) => {\n        dispatch({\n            type: actionsTypes.SET_PROGRESS,\n            payload: progress,\n        });\n    };\n\n    const completeAppProgress = () => {\n        dispatch({type: actionsTypes.COMPLETE_PROGRESS});\n    };\n\n    const resetAppProgress = () => {\n        dispatch({type: actionsTypes.RESET_PROGRESS});\n    };\n\n    return {\n        startAppProgress,\n        setAppProgress,\n        completeAppProgress,\n        resetAppProgress,\n    };\n};\n","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport Button from '../../../../Button';\nimport Dropdown from '../../../../Dropdown';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onChange: Function,\n}\n\nlet timeout = null;\n\nconst ScheduleSettings = ({data, className, onChange, onChangeRuntime}: Props) => {\n    const {t} = useTranslation();\n    const messageRef = useRef();\n    const [scheduleType, setScheduleType] = useState(data ? data.schedule.split('/')[0] : '');\n    const [scheduleTime, setScheduleTime] = useState(data ? data.schedule.split('/')[1] : null);\n    const [nextRunDelay, setNextRunDelay] = useState(0);\n    const isDidMount = useRef(true);\n\n    const runtimeChange = runtime => () => {\n        onChangeRuntime(runtime);\n        localStorage.setItem('lastRuntime', runtime);\n    };\n\n    const scheduleTypeChange = type => () => {\n        setScheduleType(type);\n\n        if (!scheduleTime)\n            setScheduleTime('12:00');\n\n        if (type === 'daily')\n            type += `/${scheduleTime ? scheduleTime : '12:00'}`;\n\n        onChange(type);\n    };\n\n    const scheduleTimeChange = time => () => {\n        setScheduleTime(time);\n        onChange(`${scheduleType}/${time}`);\n\n        const runTime = moment(time, 'HH:mm');\n\n        if (new Date().getHours() > runTime.get('hours'))\n            runTime.add(1, 'day');\n\n        setNextRunDelay(runTime.toDate().getTime() - Date.now());\n    };\n\n    useEffect(() => {\n        if (nextRunDelay && !isDidMount.current && messageRef.current) {\n            messageRef.current.classList.add('show');\n\n            if (timeout)\n                clearTimeout(timeout);\n\n            timeout = setTimeout(() => {\n                messageRef.current.classList.remove('show');\n            }, 3000);\n        }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [nextRunDelay]);\n\n    return (\n        <div className={cx(css.schedule, className)}>\n            {t('runtime')}:\n\n            <Dropdown\n                className={cx(css.dropdown, css.runtime)}\n\n                items={[\n                    {\n                        title: t('python'),\n                        onClick: runtimeChange('python'),\n                    },\n\n                    {\n                        title: t('r'),\n                        onClick: runtimeChange('r'),\n                    },\n                ]}\n            >\n                <Button\n                    className={css.dropdownButton}\n                    color=\"primary\"\n                >\n                    {t(data.runtime)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {t('jobIs')} {scheduleType !== 'unscheduled' && t('scheduled')}\n\n            <Dropdown\n                className={css.dropdown}\n\n                items={[\n                    {\n                        title: t('unscheduled'),\n                        onClick: scheduleTypeChange('unscheduled'),\n                    },\n\n                    {\n                        title: t('daily'),\n                        onClick: scheduleTypeChange('daily'),\n                    },\n\n                    // {\n                    //     title: t('hourly'),\n                    //     onClick: scheduleTypeChange('hourly'),\n                    // },\n                ]}\n            >\n                <Button\n                    className={css.dropdownButton}\n                    color=\"primary\"\n                >\n                    {t(scheduleType)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {scheduleType === 'daily' && (\n                <Fragment>\n                    {t('at')}\n\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={new Array(24).fill(0).map((i, index) => {\n                            const time = `${index < 10 ? '0' + index : index}:00`;\n\n                            return {\n                                title: time,\n                                onClick: scheduleTimeChange(time),\n                            };\n                        })}\n                    >\n                        <Button\n                            className={css.dropdownButton}\n                            color=\"primary\"\n                        >\n                            {scheduleTime} UTC\n                            <span className=\"mdi mdi-chevron-down\" />\n                        </Button>\n                    </Dropdown>\n\n                    <div ref={messageRef} className={cx(css.message, 'green-text')}>\n                        The next run starts in {getFormattedDuration(nextRunDelay)}\n                    </div>\n                </Fragment>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleSettings;\n","// @flow\nimport React, {useEffect, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Editor from 'react-simple-code-editor';\nimport {highlight, languages} from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-r';\nimport 'prismjs/themes/prism.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    saved: boolean,\n    value: string,\n    className?: string,\n    onChange: Function,\n    language: 'python' | 'r',\n}\n\nconst CodeEditor = ({value = '', onChange, language, className, saved}: Props) => {\n    const {t} = useTranslation();\n    const successMessageRef = useRef();\n    const lines = (value.match(/\\n/g) || []).length + 2;\n    const lineNos = [...Array(lines).keys()].slice(1).join('\\n');\n    const isDidMount = useRef(true);\n\n    useEffect(() => {\n        if (successMessageRef.current && !isDidMount.current)\n            if (saved) {\n                successMessageRef.current.classList.add('show');\n\n                setTimeout(() => {\n                    if (successMessageRef.current)\n                        successMessageRef.current.classList.remove('show');\n                }, 4000);\n            } else {\n                successMessageRef.current.classList.remove('show');\n            }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [saved]);\n\n    return (\n        <div className={cx(css.editor, className)}>\n            <div className={css.success} ref={successMessageRef}>\n                {t('changesSaved')}\n            </div>\n\n            <div className={css.scroll}>\n                <div className={css.content}>\n                    <div className={css.lineNumbers} dangerouslySetInnerHTML={{__html: lineNos}} />\n\n                    <Editor\n                        value={value}\n                        onValueChange={onChange}\n                        highlight={code => highlight(code, languages[language])}\n                        padding={6}\n\n                        style={{\n                            width: '100%',\n                            fontFamily: '\"Roboto Mono\", monospace',\n                            fontSize: 12,\n                            lineHeight: '150%',\n                            outline: 'none',\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CodeEditor;","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n}\n\nconst Status = ({data}: Props) => {\n    const {t} = useTranslation();\n\n    if (!data.started)\n        return null;\n\n    return (\n        <div className={css.status}>\n            {t('lastRunning')}\n            {' '}\n            {moment(data.started).format(`MM-DD-YYYY [${t('at')}] HH:mm`)}\n\n            <span>\n                <span className=\"mdi mdi-clock-outline\" />\n\n                {['RUNNING', 'SCHEDULED'].indexOf(data.status) >= 0\n                    ? <span>{' '}{t('inProgress')}&#8230;</span>\n                    : getFormattedDuration(data.finished - data.started)\n                }\n            </span>\n\n            {data.status === 'FAILED' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failed')}\n                </span>\n            )}\n\n            {data.status === 'TIMEOUT' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failedDueToTimeout')}\n                </span>\n            )}\n        </div>\n    );\n};\n\nexport default Status;\n","// @flow\nimport React, {useState} from 'react';\nimport moment from 'moment';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../../Button';\nimport css from './styles.module.css';\n\nimport type {Job} from '../../../types';\n\ntype Props = {\n    data: Job,\n    className?: string,\n}\n\nconst Logs = ({data, className}: Props) => {\n    if (!data.logs)\n        return null;\n\n    const {t} = useTranslation();\n    const [isShown, setIsShown] = useState(true);\n    const [updated] = useState(data.finished || data.started);\n\n    const toggleShow = () => setIsShown(!isShown);\n\n    return (\n        <div className={cx(css.logs, className)}>\n            <Button\n                className={css.button}\n                onClick={toggleShow}\n                color=\"primary\"\n                size=\"small\"\n            >\n                {t('logs')}\n            </Button>\n\n            <div className={cx(css.text, {open: isShown})}>\n                <pre>{data.logs}</pre>\n\n                {updated && <div className={css.label}>\n                    {t('updated')} {moment(updated).fromNow()}\n                </div>}\n            </div>\n        </div>\n    );\n};\n\nexport default Logs;\n","// @flow\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text1} />\n            <div className={css.text2} />\n            <div className={css.code} />\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {Link, useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport useSWR from 'swr';\nimport AccessForbidden from '../../AccessForbidden';\nimport NotFound from '../../NotFound';\nimport StretchTitleField from '../../StretchTitleField';\nimport Dropdown from '../../Dropdown';\nimport Button from '../../Button';\nimport BackButton from '../../BackButton';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher, isSignedIn} from '../../utils';\nimport usePrevious from '../../hooks/usePrevious';\nimport useDebounce from '../../hooks/useDebounce';\nimport useAppProgress from '../../hooks/useAppProgress';\nimport ScheduleSettings from './components/ScheduleSettings';\nimport CodeEditor from './components/CodeEditor';\nimport Status from './components/Status';\nimport Logs from './components/Logs';\nimport Progress from './components/Progress';\nimport Loader from './components/Loader';\nimport routes from '../../routes';\nimport config from '../../config';\nimport useActions from '../actions';\nimport {calculateJobProgress} from '../utils';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst REFRESH_TIMEOUT = 3000;\n\nconst dataFormat = data => data.job;\n\nconst Details = ({}: Props) => {\n    const {\n        runJob,\n        stopJob,\n        updateJob,\n        removeJob,\n    } = useActions();\n\n    const {setAppProgress, resetAppProgress} = useAppProgress();\n    const {user, id} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const {data: jobData, error, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {refreshInterval}\n    );\n\n    const {push} = useHistory();\n    const {t} = useTranslation();\n    const [titleValue, setTitleValue] = useState('');\n    const [code, setCode] = useState('');\n    const [running, setRunning] = useState(false);\n    const [stopping, setStopping] = useState(false);\n    const [codeSaved, setCodeSaved] = useState(true);\n    const progressTimer = useRef(null);\n\n    const update = async params => {\n        const data = await updateJob(params);\n\n        mutate({\n            ...jobData,\n            ...data.job,\n        });\n    };\n\n    const updateDebounce = useDebounce(update, 1000, []);\n    const updateLongDebounce = useDebounce(update, 2000, []);\n\n\n    const prevData = usePrevious(jobData);\n\n    useEffect(() => {\n        window.addEventListener('keydown', detectEnterPress);\n        return () => window.removeEventListener('keydown', detectEnterPress);\n    }, [jobData, code]);\n\n    useEffect(() => {\n        if (jobData) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n    }, []);\n\n    const detectEnterPress = event => {\n        if (event.code === 'Enter' && (event.shiftKey || event.ctrlKey)) {\n            event.preventDefault();\n\n            if (!running && !stopping)\n                onClickRun();\n        }\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData?.status) >= 0) {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                const [progress] = calculateJobProgress(jobData);\n\n                setAppProgress(progress);\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [refreshInterval, jobData]);\n\n    useEffect(() => {\n        if (prevData?.id !== jobData?.id) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n            resetAppProgress();\n        }\n\n        return () => {\n            resetAppProgress();\n        };\n    }, [jobData]);\n\n    const onChangeTitle = value => {\n        setTitleValue(value);\n\n        updateDebounce({\n            user: user,\n            id: jobData?.id,\n            title: value,\n        });\n    };\n\n    const onChangeCode = value => {\n        setCode(value);\n        setCodeSaved(false);\n\n        updateLongDebounce(\n            {\n                user: user,\n                id: jobData?.id,\n                code: value,\n            },\n\n            () => setCodeSaved(true),\n        );\n    };\n\n    const onChangeRuntime = runtime => {\n        update({\n            user: user,\n            id: jobData?.id,\n            runtime: runtime,\n        });\n    };\n\n    const onChangeSchedule = schedule => {\n        update({\n            user: user,\n            id: jobData?.id,\n            schedule: schedule,\n        });\n    };\n\n    const onClickRun = async () => {\n        setRunning(true);\n\n        try {\n            const data = await runJob({\n                user: user,\n                id: jobData?.id,\n                code,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n\n            setRefreshInterval(REFRESH_TIMEOUT);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setRunning(false);\n    };\n\n    const onClickStop = async () => {\n        setStopping(true);\n\n        try {\n            const data = await stopJob({\n                user: user,\n                id: jobData?.id,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n        } catch (e) {\n            console.log(e);\n        }\n\n        setStopping(false);\n    };\n\n    const onClickDelete = async () => {\n        await removeJob({\n            user: user,\n            id: jobData?.id,\n        });\n\n        push(routes.jobs(user));\n    };\n\n    if (!jobData && !error)\n        return <Loader />;\n\n    if (error?.status === 403)\n        return <AccessForbidden>\n            {t('youDontHaveAnAccessToThisJob')}.\n\n            {isSignedIn() && (\n                <Fragment>\n                    <br />\n\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>\n                </Fragment>\n            )}\n        </AccessForbidden>;\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theJobYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!jobData)\n        return null;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={routes.jobs(user)}\n                >\n                    {(currentUserName === user)\n                        ? t('backToJobs')\n                        : t('backToJobsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={titleValue}\n                        onChange={onChangeTitle}\n                        readOnly={currentUserName !== user}\n                        placeholder={t('newJob')}\n                    />\n                </div>\n\n                <div className={css.side}>\n                    {jobData.status === 'RUNNING' && (\n                        <Progress onlyDuration className={css.progress} data={jobData} />\n                    )}\n\n                    {jobData.status === 'FAILED' && (\n                        <div className=\"red-text\">{t('sorryButYourCodeDoesntLookLikePythonJob')}</div>\n                    )}\n\n                    {['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                        ? <Button\n                            className={css.button}\n                            color=\"fail\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={stopping}\n                            onClick={onClickStop}\n                        >\n                            <span className=\"mdi mdi-pause\" />\n                            {t('stop')}\n                        </Button>\n\n                        : <Button\n                            className={css.button}\n                            color=\"success\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={running}\n                            onClick={onClickRun}\n                        >\n                            <span className=\"mdi mdi-play\" />\n                            {t('run')}\n                        </Button>\n                    }\n                </div>\n\n                {currentUserName === user && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: onClickDelete,\n                        },\n                    ]}\n                >\n                    <Button\n                        className={css.dropdownButton}\n                        color=\"secondary\"\n                    >\n                        <span className=\"mdi mdi-dots-horizontal\" />\n                    </Button>\n                </Dropdown>}\n            </div>\n\n            <Status data={jobData} />\n\n            <ScheduleSettings\n                className={css.schedule}\n                data={jobData}\n                onChange={onChangeSchedule}\n                onChangeRuntime={onChangeRuntime}\n            />\n\n            <CodeEditor\n                className={css.codeEditor}\n                value={code}\n                onChange={onChangeCode}\n                language={jobData.runtime}\n                saved={codeSaved}\n            />\n\n            <Logs\n                className={css.logs}\n                data={jobData}\n            />\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport routes from '../routes';\nimport List from './List';\nimport Details from './Details';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Jobs = ({}: Props) => {\n    return (\n        <div className={css.jobs}>\n            <Switch>\n                <Route path={routes.jobs()} exact component={List} />\n                <Route path={routes.jobsDetails()} component={Details} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default Jobs;\n","// @flow\nimport React, {useRef} from 'react';\nimport {get} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../Dropdown';\nimport StackAttachment from '../../stack/Attachment';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: {},\n    delete?: Function,\n    renderContent?: Function,\n}\n\nconst Item = ({data, deleteItem, user, renderContent}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const hasStacks = data.cards && Boolean(data.cards.length);\n    const card = data.cards.find(c => get(c, 'head.id'));\n    const isShowDropdown = Boolean(deleteItem);\n\n    return (\n        <Link\n            to={`/${user}/d/${data.id}`}\n            className={css.item}\n            ref={ref}\n        >\n            {Boolean(data.cards.length) && (\n                <div className={css.label}>\n                    {t('stacksWithCount', {count: data.cards.length})}\n                </div>\n            )}\n\n            <div className={css.previewWrap}>\n                {hasStacks\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        frameId={card.head.id}\n                        stack={card.stack}\n                        id={0}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n\n            <div className={css.section}>\n                <div className={css.content}>\n                    <div className={css.name}>\n                        {data.title}\n                        {' '}\n                        <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                    </div>\n\n                    {user !== data.user && (\n                        <div className={css.by}>{t('by')} {data.user}</div>\n                    )}\n\n                    {renderContent && renderContent(data)}\n                </div>\n\n                {isShowDropdown && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: deleteItem,\n                        },\n                    ]}\n                />}\n            </div>\n\n        </Link>\n    );\n};\n\nexport default Item;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const createReport = (userName: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CREATE, {user: userName});\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const updateReport = (userName: string, id: string, fields: {}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_UPDATE, {\n                    user: userName,\n                    id,\n                    ...fields,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const deleteReport = (userName: string, reportId: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_DELETE, {\n                    user: userName,\n                    id: reportId,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportInsertCard = (userName: string, id: string, cards: Array<{}>, index) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_INSERT + '?attachments=true', {\n                    user: userName,\n                    dashboard: id,\n                    cards,\n                    index,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportUpdateCard = (userName: string, id: string, stack: string, fields: {}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_UPDATE, {\n                    user: userName,\n                    dashboard: id,\n                    stack,\n                    ...fields,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const reportDeleteCard = (userName: string, id: string, stack: string) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.DASHBOARD_CARDS_DELETE, {\n                    user: userName,\n                    dashboard: id,\n                    stack,\n                });\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {createReport, deleteReport, updateReport, reportInsertCard, reportUpdateCard, reportDeleteCard};\n};\n","import React, {useState, useMemo, Fragment} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory, useParams, Link} from 'react-router-dom';\nimport cn from 'classnames';\nimport useSWR from 'swr';\nimport {useAppStore} from '../../AppStore';\nimport Yield from '../../Yield';\nimport SearchField from '../../SearchField';\nimport ListItem from '../ListItem';\nimport NotFound from '../../NotFound';\nimport routes from '../../routes';\nimport {dataFetcher, isSignedIn} from '../../utils';\nimport config from '../../config';\nimport Loader from './components/Loader';\nimport useActions from '../actions';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.dashboards;\n\nconst List = ({}) => {\n    const [search, setSearch] = useState('');\n    const [creating, setCreating] = useState(false);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {createReport, deleteReport} = useActions();\n    const {t} = useTranslation();\n    const {user} = useParams();\n    const {push} = useHistory();\n\n    const {data, error, mutate} = useSWR(\n        [\n            apiUrl + config.DASHBOARD_LIST(user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    const items = useMemo(() => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    }, [data, search]);\n\n    const onChangeSearch = value => setSearch(value);\n\n    const create = async () => {\n        setCreating(true);\n        const data = await createReport(user);\n\n        setCreating(false);\n        push(routes.reportsDetails(user, data.dashboard.id));\n    };\n\n    const getDeleteFunc = id => async () => {\n        await deleteReport(user, id);\n        mutate(data.filter(r => r.id !== id));\n    };\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theDashboardYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.reportsDetails(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!data)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    className={css.search}\n                    placeholder={t('findDashboard')}\n                    size=\"small\"\n                    value={search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUserName === user\n                    ? t('myReports')\n                    : t('reportsOf', {name: user})\n                }\n\n                {data && Boolean(data.length) && <span>{data.length}</span>}\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('search')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.grid}>\n                {currentUserName === user && (\n                    <div\n                        onClick={create}\n                        className={cn(css.add, {disabled: creating})}\n                    >\n                        <div className={css.caption}>\n                            <span className=\"mdi mdi-plus\" />\n                            {t('newReport')}\n                        </div>\n                    </div>\n                )}\n\n                {items.map((item, index) => (\n                    <ListItem\n                        key={index}\n                        user={user}\n                        data={item}\n                        deleteItem={currentUserName === item.user && getDeleteFunc(item.id)}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n            <div className={css.filters} />\n\n            <div className={css.grid}>\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, {Component, createContext} from 'react';\n\nfunction move(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n        newIndex = array.length - 1;\n    }\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n}\n\nfunction moveElement(array, index, offset) {\n    const newIndex = index + offset;\n\n    return move(array, index, newIndex);\n}\n\n// Context\n\nconst GridContext = createContext({items: []});\n\nexport class GridProvider extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [],\n            moveItem: this.moveItem,\n            setItems: this.setItems,\n        };\n    }\n\n    render() {\n        return (\n            <GridContext.Provider value={this.state}>\n                {this.props.children}\n            </GridContext.Provider>\n        );\n    }\n\n    setItems = items => this.setState({items});\n\n    moveItem = (sourceId, destinationId) => {\n        const sourceIndex = this.state.items.findIndex(\n            item => item.id === sourceId\n        );\n        const destinationIndex = this.state.items.findIndex(\n            item => item.id === destinationId\n        );\n\n        // If source/destination is unknown, do nothing.\n        if (sourceId === -1 || destinationId === -1) {\n            return;\n        }\n\n        const offset = destinationIndex - sourceIndex;\n\n        this.setState(state => ({items: moveElement(state.items, sourceIndex, offset)}));\n    };\n}\n\nexport default GridContext;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useEffect, useState, Fragment, useMemo} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useParams} from 'react-router-dom';\nimport useSWR from 'swr';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport CheckboxField from '../../CheckboxField';\nimport StackListItem from '../../stack/ListItem';\nimport Loader from './Loader';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher} from '../../utils';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    isShow?: boolean,\n    stacks?: Array<{}>,\n    loading?: boolean,\n    fetchList: Function,\n    onAddStacks?: Function,\n    onClose: Function,\n}\n\nconst dataFormat = data => data.stacks;\n\nconst AddStacksModal = ({\n    isShow,\n    onClose,\n    onAddStacks,\n}: Props) => {\n    const {t} = useTranslation();\n    const params = useParams();\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selected, setSelected] = useState([]);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const {data} = useSWR(\n        [\n            apiUrl + config.USER_STACK_LIST(params.user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    useEffect(() => {\n        if (!isShow) {\n            setSelected([]);\n            setSearchQuery('');\n        }\n    }, [isShow]);\n\n    const items = useMemo(() => {\n        let items = [];\n\n        if (data && data.length) {\n            if (searchQuery.length)\n                items = data.filter(i => i.name.indexOf(searchQuery) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    }, [data, searchQuery]);\n\n    const onChangeSearch = value => setSearchQuery(value);\n\n    const getFullStackName = stack => `${stack.user}/${stack.name}`;\n\n    const isChecked = stack => {\n        const stackName = getFullStackName(stack);\n\n        return selected.findIndex(i => i === stackName) >= 0;\n    };\n\n    const getOnClickStack = stack => () => {\n        const stackName = getFullStackName(stack);\n\n        if (isChecked(stack)) {\n            const filtered = selected.filter(i => i !== stackName);\n\n            setSelected(filtered);\n        } else {\n            setSelected([\n                ...selected,\n                stackName,\n            ]);\n        }\n    };\n\n    const submit = () => {\n        if (onAddStacks)\n            onAddStacks(selected);\n\n        onClose();\n    };\n\n    const isUserOwner = currentUserName === params.user;\n\n    return (\n        <Modal\n            dialogClassName={css.stacks}\n            isShow={isShow}\n            title={t('selectStacks')}\n            onClose={onClose}\n            withCloseButton\n        >\n            {data && Boolean(data.length) && (\n                <SearchField\n                    className={css.search}\n                    isDark\n                    size=\"middle\"\n                    showEverything\n                    placeholder={t('findStack')}\n                    value={searchQuery}\n                    onChange={onChangeSearch}\n                />\n            )}\n\n            {!data && <Loader />}\n\n            {data && Boolean(data.length) && (\n                <div className={css.message}>\n                    {isUserOwner\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: params.user})\n                    }\n                </div>\n            )}\n\n            {data && Boolean(data.length && !items.length) && (\n                <div className={css.text}>\n                    {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n                </div>\n            )}\n\n            {data && Boolean(data.length && items.length) && (\n                <Fragment>\n                    <div className={css.grid}>\n                        {items.map((item, index) => (\n                            <div className={css.item} key={index} onClick={getOnClickStack(item)}>\n                                <CheckboxField\n                                    className={css.checkbox}\n                                    value={isChecked(item)}\n                                    readOnly\n                                />\n\n                                <StackListItem\n                                    data={item}\n                                />\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            className={css.button}\n                            color=\"primary\"\n                            variant=\"contained\"\n                            disabled={!selected.length}\n                            onClick={submit}\n                        >\n                            {t('addSelectedStacks')}\n                        </Button>\n\n                        <Button\n                            className={css.button}\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={onClose}\n                        >\n                            {t('cancel')}\n                        </Button>\n                    </div>\n                </Fragment>\n\n            )}\n        </Modal>\n    );\n};\n\nexport default AddStacksModal;\n","// @flow\nimport React, {memo, Fragment, useEffect, useState, useRef} from 'react';\nimport moment from 'moment';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport {usePrevious} from 'react-use';\nimport {Link} from 'react-router-dom';\nimport cx from 'classnames';\nimport parseStackParams from '../../../../utils/parseStackParams';\nimport parseStackTabs from '../../../../utils/parseStackTabs';\nimport useDebounce from '../../../../hooks/useDebounce';\nimport Button from '../../../../Button';\nimport Tooltip from '../../../../Tooltip';\nimport ViewSwitcher from '../../../../ViewSwitcher';\nimport StretchTextareaField from '../../../../kit/StretchTextareaField';\nimport StackAttachment from '../../../../stack/Attachment';\nimport css from './styles.module.css';\n\nexport type DashboardCard = {\n    stack: string,\n    header?: {},\n    index: 0,\n}\n\ntype Props = {\n    data: DashboardCard,\n    className?: string,\n    attachment: {},\n    deleteCard: Function,\n    updateCard: Function,\n    filters: {},\n    moveAvailable?: boolean,\n}\n\nconst viewValueMap = {\n    grid: 1,\n    list: 2,\n};\n\nconst Card = memo(({\n    data,\n    className,\n    deleteCard,\n    updateCard,\n    filters,\n    activeTab,\n    forwardedRef,\n    moveAvailable,\n}: Props) => {\n    const [title, setTitle] = useState(data.title);\n    const [columns, setColumns] = useState(data.columns);\n    const descFieldRef = useRef();\n    const isMounted = useRef(false);\n    const isHoveredMoveBtn = useRef(false);\n    const [isShowDesc, setIsShowDesc] = useState(data.description?.length);\n    const prevIsShowDesc = usePrevious(isShowDesc);\n    const {t} = useTranslation();\n    const headId = get(data, 'head.id');\n    const stackOwner = data.stack.split('/')[0];\n    const [attachmentIndex, setAttachmentIndex] = useState(0);\n    const [cardParams, setCardParams] = useState([]);\n\n    useEffect(() => {\n        const params = parseStackParams(get(data, 'head.attachments', []));\n\n        if (params)\n            setCardParams(Object.keys(params));\n\n    }, [data]);\n\n    useEffect(() => {\n        findAttach();\n    }, [filters]);\n\n    useEffect(() => {\n        if (forwardedRef && forwardedRef.current)\n            forwardedRef.current.addEventListener('dragstart', event => {\n                if (!isHoveredMoveBtn.current) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n            });\n    }, [forwardedRef]);\n\n    useEffect(() => {\n        if (isMounted.current && prevIsShowDesc !== isShowDesc && descFieldRef.current)\n            descFieldRef.current.focus();\n    }, [isShowDesc]);\n\n    useEffect(() => {\n        isMounted.current = true;\n    }, []);\n\n    const findAttach = () => {\n        const attachments = get(data, 'head.attachments');\n        const tabs = parseStackTabs(attachments);\n        const fields = Object.keys(filters).filter(f => cardParams.indexOf(f) >= 0);\n        const tab = tabs.find(t => t.value === activeTab);\n\n        if (!attachments)\n            return;\n\n        if (fields.length || (tabs.length && activeTab)) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                if (!tab\n                    || (attach.params[tab.value]?.type !== 'tab'\n                        && attach.params[tab.key]?.title !== tab.value\n                    )\n                )\n                    return false;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], filters[key]))\n                        valid = false;\n                });\n\n                if (valid)\n                    setAttachmentIndex(index);\n\n                return valid;\n            });\n        } else\n            setAttachmentIndex(0);\n    };\n\n    const onUpdate = updateCard ? useDebounce(updateCard, [updateCard]) : () => {};\n\n    const onChangeTitle = event => {\n        setTitle(event.target.value);\n        onUpdate({title: event.target.value});\n    };\n\n    const onChangeView = view => {\n        const columns = viewValueMap[view];\n\n        setColumns(columns);\n        onUpdate({columns});\n    };\n\n    const onChangeDescription = description => {\n        setColumns(columns);\n        onUpdate({description});\n    };\n\n    const onEnterMove = () => {\n        isHoveredMoveBtn.current = true;\n    };\n\n    const onLeaveMove = () => {\n        isHoveredMoveBtn.current = false;\n    };\n\n    const onBlurDescription = () => {\n        if (!data.description?.length)\n            setIsShowDesc(false);\n    };\n\n    const addDesc = () => setIsShowDesc(true);\n\n    return (\n        <div\n            className={cx(css.card, `col-${columns}`, className)}\n            ref={forwardedRef}\n        >\n            <div className={css.inner}>\n                <div className={css.head}>\n                    <div className={cx(css.name, {readonly: !updateCard})}>\n                        <div className={css.nameValue}>{title?.length ? title : t('title')}</div>\n\n                        <input\n                            value={title}\n                            type=\"text\"\n                            placeholder={t('title')}\n                            onChange={onChangeTitle}\n                            className={cx(css.nameEdit, {active: !title?.length})}\n                        />\n                    </div>\n\n                    <Tooltip\n                        overlayContent={(\n                            <Fragment>\n                                <div>{t('updatedByName', {name: stackOwner})}</div>\n\n                                {data.head && <div className={css.infoTime}>\n                                    {moment(data.head.timestamp).format('D MMM YYYY')}\n                                </div>}\n                            </Fragment>\n                        )}\n                    >\n                        <div className={css.info}>\n                            <span className=\"mdi mdi-information-outline\" />\n                        </div>\n                    </Tooltip>\n\n                    <Button\n                        className={cx(css.button, css.link)}\n                        color=\"secondary\"\n                        Component={Link}\n                        to={`/${data.stack}`}\n                    >\n                        <span className=\"mdi mdi-open-in-new\" />\n                    </Button>\n\n                    <div className={css.cardControls}>\n                        {deleteCard && <Button\n                            className={cx(css.button)}\n                            color=\"secondary\"\n                            onClick={deleteCard}\n                        >\n                            <span className=\"mdi mdi-trash-can-outline\" />\n                        </Button>}\n\n                        {moveAvailable && (\n                            <Button\n                                className={cx(css.button, css.move)}\n                                color=\"secondary\"\n                                onMouseEnter={onEnterMove}\n                                onMouseLeave={onLeaveMove}\n                            >\n                                <span className=\"mdi mdi-cursor-move\" />\n                            </Button>\n                        )}\n\n                        <ViewSwitcher\n                            onChange={onChangeView}\n                            value={data.columns === 1 ? 'grid' : 'list'}\n                            className={css.viewSwitcher}\n                        />\n                    </div>\n                </div>\n\n                <div className={css.description}>\n                    {isShowDesc && <StretchTextareaField\n                        value={data.description}\n                        ref={descFieldRef}\n                        placeholder={t('description')}\n                        onChange={onChangeDescription}\n                        onBlur={onBlurDescription}\n                        readOnly={!updateCard}\n                    />}\n\n                    {!isShowDesc && updateCard && <Button\n                        className={cx(css.addDesc)}\n                        color=\"secondary\"\n                        onClick={addDesc}\n                    >\n                        + {t('addDescription')}\n                    </Button>}\n                </div>\n\n                {headId && attachmentIndex !== null\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        stack={data.stack}\n                        frameId={headId}\n                        id={attachmentIndex}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n        </div>\n    );\n});\n\nexport default Card;\n","import React, {memo, useRef} from 'react';\nimport {useDrag, useDrop} from 'react-dnd';\n\nconst DnDItem = memo(({id, onMoveItem, children}) => {\n    const ref = useRef(null);\n\n    const [, connectDrag] = useDrag({\n        item: {id, type: 'IMG'},\n        collect: monitor => {\n            return {isDragging: monitor.isDragging()};\n        },\n    });\n\n    const [, connectDrop] = useDrop({\n        accept: 'IMG',\n        drop: hoveredOverItem => {\n            if (hoveredOverItem.id !== id) {\n                onMoveItem(hoveredOverItem.id, id);\n            }\n        },\n    });\n\n    connectDrag(ref);\n    connectDrop(ref);\n\n    return React.Children.map(children, child =>\n        React.cloneElement(child, {forwardedRef: ref})\n    );\n});\n\nexport default DnDItem;\n","import React, {Fragment, useEffect, useContext, useState, useRef} from 'react';\nimport useSWR from 'swr';\nimport cn from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport {Link, useHistory, useParams} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport NotFound from '../../NotFound';\nimport AccessForbidden from '../../AccessForbidden';\nimport {useAppStore} from '../../AppStore';\nimport config from '../../config';\nimport routes from '../../routes';\nimport {dataFetcher, isSignedIn, parseStackParams, parseStackTabs} from '../../utils';\nimport {useDebounce, useForm} from '../../hooks';\nimport Loader from './components/Loader';\nimport Yield from '../../Yield';\nimport PermissionUsers from '../../PermissionUsers';\nimport BackButton from '../../BackButton';\nimport StretchTitleField from '../../StretchTitleField';\nimport Share from '../../Share';\nimport Dropdown from '../../Dropdown';\nimport Button from '../../Button';\nimport DnDGridContext from '../../dnd/DnDGridContext';\nimport usePrevious from '../../hooks/usePrevious';\nimport StackFilters from '../../StackFilters';\nimport useActions from '../actions';\nimport AddStacksModal from '../AddStacksModal';\nimport Card from './components/Card';\nimport StackTabs from '../../stack/Details/components/Tabs';\nimport DnDItem from '../../dnd/DnDItem';\nimport StretchTextareaField from '../../kit/StretchTextareaField';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.dashboard;\n\nconst Details = () => {\n    const {t} = useTranslation();\n    const {user, id} = useParams();\n    const {push} = useHistory();\n    const {items, moveItem, setItems} = useContext(DnDGridContext);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {deleteReport, updateReport, reportInsertCard, reportDeleteCard, reportUpdateCard} = useActions();\n    const descFieldRef = useRef();\n    const isMounted = useRef(false);\n    const [isShowStacksModal, setIsShowStacksModal] = useState(false);\n    const [activeTab, setActiveTab] = useState();\n    const [tabs, setTabs] = useState([]);\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const [filteredCards, setFilteredCards] = useState([]);\n    const setGridItems = cardsItems => setItems(cardsItems.map(card => ({id: card.index, card})));\n\n    const {data, mutate, error} = useSWR(\n        [\n            apiUrl + config.DASHBOARD_DETAILS(user, id),\n            dataFormat,\n        ],\n        dataFetcher,\n\n        {revalidateOnFocus: false}\n    );\n\n    const [isShowDesc, setIsShowDesc] = useState(Boolean(data?.description?.length));\n    const prevIsShowDesc = usePrevious(isShowDesc);\n\n    const prevData = usePrevious(data);\n\n    useEffect(() => {\n        if (!isEqual(prevData?.cards, data?.cards) || (data?.cards && !isMounted.current)) {\n            parseTabs();\n        }\n\n        if (prevData?.description !== data?.description)\n            setIsShowDesc(Boolean(data?.description?.length));\n    }, [data]);\n\n    useEffect(() => {\n        return () => {\n            setGridItems([]);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (filteredCards.length) {\n            setGridItems(filteredCards);\n            parseParams();\n        }\n    }, [filteredCards]);\n\n    useEffect(() => {\n        if (activeTab !== undefined)\n            filterCards();\n    }, [activeTab]);\n\n    useEffect(() => {\n        if (isMounted.current\n            && prevIsShowDesc !== isShowDesc\n            && descFieldRef.current && !data.description?.length)\n            descFieldRef.current.focus();\n    }, [isShowDesc]);\n\n    useEffect(() => {\n        isMounted.current = true;\n    }, []);\n\n    const getAllAttachments = cards => {\n        if (!cards)\n            cards = data?.cards;\n\n        if (!cards?.length)\n            return [];\n\n        return cards.reduce((result, card) => {\n            return result.concat(get(card, 'head.attachments', []));\n        }, []);\n    };\n\n    const parseParams = () => {\n        const fields = parseStackParams(getAllAttachments(filteredCards)) || {};\n\n        const defaultFilterValues = Object.keys(fields).reduce((result, fieldName) => {\n            if (fields[fieldName].type === 'select')\n                result[fieldName] = fields[fieldName].options[0].value;\n\n            if (fields[fieldName].type === 'slider') {\n                const key = Object.keys(fields[fieldName].options)[0];\n\n                result[fieldName] = fields[fieldName].options[key];\n            }\n\n            if (fields[fieldName].type === 'checkbox')\n                result[fieldName] = false;\n\n            return result;\n        }, {});\n\n        setForm(defaultFilterValues);\n        setFields(fields);\n    };\n\n    const parseTabs = () => {\n        const attachments = getAllAttachments();\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const tabs = parseStackTabs(attachments);\n        const hasOldTab = tabs.some(t => activeTab && t.value === activeTab);\n\n        const newActiveTab = hasOldTab ? activeTab : (tabs[0]?.value || null);\n\n\n        setTabs(tabs);\n        setActiveTab(newActiveTab);\n\n        if (newActiveTab === activeTab)\n            filterCards();\n    };\n\n    const filterCards = () => {\n        if (tabs.length && activeTab) {\n            const filteredCards = data.cards.filter(card => {\n                const attachments = get(card, 'head.attachments', []);\n\n                if (!attachments || !attachments.length)\n                    return true;\n\n                const tabs = parseStackTabs(attachments);\n                const tab = tabs.find(t => t.value === activeTab);\n\n                if (!tabs.length)\n                    return true;\n\n                return attachments.some(attach => {\n                    return (tab\n                        && (\n                            attach.params[tab.value]?.type === 'tab'\n                            || attach.params[tab.key]?.title === tab.value\n                        )\n                    );\n                });\n            });\n\n            setFilteredCards(filteredCards);\n        } else {\n            setFilteredCards(data.cards);\n        }\n    };\n\n    const onChangeTab = tabName => {\n        setActiveTab(tabName);\n    };\n\n    const update = async (params: {}) => {\n        await updateReport(user, id, params);\n    };\n\n    const debounceUpdateTitle = useDebounce(async fields => {\n        await update(fields);\n    }, 300);\n\n    const onChangeTitle = title => {\n        data.title = title;\n        mutate(data, false);\n        debounceUpdateTitle({title});\n    };\n\n    const debounceUpdateDescription = useDebounce(async fields => {\n        await update(fields);\n    }, 300);\n\n\n    const onChangeDescription = description => {\n        data.description = description;\n        mutate(data, false);\n        debounceUpdateDescription({description});\n    };\n\n    const onChangePrivate = async isPrivate => {\n        update({private: isPrivate})\n            .then(() => {\n                mutate({\n                    ...data,\n                    private: isPrivate,\n                }, false);\n            });\n    };\n\n    const addStacks = async stacks => {\n        const {dashboard: {cards}} = await reportInsertCard(\n            user,\n            id,\n            stacks.map(stack => ({stack})),\n            data?.cards?.length\n        );\n\n        const newCards = cards.filter(c => stacks.indexOf(c.stack) >= 0);\n\n        mutate({\n            ...data,\n            cards: data.cards.concat(newCards),\n        }, false);\n    };\n\n    const getDeleteCardFunc = stack => async () => {\n        await reportDeleteCard(\n            user,\n            id,\n            stack,\n        );\n\n        mutate({\n            ...data,\n            cards: data.cards.filter(c => c.stack !== stack),\n        }, false);\n    };\n\n    const updatePermissions = permissions => {\n        mutate({\n            ...data,\n            permissions,\n        }, false);\n    };\n\n    const getUpdatedCardFunc = stack => async fields => {\n        const {cards: newCards} = await reportUpdateCard(\n            user,\n            id,\n            stack,\n            fields\n        );\n\n        const updatedCard = newCards.find(i => i.stack === stack);\n\n        const index = data.cards.findIndex(i => i.stack === stack);\n\n        if (index >= 0)\n            Object.keys(fields).forEach(key => {\n                data.cards[index][key] = updatedCard[key];\n            });\n\n        mutate({...data}, false);\n    };\n\n    const moveCard = (indexFrom, indexTo) => {\n        if (indexTo < 0 || indexFrom < 0)\n            return;\n\n        const {stack} = items[indexFrom].card;\n\n        moveItem(indexFrom, indexTo);\n\n        reportUpdateCard(\n            user,\n            id,\n            stack,\n            {index: indexTo}\n        ).catch(console.log);\n    };\n\n    const deleteDashboard = async () => {\n        await deleteReport(user, id);\n        push(routes.reports(user));\n    };\n\n    const renderFilters = () => {\n        if (!Object.keys(fields).length)\n            return null;\n\n        const hasSelectField = Object.keys(fields).some(key => fields[key].type === 'select');\n\n        return (\n            <StackFilters\n                fields={fields}\n                form={form}\n                onChange={onChange}\n                className={cn(css.filters, {'with-select': hasSelectField})}\n            />\n        );\n    };\n\n    const toggleAddStackModal = event => {\n        if (event?.target)\n            event.preventDefault();\n\n        setIsShowStacksModal(isShow => !isShow);\n    };\n\n    const onBlurDescription = () => {\n        if (!data.description?.length)\n            setIsShowDesc(false);\n    };\n\n    const addDesc = () => setIsShowDesc(true);\n\n    if (error?.status === 403)\n        return <AccessForbidden>\n            {t('youDontHaveAnAccessToThisDashboard')}.\n\n            {isSignedIn() && (\n                <Fragment>\n                    <br />\n\n                    <Link to={routes.reports(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>\n                </Fragment>\n            )}\n        </AccessForbidden>;\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theDashboardYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.reports(currentUserName)}>\n                        {t('goToMyDashboards')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!data)\n        return <Loader />;\n\n    const isUserOwner = currentUserName === user;\n    const CardWrapComponent = isUserOwner ? DnDItem : Fragment;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={routes.reports(user)}\n                >\n                    {(currentUserName === user)\n                        ? t('backToDashboards')\n                        : t('backToDashboardsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={data.title || ''}\n                        onChange={onChangeTitle}\n                        readOnly={currentUserName !== data.user}\n                        placeholder={t('newDashboard')}\n                    />\n\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {data.private && (\n                    <PermissionUsers\n                        className={css.permissions}\n                        permissions={data.permissions}\n                    />\n                )}\n\n                <div className={css.sideHeader}>\n                    {isUserOwner && (\n                        <a\n                            className={css.addButton}\n                            onClick={toggleAddStackModal}\n                            href=\"#\"\n                        >\n                            <span className=\"mdi mdi-plus\" />\n                            {t('addStack')}\n                        </a>\n                    )}\n\n                    {isUserOwner && (\n                        <Share\n                            instancePath={`${user}/d/${data.id}`}\n                            onChangeAccessLevel={onChangePrivate}\n                            className={css.share}\n                            defaultIsPrivate={data.private}\n                            defaultPermissions={data.permissions}\n                            onUpdatePermissions={updatePermissions}\n                        />\n                    )}\n\n                    {isUserOwner && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                {\n                                    title: t('delete'),\n                                    onClick: deleteDashboard,\n                                },\n                            ]}\n                        >\n                            <Button\n                                className={css['dropdown-button']}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n                </div>\n            </div>\n\n            <div className={css.description}>\n                {isShowDesc && <StretchTextareaField\n                    value={data.description || ''}\n                    ref={descFieldRef}\n                    placeholder={t('description')}\n                    onChange={onChangeDescription}\n                    onBlur={onBlurDescription}\n                    readOnly={currentUserName !== data.user}\n                />}\n\n                {!isShowDesc && currentUserName === data.user && <Button\n                    className={css.addDesc}\n                    color=\"secondary\"\n                    onClick={addDesc}\n                >\n                    + {t('addDescription')}\n                </Button>}\n            </div>\n\n            {Boolean(tabs.length) && <StackTabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                items={tabs}\n            />}\n\n            {Boolean(items.length) && (\n                <div className={css.container}>\n                    <div className={css.section}>\n                        <div className={css.fields}>\n                            {renderFilters()}\n                        </div>\n                    </div>\n\n                    <div className={cn(css.cards)}>\n                        {items.map(item => (\n                            <CardWrapComponent\n                                key={item.card.stack}\n                                {...(isUserOwner ? {\n                                    id: item.id,\n                                    onMoveItem: moveCard,\n                                } : {})}\n                            >\n                                <Card\n                                    activeTab={activeTab}\n                                    filters={form}\n                                    deleteCard={isUserOwner && getDeleteCardFunc(item.card.stack)}\n                                    data={item.card}\n                                    updateCard={isUserOwner && getUpdatedCardFunc(item.card.stack)}\n                                    moveAvailable={isUserOwner}\n                                />\n                            </CardWrapComponent>\n                        ))}\n                    </div>\n                </div>\n            )}\n\n            {!items.length && !data?.cards && (\n                <div className={css.empty}>\n                    {t('thereAreNoStacksYet')} <br/>\n                    {t('youCanSendStacksYouWantToBeHereLaterOrAddItRightNow')}\n\n                    {isUserOwner && (\n                        <Fragment>\n                            {' '}\n\n                            <a\n                                className={css.addButton}\n                                onClick={toggleAddStackModal}\n                                href=\"#\"\n                            >{t('addStack')}</a>.\n                        </Fragment>\n                    )}\n                </div>\n            )}\n\n            <AddStacksModal\n                isShow={isShowStacksModal}\n                onClose={toggleAddStackModal}\n                onAddStacks={addStacks}\n            />\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport routes from '../routes';\nimport List from './List';\nimport Details from './Details';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Reports = ({}: Props) => {\n    return (\n        <div className={css.reports}>\n            <Switch>\n                <Route path={routes.reports()} exact component={List} />\n                <Route path={routes.reportsDetails()} component={Details} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default Reports;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../Button';\nimport {ReactComponent as Logo} from '../assets/logo.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n}\n\nconst Header = ({className}: Props) => {\n    const {t} = useTranslation();\n\n    return <div className={cx(css.header, className)}>\n        <Link to=\"/\" className={css.logo}>\n            <Logo />\n        </Link>\n\n        <div className={css.buttons}>\n            <Button\n                Component={Link}\n                to=\"/auth/login\"\n                className={css.button}\n                color=\"primary\"\n                variant=\"contained\"\n            >{t('logIn')}</Button>\n        </div>\n    </div>;\n};\n\nexport default Header;\n","import React from 'react';\nimport Header from './Header';\nimport css from './styles.module.css';\n\nconst UnAuthorizedLayout = ({children}) => {\n    return (\n        <div className={css.layout}>\n            <Header className={css.header} />\n\n            <div className={css.main}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default UnAuthorizedLayout;\n","import React, {Fragment, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport css from './style.module.css';\n\ntype Props = {\n    className?: string,\n    renderModalContent?: Function,\n}\n\nconst SettingsInformation = ({className, renderModalContent}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n\n    const toggleModal = () => setIsShowModal(value => !value);\n\n    return (\n        <Fragment>\n            <Button\n                className={cx(css.infoButton, className)}\n                size=\"small\"\n                color=\"secondary\"\n                onClick={toggleModal}\n            >\n                <span className=\"mdi mdi-information-outline\" />\n            </Button>\n\n            {renderModalContent && (\n                <Modal\n                    withCloseButton\n                    title={t('howToConnectYourDataWithDStack')}\n                    isShow={isShowModal}\n                    size=\"big\"\n                    onClose={toggleModal}\n                >\n                    {renderModalContent()}\n                </Modal>\n            )}\n        </Fragment>\n    );\n};\n\nexport default SettingsInformation;\n"],"names":["FETCH_CURRENT_USER","FETCH_CURRENT_USER_SUCCESS","FETCH_CURRENT_USER_FAIL","FETCH_CONFIG_INFO","FETCH_CONFIG_INFO_SUCCESS","FETCH_CONFIG_INFO_FAIL","START_PROGRESS","SET_PROGRESS","COMPLETE_PROGRESS","RESET_PROGRESS","initialState","currentUser","loading","data","configInfo","appProgress","active","value","reducer","state","action","type","actionsTypes","payload","StateContext","createContext","AppStoreProvider","children","apiUrl","React","useReducer","useAppStore","useContext","DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","SUPPORT_URL","SIGN_UP_URL","RESET_PASSWORD_URL","UPDATE_PASSWORD_URL","ADMIN_USERS_LIST","ADMIN_USERS_CREATE","ADMIN_USERS_EDIT","ADMIN_USERS_DELETE","ADMIN_USERS_RESET","USER_DATA_URL","CONFIG_INFO_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACK_LIST","USER_STACK_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","APPS_EXECUTE","APPS_POLL","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","JOB_LIST","JOB_DETAILS","JOB_CREATE","JOB_UPDATE","JOB_DELETE","JOB_RUN","JOB_STOP","PERMISSIONS_ADD","PERMISSIONS_DELETE","DISCORD_URL","TWITTER_URL","GITHUB_URL","BLOG_URL","TOKEN_STORAGE_KEY","reportModelPythonCode","reportPlotPythonCode","apiFabric","CancelToken","axios","instance","create","baseURL","crossDomain","cancelToken","interceptors","request","use","requestConfig","token","localStorage","getItem","config","headers","Authorization","response","error","_get","Promise","reject","AccessForbidden","css","forbidden","Lock","message","Avatar","forwardRef","className","name","color","size","withBorder","onClick","ref","cx","avatar","border","slice","BackButton","Component","props","back","COLORS","white","blue","Spinner","isShown","align","spinner","show","Button","variant","fullWidth","isShowSpinner","button","CheckboxField","disabled","appearance","label","onLabel","offLabel","checkbox","__html","wrapper","mark","Copy","copyText","successMessage","buttonTitle","t","useTranslation","isShowMessage","setIsShowMessage","useState","onCLick","copy","setTimeout","icon","margin","undefined","CodeViewer","language","fontSize","code","Dropdown","buttonClassName","items","isShow","setIsShow","buttonRef","useRef","dropdownRef","useEffect","document","body","addEventListener","outlineClickHandle","removeEventListener","event","targetElement","target","current","parentNode","onCLickButton","clickStopPropagation","stopPropagation","preventDefault","onCLickItem","item","dropdown","offset","menu","map","i","index","title","cloneElement","unicodeBase64Decode","text","decodeData","window","atob","decodeURIComponent","Array","prototype","call","c","charCodeAt","toString","join","e","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","attachments","tab","fields","length","forEach","Object","keys","params","key","options","push","uniq","filter","a","b","indexOf","min","apply","max","tabs","find","duration","string","momentDuration","moment","hours","minutes","seconds","as","asSeconds","application","contentType","test","fileToBase64","file","resolve","reader","FileReader","readAsDataURL","onload","result","split","onerror","fetcher","url","responseDataFormat","errorBody","status","JSON","parse","console","Error","info","typeMap","views","isArray","view","long","enabled","selected","titles","multiple","isSignedIn","Boolean","FileDragnDrop","formats","progressPercent","onChange","inputRef","setActive","selectedFile","setSelectedFile","isDidMount","useImperativeHandle","clear","removeFile","click","preventStop","onDrop","dataTransfer","files","checkAvailableExtension","onDragEnter","onDragLeave","onChangeInput","ext","pop","isAvailable","some","format","dnd","progressBar","progress","width","fileWrapper","fileExtend","fileSection","fileName","fileSize","fileRemove","placeholder","Loader","loader","grid","pic","section","MarkdownRender","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","Modal","dialogClassName","titleClassName","onClose","withCloseButton","onClickByLayer","currentTarget","modal","dialog","close","NotFound","NotFoundIcon","help","ProgressBar","isActive","globalProgress","setProgress","setWidth","prevIsActive","usePrevious","step","currentProgress","requestFrame","isActiveRef","startCalculateProgress","cancelAnimationFrame","onResize","offsetWidth","calculateProgress","round","atan","PI","requestAnimationFrame","bar","backgroundSize","validateValue","TextField","errors","restValue","restOnChange","setValue","hasErrors","field","input","SearchField","showEverything","isDark","onChangeHandle","search","allValue","SelectField","propValue","mode","showSearch","o","onSelect","onDeselect","renderOptions","CustomHandle","style","left","transform","SliderField","slider","TextAreaField","textarea","StackFilters","form","onApply","isSidebar","filters","sidebar","select","switcher","buttons","StretchTitleField","onChangeProp","set","hidden","StretchTextAreaField","fieldWrap","Tabs","currentTabValue","tabComponent","getOnClickTab","soon","rest","Tooltip","overlayContent","arrowContent","placement","trigger","overlayStyle","pointerEvents","tooltip","ViewSwitcher","stateValue","setStateValue","toggleValue","newValue","Yield","node","getElementById","Table","captions","rows","table","caption","row","cell","isImageType","base64ToJSON","base64","parsedJSON","base64ImagePrefixes","View","attachment","fullAttachment","isList","requestStatus","viewRef","tableScale","setTableScale","viewWidth","setVieWidth","noRender","setNoRender","onResizeCard","containerWidth","parentElement","newScale","Bokeh","json","version","get","parseInt","querySelector","embed","embed_item","renderImage","preview","renderCSV","decodeCSV","CSV","renderPlotly","layout","autosize","responsive","height","renderMl","pullPythonCode","p","isString","description","footer","href","renderBokeh","renderAttachment","isEqual","areEqual","prevProps","nextProps","memo","callBack","rootMargin","threshold","root","deps","intersectionCallback","useCallback","isIntersecting","observer","IntersectionObserver","observe","unobserve","FETCH","FETCH_SUCCESS","FETCH_FAIL","meta","StateProvider","useStateValue","dispatch","fetchAttachment","onSuccess","Attachment","withLoader","customData","actions","loadingFullAttachment","setLoadingFullAttachment","setFullAttachment","prevAttachment","fetchFullAttachment","baseUrl","useIntersectionObserver","PermissionUsers","permissions","maxLength","owner","list","user","email","count","Item","deleteAction","onClickDelete","renderIcon","head","content_type","category","getStackCategory","ChartIcon","TableIcon","MLIcon","AppIcon","cn","top","private","date","timestamp","delete","notFound","auth","authLogin","verifyUser","authSignUp","authForgetPassword","authResetPassword","confirmEmailMessage","stacks","userStacks","categoryStacks","categoryUserStacks","stackDetails","reports","reportsDetails","jobs","jobsDetails","settings","accountSettings","usersSettings","List","deleteStack","categoryMap","applications","models","deletingStack","setDeletingStack","isShowWelcomeModal","setIsShowWelcomeModal","setSearch","isInitialMount","showWelcomeModal","onChangeSearch","hideWelcomeModal","setItem","deleteItem","hideDeleteConfirmation","showDeleteConfirmation","getItems","filteredItems","stackCategory","header","headerSide","itemList","fill","loadingItem","StackListItem","Link","routes","HowTo","modalMode","configurePythonCommand","howto","handler","listener","contains","getFrameName","frame","Frames","frames","headId","onMarkAsHead","isShowDropdown","setIsShowDropdown","toggleDropdown","frameForMarkingAsHead","setFrameForMarkingAsHead","useOnClickOutside","activeFrame","f","onClickItem","onClickMarkAsHead","hideConfirmation","confirmMarkFrameAsHead","callback","depsOrDelay","delay","_debounce","isEmail","isRequired","noSpaces","isValidStackName","isValidEmail","mail","invalidEmailAddress","isValid","api","checkUser","addPermissions","instancePath","path","post","removePermissions","Share","accessLevel","initialAccessLevel","defaultPermissions","onChangeAccessLevel","urlParams","onUpdatePermissions","stackName","userExists","setUserExists","setIsEmail","setAccessLevel","setPermissions","setLoading","isShowModal","setIsShowModal","setUserName","useActions","toggleModal","dropdownOptionsMap","public","internal","checkUserName","useDebounce","then","exists","catch","onChangeDropdown","onChangeUserName","submitInvite","userHasPermission","addUser","onKeyPressUserName","which","keyCode","newPermissions","concat","finally","removeUser","renderUser","userPic","userDelete","userMessage","userMessageSuccess","searchString","useMemo","reduce","origin","location","desktopButton","mobileButton","copyAndDropdown","link","separator","dropdownButton","content","invite","inviteField","checkUserMessage","success","fail","secondary","inviteButton","users","diagram","EmptyMessage","onAdd","Readme","onUpdate","currentUserName","textareaRef","readme","isEdit","setIsEdit","focus","setSelectionRange","scrollTop","scrollHeight","edit","cancel","save","onAddReadme","container","emptyMessage","validationMap","required","getValidationFunction","validator","initialFormState","fieldsValidators","setForm","formErrors","setFormErrors","eventOrName","fieldValue","checked","resetForm","getFieldErrors","fieldName","checkValidForm","newFormErrors","Details","currentFrameId","onChangeHeadFrame","attachmentIndex","onChangeAttachmentIndex","downloadAttachment","onChangeFrame","onUpdateReadme","backUrl","changeAccessLevel","updatePermissions","didMountRef","useForm","activeTab","setActiveTab","setFields","setTabs","prevFrame","parseTabs","findAttach","tabName","attach","valid","findAttachDebounce","parseParams","getCurrentAttachment","selectedTab","parseStackTabs","parseStackParams","onChangeTab","details","backButton","sideHeader","share","withFilters","StackAttachment","side","Progress","percent","executeStack","pollStack","REFRESH_INTERVAL","STATUSES","freeze","READY","SCHEDULED","RUNNING","FINISHED","FAILED","executionId","onChangeExecutionId","logsExpand","setExpandLogs","executeData","setExecuteData","executing","setExecuting","calculating","setCalculating","setError","appAttachment","setAppAttachment","isScheduled","setIsScheduled","getFormFromViews","setActiveExecutionId","tabIndex","findIndex","updateExecuteData","parseStackViews","lastUpdate","Date","now","hasApplyButton","submit","checkFinished","isUpdateData","output","logs","withSidebar","FilterLoader","filterLoader","logsButton","open","fromAgo","fromNow","MB","Upload","refresh","withButton","uploading","setUploading","setFile","runValidation","closeHandle","getErrorsText","v4","fileToBaseTo64","method","put","onUploadProgress","progressEvent","percentCompleted","loaded","total","upload","subtitle","dragndrop","fileFieldRef","clearForm","UploadStack","withFileUpload","activeCodeTab","setActiveCodeTab","activePublishTab","setActivePublishTab","publishTabs","fetchJob","runJob","stopJob","createJob","updateJob","removeJob","JOB_DEFAULT_ESTIMATED_DURATION","calculateJobProgress","job","estimatedDuration","currentDuration","started","leftDuration","onlyDuration","progressTimer","clearInterval","setInterval","time","getFormattedDuration","REFRESH_TIMEOUT","dataFormat","TableRow","onClickRow","onEdit","onDelete","useParams","refreshInterval","setRefreshInterval","jobData","mutate","useSWR","dataFetcher","initialData","revalidateOnFocus","rowClick","onRun","onStop","getTitle","renderStatus","toLowerCase","red","runtime","finished","useHistory","lastRuntime","getOnRemove","j","mobileSearch","tableWrap","tableCaptions","tableCell","startAppProgress","setAppProgress","completeAppProgress","resetAppProgress","timeout","ScheduleSettings","onChangeRuntime","messageRef","scheduleType","setScheduleType","schedule","scheduleTime","setScheduleTime","nextRunDelay","setNextRunDelay","runtimeChange","scheduleTypeChange","scheduleTimeChange","runTime","getHours","add","toDate","getTime","classList","clearTimeout","remove","CodeEditor","saved","successMessageRef","lines","match","lineNos","editor","scroll","lineNumbers","highlight","languages","fontFamily","lineHeight","outline","Status","Logs","setIsShown","updated","toggleShow","text1","text2","useAppProgress","titleValue","setTitleValue","setCode","running","setRunning","stopping","setStopping","codeSaved","setCodeSaved","update","updateDebounce","updateLongDebounce","prevData","detectEnterPress","shiftKey","ctrlKey","onClickRun","onChangeTitle","onChangeCode","onChangeSchedule","onClickStop","dashboards","codeEditor","Jobs","renderContent","hasStacks","cards","card","previewWrap","by","createReport","updateReport","deleteReport","reportId","reportInsertCard","dashboard","reportUpdateCard","reportDeleteCard","creating","setCreating","getDeleteFunc","r","ListItem","move","array","oldIndex","newIndex","splice","moveElement","GridContext","GridProvider","constructor","setItems","setState","moveItem","sourceId","destinationId","sourceIndex","destinationIndex","render","AddStacksModal","onAddStacks","searchQuery","setSearchQuery","setSelected","getFullStackName","isChecked","getOnClickStack","filtered","isUserOwner","viewValueMap","Card","deleteCard","updateCard","forwardedRef","moveAvailable","setTitle","columns","setColumns","descFieldRef","isMounted","isHoveredMoveBtn","isShowDesc","setIsShowDesc","prevIsShowDesc","stackOwner","setAttachmentIndex","cardParams","setCardParams","onChangeView","onChangeDescription","onEnterMove","onLeaveMove","onBlurDescription","addDesc","inner","readonly","nameValue","nameEdit","infoTime","cardControls","viewSwitcher","StretchTextareaField","DnDItem","onMoveItem","connectDrag","useDrag","collect","monitor","isDragging","connectDrop","useDrop","accept","drop","hoveredOverItem","Children","child","DnDGridContext","isShowStacksModal","setIsShowStacksModal","filteredCards","setFilteredCards","setGridItems","cardsItems","filterCards","getAllAttachments","defaultFilterValues","hasOldTab","newActiveTab","debounceUpdateTitle","debounceUpdateDescription","onChangePrivate","isPrivate","addStacks","newCards","getDeleteCardFunc","getUpdatedCardFunc","updatedCard","moveCard","indexFrom","indexTo","deleteDashboard","renderFilters","hasSelectField","toggleAddStackModal","CardWrapComponent","Fragment","addButton","StackTabs","empty","Reports","Header","logo","Logo","UnAuthorizedLayout","main","SettingsInformation","renderModalContent","infoButton"],"mappings":"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"}